function HR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cb={exports:{}},Td={},Sb={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),VR=Symbol.for("react.portal"),GR=Symbol.for("react.fragment"),zR=Symbol.for("react.strict_mode"),jR=Symbol.for("react.profiler"),WR=Symbol.for("react.provider"),UR=Symbol.for("react.context"),$R=Symbol.for("react.forward_ref"),KR=Symbol.for("react.suspense"),qR=Symbol.for("react.memo"),XR=Symbol.for("react.lazy"),bv=Symbol.iterator;function YR(e){return e===null||typeof e!="object"?null:(e=bv&&e[bv]||e["@@iterator"],typeof e=="function"?e:null)}var xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Eb={};function ga(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||xb}ga.prototype.isReactComponent={};ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kb(){}kb.prototype=ga.prototype;function Sg(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||xb}var xg=Sg.prototype=new kb;xg.constructor=Sg;Rb(xg,ga.prototype);xg.isPureReactComponent=!0;var yv=Array.isArray,Fb=Object.prototype.hasOwnProperty,Rg={current:null},Pb={key:!0,ref:!0,__self:!0,__source:!0};function Mb(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Fb.call(t,n)&&!Pb.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Xl,type:e,key:s,ref:o,props:i,_owner:Rg.current}}function ZR(e,t){return{$$typeof:Xl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xl}function QR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cv=/\/+/g;function ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QR(""+e.key):t.toString(36)}function tu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xl:case VR:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+ph(o,0):n,yv(i)?(r="",e!=null&&(r=e.replace(Cv,"$&/")+"/"),tu(i,t,r,"",function(c){return c})):i!=null&&(Eg(i)&&(i=ZR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",yv(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+ph(s,a);o+=tu(s,t,r,l,i)}else if(l=YR(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+ph(s,a++),o+=tu(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vc(e,t,r){if(e==null)return e;var n=[],i=0;return tu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function JR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dr={current:null},ru={transition:null},eE={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:ru,ReactCurrentOwner:Rg};function Tb(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:vc,forEach:function(e,t,r){vc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vc(e,function(){t++}),t},toArray:function(e){return vc(e,function(t){return t})||[]},only:function(e){if(!Eg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=ga;dt.Fragment=GR;dt.Profiler=jR;dt.PureComponent=Sg;dt.StrictMode=zR;dt.Suspense=KR;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eE;dt.act=Tb;dt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Rb({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Rg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Fb.call(t,l)&&!Pb.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Xl,type:e.type,key:i,ref:s,props:n,_owner:o}};dt.createContext=function(e){return e={$$typeof:UR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WR,_context:e},e.Consumer=e};dt.createElement=Mb;dt.createFactory=function(e){var t=Mb.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:$R,render:e}};dt.isValidElement=Eg;dt.lazy=function(e){return{$$typeof:XR,_payload:{_status:-1,_result:e},_init:JR}};dt.memo=function(e,t){return{$$typeof:qR,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=ru.transition;ru.transition={};try{e()}finally{ru.transition=t}};dt.unstable_act=Tb;dt.useCallback=function(e,t){return Dr.current.useCallback(e,t)};dt.useContext=function(e){return Dr.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Dr.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Dr.current.useEffect(e,t)};dt.useId=function(){return Dr.current.useId()};dt.useImperativeHandle=function(e,t,r){return Dr.current.useImperativeHandle(e,t,r)};dt.useInsertionEffect=function(e,t){return Dr.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Dr.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Dr.current.useMemo(e,t)};dt.useReducer=function(e,t,r){return Dr.current.useReducer(e,t,r)};dt.useRef=function(e){return Dr.current.useRef(e)};dt.useState=function(e){return Dr.current.useState(e)};dt.useSyncExternalStore=function(e,t,r){return Dr.current.useSyncExternalStore(e,t,r)};dt.useTransition=function(){return Dr.current.useTransition()};dt.version="18.3.1";Sb.exports=dt;var U=Sb.exports;const ye=yb(U),_b=HR({__proto__:null,default:ye},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=U,rE=Symbol.for("react.element"),nE=Symbol.for("react.fragment"),iE=Object.prototype.hasOwnProperty,sE=tE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oE={key:!0,ref:!0,__self:!0,__source:!0};function Ab(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)iE.call(t,n)&&!oE.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:rE,type:e,key:s,ref:o,props:i,_owner:sE.current}}Td.Fragment=nE;Td.jsx=Ab;Td.jsxs=Ab;Cb.exports=Td;var J=Cb.exports,Db={exports:{}},tn={},Ib={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,x){var F=C.length;C.push(x);e:for(;0<F;){var O=F-1>>>1,N=C[O];if(0<i(N,x))C[O]=x,C[F]=N,F=O;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var x=C[0],F=C.pop();if(F!==x){C[0]=F;e:for(var O=0,N=C.length,j=N>>>1;O<j;){var W=2*(O+1)-1,q=C[W],V=W+1,$=C[V];if(0>i(q,F))V<N&&0>i($,q)?(C[O]=$,C[V]=F,O=V):(C[O]=q,C[W]=F,O=W);else if(V<N&&0>i($,F))C[O]=$,C[V]=F,O=V;else break e}}return x}function i(C,x){var F=C.sortIndex-x.sortIndex;return F!==0?F:C.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(C){for(var x=r(c);x!==null;){if(x.callback===null)n(c);else if(x.startTime<=C)n(c),x.sortIndex=x.expirationTime,t(l,x);else break;x=r(c)}}function E(C){if(m=!1,b(C),!p)if(r(l)!==null)p=!0,y(P);else{var x=r(c);x!==null&&S(E,x.startTime-C)}}function P(C,x){p=!1,m&&(m=!1,w(T),T=-1),f=!0;var F=d;try{for(b(x),h=r(l);h!==null&&(!(h.expirationTime>x)||C&&!G());){var O=h.callback;if(typeof O=="function"){h.callback=null,d=h.priorityLevel;var N=O(h.expirationTime<=x);x=e.unstable_now(),typeof N=="function"?h.callback=N:h===r(l)&&n(l),b(x)}else n(l);h=r(l)}if(h!==null)var j=!0;else{var W=r(c);W!==null&&S(E,W.startTime-x),j=!1}return j}finally{h=null,d=F,f=!1}}var A=!1,L=null,T=-1,B=5,H=-1;function G(){return!(e.unstable_now()-H<B)}function D(){if(L!==null){var C=e.unstable_now();H=C;var x=!0;try{x=L(!0,C)}finally{x?k():(A=!1,L=null)}}else A=!1}var k;if(typeof v=="function")k=function(){v(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,R=M.port2;M.port1.onmessage=D,k=function(){R.postMessage(null)}}else k=function(){g(D,0)};function y(C){L=C,A||(A=!0,k())}function S(C,x){T=g(function(){C(e.unstable_now())},x)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,y(P))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var x=3;break;default:x=d}var F=d;d=x;try{return C()}finally{d=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,x){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=d;d=C;try{return x()}finally{d=F}},e.unstable_scheduleCallback=function(C,x,F){var O=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,C){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=F+N,C={id:u++,callback:x,priorityLevel:C,startTime:F,expirationTime:N,sortIndex:-1},F>O?(C.sortIndex=F,t(c,C),r(l)===null&&C===r(c)&&(m?(w(T),T=-1):m=!0,S(E,F-O))):(C.sortIndex=N,t(l,C),p||f||(p=!0,y(P))),C},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(C){var x=d;return function(){var F=d;d=x;try{return C.apply(this,arguments)}finally{d=F}}}})(Ob);Ib.exports=Ob;var aE=Ib.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE=U,Jr=aE;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lb=new Set,pl={};function Qs(e,t){ta(e,t),ta(e+"Capture",t)}function ta(e,t){for(pl[e]=t,e=0;e<t.length;e++)Lb.add(t[e])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,cE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sv={},xv={};function uE(e){return _f.call(xv,e)?!0:_f.call(Sv,e)?!1:cE.test(e)?xv[e]=!0:(Sv[e]=!0,!1)}function dE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hE(e,t,r,n){if(t===null||typeof t>"u"||dE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ir(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new Ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new Ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new Ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new Ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new Ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new Ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new Ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new Ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new Ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var kg=/[\-:]([a-z])/g;function Fg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kg,Fg);br[t]=new Ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kg,Fg);br[t]=new Ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kg,Fg);br[t]=new Ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new Ir(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new Ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pg(e,t,r,n){var i=br.hasOwnProperty(t)?br[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hE(t,r,i,n)&&(r=null),n||i===null?uE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Si=lE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),So=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),Hb=Symbol.for("react.offscreen"),Rv=Symbol.iterator;function Ma(e){return e===null||typeof e!="object"?null:(e=Rv&&e[Rv]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,gh;function za(e){if(gh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gh=t&&t[1]||""}return`
`+gh+e}var mh=!1;function vh(e,t){if(!e||mh)return"";mh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{mh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?za(e):""}function fE(e){switch(e.tag){case 5:return za(e.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return e=vh(e.type,!1),e;case 11:return e=vh(e.type.render,!1),e;case 1:return e=vh(e.type,!0),e;default:return""}}function Of(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xo:return"Fragment";case So:return"Portal";case Af:return"Profiler";case Mg:return"StrictMode";case Df:return"Suspense";case If:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bb:return(e.displayName||"Context")+".Consumer";case Nb:return(e._context.displayName||"Context")+".Provider";case Tg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _g:return t=e.displayName||null,t!==null?t:Of(e.type)||"Memo";case Oi:t=e._payload,e=e._init;try{return Of(e(t))}catch{}}return null}function pE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Of(t);case 8:return t===Mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gE(e){var t=Vb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bc(e){e._valueTracker||(e._valueTracker=gE(e))}function Gb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Vb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lf(e,t){var r=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ev(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ji(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zb(e,t){t=t.checked,t!=null&&Pg(e,"checked",t,!1)}function Nf(e,t){zb(e,t);var r=Ji(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bf(e,t.type,Ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bf(e,t,r){(t!=="number"||Pu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ja=Array.isArray;function Lo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ji(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(ja(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ji(r)}}function jb(e,t){var r=Ji(t.value),n=Ji(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yc,Ub=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yc=yc||document.createElement("div"),yc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mE=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(e){mE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ya[t]=Ya[e]})});function $b(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ya.hasOwnProperty(e)&&Ya[e]?(""+t).trim():t+"px"}function Kb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$b(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var vE=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gf(e,t){if(t){if(vE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function zf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function Ag(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wf=null,No=null,Bo=null;function Mv(e){if(e=Ql(e)){if(typeof Wf!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=Od(t),Wf(e.stateNode,e.type,t))}}function qb(e){No?Bo?Bo.push(e):Bo=[e]:No=e}function Xb(){if(No){var e=No,t=Bo;if(Bo=No=null,Mv(e),t)for(e=0;e<t.length;e++)Mv(t[e])}}function Yb(e,t){return e(t)}function Zb(){}var wh=!1;function Qb(e,t,r){if(wh)return e(t,r);wh=!0;try{return Yb(e,t,r)}finally{wh=!1,(No!==null||Bo!==null)&&(Zb(),Xb())}}function ml(e,t){var r=e.stateNode;if(r===null)return null;var n=Od(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var Uf=!1;if(pi)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Uf=!1}function wE(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Za=!1,Mu=null,Tu=!1,$f=null,bE={onError:function(e){Za=!0,Mu=e}};function yE(e,t,r,n,i,s,o,a,l){Za=!1,Mu=null,wE.apply(bE,arguments)}function CE(e,t,r,n,i,s,o,a,l){if(yE.apply(this,arguments),Za){if(Za){var c=Mu;Za=!1,Mu=null}else throw Error(Se(198));Tu||(Tu=!0,$f=c)}}function Js(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tv(e){if(Js(e)!==e)throw Error(Se(188))}function SE(e){var t=e.alternate;if(!t){if(t=Js(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Tv(i),e;if(s===n)return Tv(i),t;s=s.sibling}throw Error(Se(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function ey(e){return e=SE(e),e!==null?ty(e):null}function ty(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ty(e);if(t!==null)return t;e=e.sibling}return null}var ry=Jr.unstable_scheduleCallback,_v=Jr.unstable_cancelCallback,xE=Jr.unstable_shouldYield,RE=Jr.unstable_requestPaint,Qt=Jr.unstable_now,EE=Jr.unstable_getCurrentPriorityLevel,Dg=Jr.unstable_ImmediatePriority,ny=Jr.unstable_UserBlockingPriority,_u=Jr.unstable_NormalPriority,kE=Jr.unstable_LowPriority,iy=Jr.unstable_IdlePriority,_d=null,Wn=null;function FE(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(_d,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:TE,PE=Math.log,ME=Math.LN2;function TE(e){return e>>>=0,e===0?32:31-(PE(e)/ME|0)|0}var Cc=64,Sc=4194304;function Wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Au(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Wa(a):(s&=o,s!==0&&(n=Wa(s)))}else o=r&~i,o!==0?n=Wa(o):s!==0&&(n=Wa(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-kn(t),i=1<<r,n|=e[r],t&=~i;return n}function _E(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=_E(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Kf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sy(){var e=Cc;return Cc<<=1,!(Cc&4194240)&&(Cc=64),e}function bh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=r}function DE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-kn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Ig(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-kn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _t=0;function oy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ay,Og,ly,cy,uy,qf=!1,xc=[],ji=null,Wi=null,Ui=null,vl=new Map,wl=new Map,Bi=[],IE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Av(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(t.pointerId)}}function _a(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ql(t),t!==null&&Og(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function OE(e,t,r,n,i){switch(t){case"focusin":return ji=_a(ji,e,t,r,n,i),!0;case"dragenter":return Wi=_a(Wi,e,t,r,n,i),!0;case"mouseover":return Ui=_a(Ui,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return vl.set(s,_a(vl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,wl.set(s,_a(wl.get(s)||null,e,t,r,n,i)),!0}return!1}function dy(e){var t=Ss(e.target);if(t!==null){var r=Js(t);if(r!==null){if(t=r.tag,t===13){if(t=Jb(r),t!==null){e.blockedOn=t,uy(e.priority,function(){ly(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jf=n,r.target.dispatchEvent(n),jf=null}else return t=Ql(r),t!==null&&Og(t),e.blockedOn=r,!1;t.shift()}return!0}function Dv(e,t,r){nu(e)&&r.delete(t)}function LE(){qf=!1,ji!==null&&nu(ji)&&(ji=null),Wi!==null&&nu(Wi)&&(Wi=null),Ui!==null&&nu(Ui)&&(Ui=null),vl.forEach(Dv),wl.forEach(Dv)}function Aa(e,t){e.blockedOn===t&&(e.blockedOn=null,qf||(qf=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,LE)))}function bl(e){function t(i){return Aa(i,e)}if(0<xc.length){Aa(xc[0],e);for(var r=1;r<xc.length;r++){var n=xc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ji!==null&&Aa(ji,e),Wi!==null&&Aa(Wi,e),Ui!==null&&Aa(Ui,e),vl.forEach(t),wl.forEach(t),r=0;r<Bi.length;r++)n=Bi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)dy(r),r.blockedOn===null&&Bi.shift()}var Ho=Si.ReactCurrentBatchConfig,Du=!0;function NE(e,t,r,n){var i=_t,s=Ho.transition;Ho.transition=null;try{_t=1,Lg(e,t,r,n)}finally{_t=i,Ho.transition=s}}function BE(e,t,r,n){var i=_t,s=Ho.transition;Ho.transition=null;try{_t=4,Lg(e,t,r,n)}finally{_t=i,Ho.transition=s}}function Lg(e,t,r,n){if(Du){var i=Xf(e,t,r,n);if(i===null)Mh(e,t,n,Iu,r),Av(e,n);else if(OE(i,e,t,r,n))n.stopPropagation();else if(Av(e,n),t&4&&-1<IE.indexOf(e)){for(;i!==null;){var s=Ql(i);if(s!==null&&ay(s),s=Xf(e,t,r,n),s===null&&Mh(e,t,n,Iu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Mh(e,t,n,null,r)}}var Iu=null;function Xf(e,t,r,n){if(Iu=null,e=Ag(n),e=Ss(e),e!==null)if(t=Js(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Iu=e,null}function hy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EE()){case Dg:return 1;case ny:return 4;case _u:case kE:return 16;case iy:return 536870912;default:return 16}default:return 16}}var Gi=null,Ng=null,iu=null;function fy(){if(iu)return iu;var e,t=Ng,r=t.length,n,i="value"in Gi?Gi.value:Gi.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return iu=i.slice(e,1<n?1-n:void 0)}function su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rc(){return!0}function Iv(){return!1}function rn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rc:Iv,this.isPropagationStopped=Iv,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=rn(ma),Zl=$t({},ma,{view:0,detail:0}),HE=rn(Zl),yh,Ch,Da,Ad=$t({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&e.type==="mousemove"?(yh=e.screenX-Da.screenX,Ch=e.screenY-Da.screenY):Ch=yh=0,Da=e),yh)},movementY:function(e){return"movementY"in e?e.movementY:Ch}}),Ov=rn(Ad),VE=$t({},Ad,{dataTransfer:0}),GE=rn(VE),zE=$t({},Zl,{relatedTarget:0}),Sh=rn(zE),jE=$t({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),WE=rn(jE),UE=$t({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$E=rn(UE),KE=$t({},ma,{data:0}),Lv=rn(KE),qE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YE[e])?!!t[e]:!1}function Hg(){return ZE}var QE=$t({},Zl,{key:function(e){if(e.key){var t=qE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hg,charCode:function(e){return e.type==="keypress"?su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JE=rn(QE),e3=$t({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nv=rn(e3),t3=$t({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hg}),r3=rn(t3),n3=$t({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),i3=rn(n3),s3=$t({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o3=rn(s3),a3=[9,13,27,32],Vg=pi&&"CompositionEvent"in window,Qa=null;pi&&"documentMode"in document&&(Qa=document.documentMode);var l3=pi&&"TextEvent"in window&&!Qa,py=pi&&(!Vg||Qa&&8<Qa&&11>=Qa),Bv=" ",Hv=!1;function gy(e,t){switch(e){case"keyup":return a3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function c3(e,t){switch(e){case"compositionend":return my(t);case"keypress":return t.which!==32?null:(Hv=!0,Bv);case"textInput":return e=t.data,e===Bv&&Hv?null:e;default:return null}}function u3(e,t){if(Ro)return e==="compositionend"||!Vg&&gy(e,t)?(e=fy(),iu=Ng=Gi=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return py&&t.locale!=="ko"?null:t.data;default:return null}}var d3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d3[e.type]:t==="textarea"}function vy(e,t,r,n){qb(n),t=Ou(t,"onChange"),0<t.length&&(r=new Bg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ja=null,yl=null;function h3(e){Py(e,0)}function Dd(e){var t=Fo(e);if(Gb(t))return e}function f3(e,t){if(e==="change")return t}var wy=!1;if(pi){var xh;if(pi){var Rh="oninput"in document;if(!Rh){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),Rh=typeof Gv.oninput=="function"}xh=Rh}else xh=!1;wy=xh&&(!document.documentMode||9<document.documentMode)}function zv(){Ja&&(Ja.detachEvent("onpropertychange",by),yl=Ja=null)}function by(e){if(e.propertyName==="value"&&Dd(yl)){var t=[];vy(t,yl,e,Ag(e)),Qb(h3,t)}}function p3(e,t,r){e==="focusin"?(zv(),Ja=t,yl=r,Ja.attachEvent("onpropertychange",by)):e==="focusout"&&zv()}function g3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dd(yl)}function m3(e,t){if(e==="click")return Dd(t)}function v3(e,t){if(e==="input"||e==="change")return Dd(t)}function w3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:w3;function Cl(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!_f.call(t,i)||!Mn(e[i],t[i]))return!1}return!0}function jv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wv(e,t){var r=jv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jv(r)}}function yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cy(){for(var e=window,t=Pu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pu(e.document)}return t}function Gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b3(e){var t=Cy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yy(r.ownerDocument.documentElement,r)){if(n!==null&&Gg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Wv(r,s);var o=Wv(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y3=pi&&"documentMode"in document&&11>=document.documentMode,Eo=null,Yf=null,el=null,Zf=!1;function Uv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zf||Eo==null||Eo!==Pu(n)||(n=Eo,"selectionStart"in n&&Gg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),el&&Cl(el,n)||(el=n,n=Ou(Yf,"onSelect"),0<n.length&&(t=new Bg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Eo)))}function Ec(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ko={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},Eh={},Sy={};pi&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Id(e){if(Eh[e])return Eh[e];if(!ko[e])return e;var t=ko[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sy)return Eh[e]=t[r];return e}var xy=Id("animationend"),Ry=Id("animationiteration"),Ey=Id("animationstart"),ky=Id("transitionend"),Fy=new Map,$v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){Fy.set(e,t),Qs(t,[e])}for(var kh=0;kh<$v.length;kh++){var Fh=$v[kh],C3=Fh.toLowerCase(),S3=Fh[0].toUpperCase()+Fh.slice(1);as(C3,"on"+S3)}as(xy,"onAnimationEnd");as(Ry,"onAnimationIteration");as(Ey,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(ky,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function Kv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,CE(n,t,void 0,e),e.currentTarget=null}function Py(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Kv(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Kv(i,a,c),s=l}}}if(Tu)throw e=$f,Tu=!1,$f=null,e}function Nt(e,t){var r=t[rp];r===void 0&&(r=t[rp]=new Set);var n=e+"__bubble";r.has(n)||(My(t,e,2,!1),r.add(n))}function Ph(e,t,r){var n=0;t&&(n|=4),My(r,e,n,t)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[kc]){e[kc]=!0,Lb.forEach(function(r){r!=="selectionchange"&&(x3.has(r)||Ph(r,!1,e),Ph(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kc]||(t[kc]=!0,Ph("selectionchange",!1,t))}}function My(e,t,r,n){switch(hy(t)){case 1:var i=NE;break;case 4:i=BE;break;default:i=Lg}r=i.bind(null,t,r,e),i=void 0,!Uf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Mh(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Qb(function(){var c=s,u=Ag(r),h=[];e:{var d=Fy.get(e);if(d!==void 0){var f=Bg,p=e;switch(e){case"keypress":if(su(r)===0)break e;case"keydown":case"keyup":f=JE;break;case"focusin":p="focus",f=Sh;break;case"focusout":p="blur",f=Sh;break;case"beforeblur":case"afterblur":f=Sh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=r3;break;case xy:case Ry:case Ey:f=WE;break;case ky:f=i3;break;case"scroll":f=HE;break;case"wheel":f=o3;break;case"copy":case"cut":case"paste":f=$E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Nv}var m=(t&4)!==0,g=!m&&e==="scroll",w=m?d!==null?d+"Capture":null:d;m=[];for(var v=c,b;v!==null;){b=v;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,w!==null&&(E=ml(v,w),E!=null&&m.push(xl(v,E,b)))),g)break;v=v.return}0<m.length&&(d=new f(d,p,null,r,u),h.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&r!==jf&&(p=r.relatedTarget||r.fromElement)&&(Ss(p)||p[gi]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?Ss(p):null,p!==null&&(g=Js(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=Ov,E="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=Nv,E="onPointerLeave",w="onPointerEnter",v="pointer"),g=f==null?d:Fo(f),b=p==null?d:Fo(p),d=new m(E,v+"leave",f,r,u),d.target=g,d.relatedTarget=b,E=null,Ss(u)===c&&(m=new m(w,v+"enter",p,r,u),m.target=b,m.relatedTarget=g,E=m),g=E,f&&p)t:{for(m=f,w=p,v=0,b=m;b;b=ho(b))v++;for(b=0,E=w;E;E=ho(E))b++;for(;0<v-b;)m=ho(m),v--;for(;0<b-v;)w=ho(w),b--;for(;v--;){if(m===w||w!==null&&m===w.alternate)break t;m=ho(m),w=ho(w)}m=null}else m=null;f!==null&&qv(h,d,f,m,!1),p!==null&&g!==null&&qv(h,g,p,m,!0)}}e:{if(d=c?Fo(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var P=f3;else if(Vv(d))if(wy)P=v3;else{P=g3;var A=p3}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(P=m3);if(P&&(P=P(e,c))){vy(h,P,r,u);break e}A&&A(e,d,c),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Bf(d,"number",d.value)}switch(A=c?Fo(c):window,e){case"focusin":(Vv(A)||A.contentEditable==="true")&&(Eo=A,Yf=c,el=null);break;case"focusout":el=Yf=Eo=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Uv(h,r,u);break;case"selectionchange":if(y3)break;case"keydown":case"keyup":Uv(h,r,u)}var L;if(Vg)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ro?gy(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(py&&r.locale!=="ko"&&(Ro||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ro&&(L=fy()):(Gi=u,Ng="value"in Gi?Gi.value:Gi.textContent,Ro=!0)),A=Ou(c,T),0<A.length&&(T=new Lv(T,e,null,r,u),h.push({event:T,listeners:A}),L?T.data=L:(L=my(r),L!==null&&(T.data=L)))),(L=l3?c3(e,r):u3(e,r))&&(c=Ou(c,"onBeforeInput"),0<c.length&&(u=new Lv("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=L))}Py(h,t)})}function xl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ou(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ml(e,r),s!=null&&n.unshift(xl(e,s,i)),s=ml(e,t),s!=null&&n.push(xl(e,s,i))),e=e.return}return n}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qv(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=ml(r,s),l!=null&&o.unshift(xl(r,l,a))):i||(l=ml(r,s),l!=null&&o.push(xl(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var R3=/\r\n?/g,E3=/\u0000|\uFFFD/g;function Xv(e){return(typeof e=="string"?e:""+e).replace(R3,`
`).replace(E3,"")}function Fc(e,t,r){if(t=Xv(t),Xv(e)!==t&&r)throw Error(Se(425))}function Lu(){}var Qf=null,Jf=null;function ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,k3=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,F3=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(e){return Yv.resolve(null).then(e).catch(P3)}:tp;function P3(e){setTimeout(function(){throw e})}function Th(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),bl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bl(t)}function $i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),Bn="__reactFiber$"+va,Rl="__reactProps$"+va,gi="__reactContainer$"+va,rp="__reactEvents$"+va,M3="__reactListeners$"+va,T3="__reactHandles$"+va;function Ss(e){var t=e[Bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gi]||r[Bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zv(e);e!==null;){if(r=e[Bn])return r;e=Zv(e)}return t}e=r,r=e.parentNode}return null}function Ql(e){return e=e[Bn]||e[gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Od(e){return e[Rl]||null}var np=[],Po=-1;function ls(e){return{current:e}}function Ht(e){0>Po||(e.current=np[Po],np[Po]=null,Po--)}function Lt(e,t){Po++,np[Po]=e.current,e.current=t}var es={},Er=ls(es),Vr=ls(!1),Ls=es;function ra(e,t){var r=e.type.contextTypes;if(!r)return es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(e){return e=e.childContextTypes,e!=null}function Nu(){Ht(Vr),Ht(Er)}function Qv(e,t,r){if(Er.current!==es)throw Error(Se(168));Lt(Er,t),Lt(Vr,r)}function Ty(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Se(108,pE(e)||"Unknown",i));return $t({},r,n)}function Bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Ls=Er.current,Lt(Er,e),Lt(Vr,Vr.current),!0}function Jv(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=Ty(e,t,Ls),n.__reactInternalMemoizedMergedChildContext=e,Ht(Vr),Ht(Er),Lt(Er,e)):Ht(Vr),Lt(Vr,r)}var ii=null,Ld=!1,_h=!1;function _y(e){ii===null?ii=[e]:ii.push(e)}function _3(e){Ld=!0,_y(e)}function cs(){if(!_h&&ii!==null){_h=!0;var e=0,t=_t;try{var r=ii;for(_t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ii=null,Ld=!1}catch(i){throw ii!==null&&(ii=ii.slice(e+1)),ry(Dg,cs),i}finally{_t=t,_h=!1}}return null}var Mo=[],To=0,Hu=null,Vu=0,cn=[],un=0,Ns=null,li=1,ci="";function vs(e,t){Mo[To++]=Vu,Mo[To++]=Hu,Hu=e,Vu=t}function Ay(e,t,r){cn[un++]=li,cn[un++]=ci,cn[un++]=Ns,Ns=e;var n=li;e=ci;var i=32-kn(n)-1;n&=~(1<<i),r+=1;var s=32-kn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,li=1<<32-kn(t)+i|r<<i|n,ci=s+e}else li=1<<s|r<<i|n,ci=e}function zg(e){e.return!==null&&(vs(e,1),Ay(e,1,0))}function jg(e){for(;e===Hu;)Hu=Mo[--To],Mo[To]=null,Vu=Mo[--To],Mo[To]=null;for(;e===Ns;)Ns=cn[--un],cn[un]=null,ci=cn[--un],cn[un]=null,li=cn[--un],cn[un]=null}var Yr=null,Kr=null,Gt=!1,En=null;function Dy(e,t){var r=hn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function e0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yr=e,Kr=$i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yr=e,Kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ns!==null?{id:li,overflow:ci}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yr=e,Kr=null,!0):!1;default:return!1}}function ip(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sp(e){if(Gt){var t=Kr;if(t){var r=t;if(!e0(e,t)){if(ip(e))throw Error(Se(418));t=$i(r.nextSibling);var n=Yr;t&&e0(e,t)?Dy(n,r):(e.flags=e.flags&-4097|2,Gt=!1,Yr=e)}}else{if(ip(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Gt=!1,Yr=e}}}function t0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yr=e}function Pc(e){if(e!==Yr)return!1;if(!Gt)return t0(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ep(e.type,e.memoizedProps)),t&&(t=Kr)){if(ip(e))throw Iy(),Error(Se(418));for(;t;)Dy(e,t),t=$i(t.nextSibling)}if(t0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kr=$i(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kr=null}}else Kr=Yr?$i(e.stateNode.nextSibling):null;return!0}function Iy(){for(var e=Kr;e;)e=$i(e.nextSibling)}function na(){Kr=Yr=null,Gt=!1}function Wg(e){En===null?En=[e]:En.push(e)}var A3=Si.ReactCurrentBatchConfig;function Ia(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function Mc(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r0(e){var t=e._init;return t(e._payload)}function Oy(e){function t(w,v){if(e){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Yi(w,v),w.index=0,w.sibling=null,w}function s(w,v,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,E){return v===null||v.tag!==6?(v=Bh(b,w.mode,E),v.return=w,v):(v=i(v,b),v.return=w,v)}function l(w,v,b,E){var P=b.type;return P===xo?u(w,v,b.props.children,E,b.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oi&&r0(P)===v.type)?(E=i(v,b.props),E.ref=Ia(w,v,b),E.return=w,E):(E=hu(b.type,b.key,b.props,null,w.mode,E),E.ref=Ia(w,v,b),E.return=w,E)}function c(w,v,b,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Hh(b,w.mode,E),v.return=w,v):(v=i(v,b.children||[]),v.return=w,v)}function u(w,v,b,E,P){return v===null||v.tag!==7?(v=Ps(b,w.mode,E,P),v.return=w,v):(v=i(v,b),v.return=w,v)}function h(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Bh(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wc:return b=hu(v.type,v.key,v.props,null,w.mode,b),b.ref=Ia(w,null,v),b.return=w,b;case So:return v=Hh(v,w.mode,b),v.return=w,v;case Oi:var E=v._init;return h(w,E(v._payload),b)}if(ja(v)||Ma(v))return v=Ps(v,w.mode,b,null),v.return=w,v;Mc(w,v)}return null}function d(w,v,b,E){var P=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(w,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wc:return b.key===P?l(w,v,b,E):null;case So:return b.key===P?c(w,v,b,E):null;case Oi:return P=b._init,d(w,v,P(b._payload),E)}if(ja(b)||Ma(b))return P!==null?null:u(w,v,b,E,null);Mc(w,b)}return null}function f(w,v,b,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(b)||null,a(v,w,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wc:return w=w.get(E.key===null?b:E.key)||null,l(v,w,E,P);case So:return w=w.get(E.key===null?b:E.key)||null,c(v,w,E,P);case Oi:var A=E._init;return f(w,v,b,A(E._payload),P)}if(ja(E)||Ma(E))return w=w.get(b)||null,u(v,w,E,P,null);Mc(v,E)}return null}function p(w,v,b,E){for(var P=null,A=null,L=v,T=v=0,B=null;L!==null&&T<b.length;T++){L.index>T?(B=L,L=null):B=L.sibling;var H=d(w,L,b[T],E);if(H===null){L===null&&(L=B);break}e&&L&&H.alternate===null&&t(w,L),v=s(H,v,T),A===null?P=H:A.sibling=H,A=H,L=B}if(T===b.length)return r(w,L),Gt&&vs(w,T),P;if(L===null){for(;T<b.length;T++)L=h(w,b[T],E),L!==null&&(v=s(L,v,T),A===null?P=L:A.sibling=L,A=L);return Gt&&vs(w,T),P}for(L=n(w,L);T<b.length;T++)B=f(L,w,T,b[T],E),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?T:B.key),v=s(B,v,T),A===null?P=B:A.sibling=B,A=B);return e&&L.forEach(function(G){return t(w,G)}),Gt&&vs(w,T),P}function m(w,v,b,E){var P=Ma(b);if(typeof P!="function")throw Error(Se(150));if(b=P.call(b),b==null)throw Error(Se(151));for(var A=P=null,L=v,T=v=0,B=null,H=b.next();L!==null&&!H.done;T++,H=b.next()){L.index>T?(B=L,L=null):B=L.sibling;var G=d(w,L,H.value,E);if(G===null){L===null&&(L=B);break}e&&L&&G.alternate===null&&t(w,L),v=s(G,v,T),A===null?P=G:A.sibling=G,A=G,L=B}if(H.done)return r(w,L),Gt&&vs(w,T),P;if(L===null){for(;!H.done;T++,H=b.next())H=h(w,H.value,E),H!==null&&(v=s(H,v,T),A===null?P=H:A.sibling=H,A=H);return Gt&&vs(w,T),P}for(L=n(w,L);!H.done;T++,H=b.next())H=f(L,w,T,H.value,E),H!==null&&(e&&H.alternate!==null&&L.delete(H.key===null?T:H.key),v=s(H,v,T),A===null?P=H:A.sibling=H,A=H);return e&&L.forEach(function(D){return t(w,D)}),Gt&&vs(w,T),P}function g(w,v,b,E){if(typeof b=="object"&&b!==null&&b.type===xo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wc:e:{for(var P=b.key,A=v;A!==null;){if(A.key===P){if(P=b.type,P===xo){if(A.tag===7){r(w,A.sibling),v=i(A,b.props.children),v.return=w,w=v;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oi&&r0(P)===A.type){r(w,A.sibling),v=i(A,b.props),v.ref=Ia(w,A,b),v.return=w,w=v;break e}r(w,A);break}else t(w,A);A=A.sibling}b.type===xo?(v=Ps(b.props.children,w.mode,E,b.key),v.return=w,w=v):(E=hu(b.type,b.key,b.props,null,w.mode,E),E.ref=Ia(w,v,b),E.return=w,w=E)}return o(w);case So:e:{for(A=b.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(w,v.sibling),v=i(v,b.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=Hh(b,w.mode,E),v.return=w,w=v}return o(w);case Oi:return A=b._init,g(w,v,A(b._payload),E)}if(ja(b))return p(w,v,b,E);if(Ma(b))return m(w,v,b,E);Mc(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(w,v.sibling),v=i(v,b),v.return=w,w=v):(r(w,v),v=Bh(b,w.mode,E),v.return=w,w=v),o(w)):r(w,v)}return g}var ia=Oy(!0),Ly=Oy(!1),Gu=ls(null),zu=null,_o=null,Ug=null;function $g(){Ug=_o=zu=null}function Kg(e){var t=Gu.current;Ht(Gu),e._currentValue=t}function op(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vo(e,t){zu=e,Ug=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hr=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Ug!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(zu===null)throw Error(Se(308));_o=e,zu.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var xs=null;function qg(e){xs===null?xs=[e]:xs.push(e)}function Ny(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,qg(t)):(r.next=i.next,i.next=r),t.interleaved=r,mi(e,n)}function mi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Li=!1;function Xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,bt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,mi(e,r)}return i=n.interleaved,i===null?(t.next=t,qg(n)):(t.next=i.next,i.next=t),n.interleaved=t,mi(e,r)}function ou(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ig(e,r)}}function n0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ju(e,t,r,n){var i=e.updateQueue;Li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=$t({},h,d);break e;case 2:Li=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Hs|=o,e.lanes=o,e.memoizedState=h}}function i0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Se(191,i));i.call(n)}}}var Jl={},Un=ls(Jl),El=ls(Jl),kl=ls(Jl);function Rs(e){if(e===Jl)throw Error(Se(174));return e}function Yg(e,t){switch(Lt(kl,t),Lt(El,e),Lt(Un,Jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vf(t,e)}Ht(Un),Lt(Un,t)}function sa(){Ht(Un),Ht(El),Ht(kl)}function Hy(e){Rs(kl.current);var t=Rs(Un.current),r=Vf(t,e.type);t!==r&&(Lt(El,e),Lt(Un,r))}function Zg(e){El.current===e&&(Ht(Un),Ht(El))}var jt=ls(0);function Wu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ah=[];function Qg(){for(var e=0;e<Ah.length;e++)Ah[e]._workInProgressVersionPrimary=null;Ah.length=0}var au=Si.ReactCurrentDispatcher,Dh=Si.ReactCurrentBatchConfig,Bs=0,Ut=null,sr=null,dr=null,Uu=!1,tl=!1,Fl=0,D3=0;function Cr(){throw Error(Se(321))}function Jg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mn(e[r],t[r]))return!1;return!0}function em(e,t,r,n,i,s){if(Bs=s,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,au.current=e===null||e.memoizedState===null?N3:B3,e=r(n,i),tl){s=0;do{if(tl=!1,Fl=0,25<=s)throw Error(Se(301));s+=1,dr=sr=null,t.updateQueue=null,au.current=H3,e=r(n,i)}while(tl)}if(au.current=$u,t=sr!==null&&sr.next!==null,Bs=0,dr=sr=Ut=null,Uu=!1,t)throw Error(Se(300));return e}function tm(){var e=Fl!==0;return Fl=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Ut.memoizedState=dr=e:dr=dr.next=e,dr}function vn(){if(sr===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=sr.next;var t=dr===null?Ut.memoizedState:dr.next;if(t!==null)dr=t,sr=e;else{if(e===null)throw Error(Se(310));sr=e,e={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},dr===null?Ut.memoizedState=dr=e:dr=dr.next=e}return dr}function Pl(e,t){return typeof t=="function"?t(e):t}function Ih(e){var t=vn(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=sr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Bs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Ut.lanes|=u,Hs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Mn(n,t.memoizedState)||(Hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ut.lanes|=s,Hs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oh(e){var t=vn(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Mn(s,t.memoizedState)||(Hr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Vy(){}function Gy(e,t){var r=Ut,n=vn(),i=t(),s=!Mn(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,rm(Wy.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,Ml(9,jy.bind(null,r,n,i,t),void 0,null),fr===null)throw Error(Se(349));Bs&30||zy(r,t,i)}return i}function zy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jy(e,t,r,n){t.value=r,t.getSnapshot=n,Uy(t)&&$y(e)}function Wy(e,t,r){return r(function(){Uy(t)&&$y(e)})}function Uy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mn(e,r)}catch{return!0}}function $y(e){var t=mi(e,1);t!==null&&Fn(t,e,1,-1)}function s0(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=L3.bind(null,Ut,e),[t.memoizedState,e]}function Ml(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ky(){return vn().memoizedState}function lu(e,t,r,n){var i=Ln();Ut.flags|=e,i.memoizedState=Ml(1|t,r,void 0,n===void 0?null:n)}function Nd(e,t,r,n){var i=vn();n=n===void 0?null:n;var s=void 0;if(sr!==null){var o=sr.memoizedState;if(s=o.destroy,n!==null&&Jg(n,o.deps)){i.memoizedState=Ml(t,r,s,n);return}}Ut.flags|=e,i.memoizedState=Ml(1|t,r,s,n)}function o0(e,t){return lu(8390656,8,e,t)}function rm(e,t){return Nd(2048,8,e,t)}function qy(e,t){return Nd(4,2,e,t)}function Xy(e,t){return Nd(4,4,e,t)}function Yy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zy(e,t,r){return r=r!=null?r.concat([e]):null,Nd(4,4,Yy.bind(null,t,e),r)}function nm(){}function Qy(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jy(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eC(e,t,r){return Bs&21?(Mn(r,t)||(r=sy(),Ut.lanes|=r,Hs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hr=!0),e.memoizedState=r)}function I3(e,t){var r=_t;_t=r!==0&&4>r?r:4,e(!0);var n=Dh.transition;Dh.transition={};try{e(!1),t()}finally{_t=r,Dh.transition=n}}function tC(){return vn().memoizedState}function O3(e,t,r){var n=Xi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rC(e))nC(t,r);else if(r=Ny(e,t,r,n),r!==null){var i=_r();Fn(r,e,n,i),iC(r,t,n)}}function L3(e,t,r){var n=Xi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rC(e))nC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var l=t.interleaved;l===null?(i.next=i,qg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Ny(e,t,i,n),r!==null&&(i=_r(),Fn(r,e,n,i),iC(r,t,n))}}function rC(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function nC(e,t){tl=Uu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function iC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ig(e,r)}}var $u={readContext:mn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},N3={readContext:mn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:o0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lu(4194308,4,Yy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return lu(4,2,e,t)},useMemo:function(e,t){var r=Ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O3.bind(null,Ut,e),[n.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:s0,useDebugValue:nm,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=s0(!1),t=e[0];return e=I3.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ut,i=Ln();if(Gt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),fr===null)throw Error(Se(349));Bs&30||zy(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,o0(Wy.bind(null,n,s,e),[e]),n.flags|=2048,Ml(9,jy.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ln(),t=fr.identifierPrefix;if(Gt){var r=ci,n=li;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=D3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B3={readContext:mn,useCallback:Qy,useContext:mn,useEffect:rm,useImperativeHandle:Zy,useInsertionEffect:qy,useLayoutEffect:Xy,useMemo:Jy,useReducer:Ih,useRef:Ky,useState:function(){return Ih(Pl)},useDebugValue:nm,useDeferredValue:function(e){var t=vn();return eC(t,sr.memoizedState,e)},useTransition:function(){var e=Ih(Pl)[0],t=vn().memoizedState;return[e,t]},useMutableSource:Vy,useSyncExternalStore:Gy,useId:tC,unstable_isNewReconciler:!1},H3={readContext:mn,useCallback:Qy,useContext:mn,useEffect:rm,useImperativeHandle:Zy,useInsertionEffect:qy,useLayoutEffect:Xy,useMemo:Jy,useReducer:Oh,useRef:Ky,useState:function(){return Oh(Pl)},useDebugValue:nm,useDeferredValue:function(e){var t=vn();return sr===null?t.memoizedState=e:eC(t,sr.memoizedState,e)},useTransition:function(){var e=Oh(Pl)[0],t=vn().memoizedState;return[e,t]},useMutableSource:Vy,useSyncExternalStore:Gy,useId:tC,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ap(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bd={isMounted:function(e){return(e=e._reactInternals)?Js(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_r(),i=Xi(e),s=ui(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ki(e,s,i),t!==null&&(Fn(t,e,i,n),ou(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_r(),i=Xi(e),s=ui(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ki(e,s,i),t!==null&&(Fn(t,e,i,n),ou(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_r(),n=Xi(e),i=ui(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ki(e,i,n),t!==null&&(Fn(t,e,n,r),ou(t,e,n))}};function a0(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Cl(r,n)||!Cl(i,s):!0}function sC(e,t,r){var n=!1,i=es,s=t.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Gr(t)?Ls:Er.current,n=t.contextTypes,s=(n=n!=null)?ra(e,i):es),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function l0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bd.enqueueReplaceState(t,t.state,null)}function lp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Xg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Gr(t)?Ls:Er.current,i.context=ra(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ap(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bd.enqueueReplaceState(i,i.state,null),ju(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oa(e,t){try{var r="",n=t;do r+=fE(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Lh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var V3=typeof WeakMap=="function"?WeakMap:Map;function oC(e,t,r){r=ui(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qu||(qu=!0,bp=n),cp(e,t)},r}function aC(e,t,r){r=ui(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){cp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cp(e,t),typeof n!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function c0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new V3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ek.bind(null,e,t,r),t.then(e,e))}function u0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ui(-1,1),t.tag=2,Ki(r,t,1))),r.lanes|=1),e)}var G3=Si.ReactCurrentOwner,Hr=!1;function Tr(e,t,r,n){t.child=e===null?Ly(t,null,r,n):ia(t,e.child,r,n)}function h0(e,t,r,n,i){r=r.render;var s=t.ref;return Vo(t,i),n=em(e,t,r,n,s,i),r=tm(),e!==null&&!Hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vi(e,t,i)):(Gt&&r&&zg(t),t.flags|=1,Tr(e,t,n,i),t.child)}function f0(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!dm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,lC(e,t,s,n,i)):(e=hu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Cl,r(o,n)&&e.ref===t.ref)return vi(e,t,i)}return t.flags|=1,e=Yi(s,n),e.ref=t.ref,e.return=t,t.child=e}function lC(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Cl(s,n)&&e.ref===t.ref)if(Hr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Hr=!0);else return t.lanes=e.lanes,vi(e,t,i)}return up(e,t,r,n,i)}function cC(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Do,Ur),Ur|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lt(Do,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Lt(Do,Ur),Ur|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Lt(Do,Ur),Ur|=n;return Tr(e,t,i,r),t.child}function uC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function up(e,t,r,n,i){var s=Gr(r)?Ls:Er.current;return s=ra(t,s),Vo(t,i),r=em(e,t,r,n,s,i),n=tm(),e!==null&&!Hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vi(e,t,i)):(Gt&&n&&zg(t),t.flags|=1,Tr(e,t,r,i),t.child)}function p0(e,t,r,n,i){if(Gr(r)){var s=!0;Bu(t)}else s=!1;if(Vo(t,i),t.stateNode===null)cu(e,t),sC(t,r,n),lp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Gr(r)?Ls:Er.current,c=ra(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&l0(t,o,n,c),Li=!1;var d=t.memoizedState;o.state=d,ju(t,n,o,i),l=t.memoizedState,a!==n||d!==l||Vr.current||Li?(typeof u=="function"&&(ap(t,r,u,n),l=t.memoizedState),(a=Li||a0(t,r,a,n,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,By(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xn(t.type,a),o.props=c,h=t.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Gr(r)?Ls:Er.current,l=ra(t,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&l0(t,o,n,l),Li=!1,d=t.memoizedState,o.state=d,ju(t,n,o,i);var p=t.memoizedState;a!==h||d!==p||Vr.current||Li?(typeof f=="function"&&(ap(t,r,f,n),p=t.memoizedState),(c=Li||a0(t,r,c,n,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return dp(e,t,r,n,s,i)}function dp(e,t,r,n,i,s){uC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Jv(t,r,!1),vi(e,t,s);n=t.stateNode,G3.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ia(t,e.child,null,s),t.child=ia(t,null,a,s)):Tr(e,t,a,s),t.memoizedState=n.state,i&&Jv(t,r,!0),t.child}function dC(e){var t=e.stateNode;t.pendingContext?Qv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qv(e,t.context,!1),Yg(e,t.containerInfo)}function g0(e,t,r,n,i){return na(),Wg(i),t.flags|=256,Tr(e,t,r,n),t.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function hC(e,t,r){var n=t.pendingProps,i=jt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Lt(jt,i&1),e===null)return sp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gd(o,n,0,null),e=Ps(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fp(r),t.memoizedState=hp,e):im(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return z3(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Yi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yi(a,s):(s=Ps(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?fp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=hp,n}return s=e.child,e=s.sibling,n=Yi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function im(e,t){return t=Gd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tc(e,t,r,n){return n!==null&&Wg(n),ia(t,e.child,null,r),e=im(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z3(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Lh(Error(Se(422))),Tc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Gd({mode:"visible",children:n.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ia(t,e.child,null,o),t.child.memoizedState=fp(o),t.memoizedState=hp,s);if(!(t.mode&1))return Tc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Se(419)),n=Lh(s,n,void 0),Tc(e,t,o,n)}if(a=(o&e.childLanes)!==0,Hr||a){if(n=fr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mi(e,i),Fn(n,e,i,-1))}return um(),n=Lh(Error(Se(421))),Tc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tk.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Kr=$i(i.nextSibling),Yr=t,Gt=!0,En=null,e!==null&&(cn[un++]=li,cn[un++]=ci,cn[un++]=Ns,li=e.id,ci=e.overflow,Ns=t),t=im(t,n.children),t.flags|=4096,t)}function m0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),op(e.return,t,r)}function Nh(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function fC(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Tr(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&m0(e,r,t);else if(e.tag===19)m0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Lt(jt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Wu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Nh(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Nh(t,!0,r,null,s);break;case"together":Nh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=Yi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function j3(e,t,r){switch(t.tag){case 3:dC(t),na();break;case 5:Hy(t);break;case 1:Gr(t.type)&&Bu(t);break;case 4:Yg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Lt(Gu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Lt(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?hC(e,t,r):(Lt(jt,jt.current&1),e=vi(e,t,r),e!==null?e.sibling:null);Lt(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fC(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lt(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,cC(e,t,r)}return vi(e,t,r)}var pC,pp,gC,mC;pC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pp=function(){};gC=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Rs(Un.current);var s=null;switch(r){case"input":i=Lf(e,i),n=Lf(e,n),s=[];break;case"select":i=$t({},i,{value:void 0}),n=$t({},n,{value:void 0}),s=[];break;case"textarea":i=Hf(e,i),n=Hf(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lu)}Gf(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i?.[c],n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Nt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};mC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oa(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function W3(e,t,r){var n=t.pendingProps;switch(jg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(t),null;case 1:return Gr(t.type)&&Nu(),Sr(t),null;case 3:return n=t.stateNode,sa(),Ht(Vr),Ht(Er),Qg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(Sp(En),En=null))),pp(e,t),Sr(t),null;case 5:Zg(t);var i=Rs(kl.current);if(r=t.type,e!==null&&t.stateNode!=null)gC(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return Sr(t),null}if(e=Rs(Un.current),Pc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Bn]=t,n[Rl]=s,e=(t.mode&1)!==0,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(i=0;i<Ua.length;i++)Nt(Ua[i],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Ev(n,s),Nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",n);break;case"textarea":Fv(n,s),Nt("invalid",n)}Gf(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fc(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fc(n.textContent,a,e),i=["children",""+a]):pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nt("scroll",n)}switch(r){case"input":bc(n),kv(n,s,!0);break;case"textarea":bc(n),Pv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Lu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Bn]=t,e[Rl]=n,pC(e,t,!1,!1),t.stateNode=e;e:{switch(o=zf(r,n),r){case"dialog":Nt("cancel",e),Nt("close",e),i=n;break;case"iframe":case"object":case"embed":Nt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ua.length;i++)Nt(Ua[i],e);i=n;break;case"source":Nt("error",e),i=n;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),i=n;break;case"details":Nt("toggle",e),i=n;break;case"input":Ev(e,n),i=Lf(e,n),Nt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=$t({},n,{value:void 0}),Nt("invalid",e);break;case"textarea":Fv(e,n),i=Hf(e,n),Nt("invalid",e);break;default:i=n}Gf(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Kb(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ub(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&gl(e,l):typeof l=="number"&&gl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nt("scroll",e):l!=null&&Pg(e,s,l,o))}switch(r){case"input":bc(e),kv(e,n,!1);break;case"textarea":bc(e),Pv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ji(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Lo(e,!!n.multiple,s,!1):n.defaultValue!=null&&Lo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Lu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Sr(t),null;case 6:if(e&&t.stateNode!=null)mC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=Rs(kl.current),Rs(Un.current),Pc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bn]=t,(s=n.nodeValue!==r)&&(e=Yr,e!==null))switch(e.tag){case 3:Fc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bn]=t,t.stateNode=n}return Sr(t),null;case 13:if(Ht(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&Kr!==null&&t.mode&1&&!(t.flags&128))Iy(),na(),t.flags|=98560,s=!1;else if(s=Pc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[Bn]=t}else na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Sr(t),s=!1}else En!==null&&(Sp(En),En=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?or===0&&(or=3):um())),t.updateQueue!==null&&(t.flags|=4),Sr(t),null);case 4:return sa(),pp(e,t),e===null&&Sl(t.stateNode.containerInfo),Sr(t),null;case 10:return Kg(t.type._context),Sr(t),null;case 17:return Gr(t.type)&&Nu(),Sr(t),null;case 19:if(Ht(jt),s=t.memoizedState,s===null)return Sr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Oa(s,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wu(e),o!==null){for(t.flags|=128,Oa(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Lt(jt,jt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Qt()>aa&&(t.flags|=128,n=!0,Oa(s,!1),t.lanes=4194304)}else{if(!n)if(e=Wu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return Sr(t),null}else 2*Qt()-s.renderingStartTime>aa&&r!==1073741824&&(t.flags|=128,n=!0,Oa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qt(),t.sibling=null,r=jt.current,Lt(jt,n?r&1|2:r&1),t):(Sr(t),null);case 22:case 23:return cm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ur&1073741824&&(Sr(t),t.subtreeFlags&6&&(t.flags|=8192)):Sr(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function U3(e,t){switch(jg(t),t.tag){case 1:return Gr(t.type)&&Nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(),Ht(Vr),Ht(Er),Qg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zg(t),null;case 13:if(Ht(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(jt),null;case 4:return sa(),null;case 10:return Kg(t.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var _c=!1,Rr=!1,$3=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yt(e,t,n)}else r.current=null}function gp(e,t,r){try{r()}catch(n){Yt(e,t,n)}}var v0=!1;function K3(e,t){if(Qf=Du,e=Cy(),Gg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===r&&++c===i&&(a=o),d===s&&++u===n&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jf={focusedElem:e,selectionRange:r},Du=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?m:xn(t.type,m),g);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(E){Yt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return p=v0,v0=!1,p}function rl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&gp(t,r,s)}i=i.next}while(i!==n)}}function Hd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vC(e){var t=e.alternate;t!==null&&(e.alternate=null,vC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Rl],delete t[rp],delete t[M3],delete t[T3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wC(e){return e.tag===5||e.tag===3||e.tag===4}function w0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lu));else if(n!==4&&(e=e.child,e!==null))for(vp(e,t,r),e=e.sibling;e!==null;)vp(e,t,r),e=e.sibling}function wp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wp(e,t,r),e=e.sibling;e!==null;)wp(e,t,r),e=e.sibling}var pr=null,Rn=!1;function Mi(e,t,r){for(r=r.child;r!==null;)bC(e,t,r),r=r.sibling}function bC(e,t,r){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(_d,r)}catch{}switch(r.tag){case 5:Rr||Ao(r,t);case 6:var n=pr,i=Rn;pr=null,Mi(e,t,r),pr=n,Rn=i,pr!==null&&(Rn?(e=pr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(Rn?(e=pr,r=r.stateNode,e.nodeType===8?Th(e.parentNode,r):e.nodeType===1&&Th(e,r),bl(e)):Th(pr,r.stateNode));break;case 4:n=pr,i=Rn,pr=r.stateNode.containerInfo,Rn=!0,Mi(e,t,r),pr=n,Rn=i;break;case 0:case 11:case 14:case 15:if(!Rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gp(r,t,o),i=i.next}while(i!==n)}Mi(e,t,r);break;case 1:if(!Rr&&(Ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Yt(r,t,a)}Mi(e,t,r);break;case 21:Mi(e,t,r);break;case 22:r.mode&1?(Rr=(n=Rr)||r.memoizedState!==null,Mi(e,t,r),Rr=n):Mi(e,t,r);break;default:Mi(e,t,r)}}function b0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $3),t.forEach(function(n){var i=rk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Cn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:pr=a.stateNode,Rn=!1;break e;case 3:pr=a.stateNode.containerInfo,Rn=!0;break e;case 4:pr=a.stateNode.containerInfo,Rn=!0;break e}a=a.return}if(pr===null)throw Error(Se(160));bC(s,o,i),pr=null,Rn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yC(t,e),t=t.sibling}function yC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),In(e),n&4){try{rl(3,e,e.return),Hd(3,e)}catch(m){Yt(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Yt(e,e.return,m)}}break;case 1:Cn(t,e),In(e),n&512&&r!==null&&Ao(r,r.return);break;case 5:if(Cn(t,e),In(e),n&512&&r!==null&&Ao(r,r.return),e.flags&32){var i=e.stateNode;try{gl(i,"")}catch(m){Yt(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zb(i,s),zf(a,o);var c=zf(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Kb(i,h):u==="dangerouslySetInnerHTML"?Ub(i,h):u==="children"?gl(i,h):Pg(i,u,h,c)}switch(a){case"input":Nf(i,s);break;case"textarea":jb(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Lo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rl]=s}catch(m){Yt(e,e.return,m)}}break;case 6:if(Cn(t,e),In(e),n&4){if(e.stateNode===null)throw Error(Se(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Yt(e,e.return,m)}}break;case 3:if(Cn(t,e),In(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(m){Yt(e,e.return,m)}break;case 4:Cn(t,e),In(e);break;case 13:Cn(t,e),In(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(am=Qt())),n&4&&b0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Rr=(c=Rr)||u,Cn(t,e),Rr=c):Cn(t,e),In(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Le=e,u=e.child;u!==null;){for(h=Le=u;Le!==null;){switch(d=Le,f=d.child,d.tag){case 0:case 11:case 14:case 15:rl(4,d,d.return);break;case 1:Ao(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Yt(n,r,m)}}break;case 5:Ao(d,d.return);break;case 22:if(d.memoizedState!==null){C0(h);continue}}f!==null?(f.return=d,Le=f):C0(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$b("display",o))}catch(m){Yt(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Yt(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Cn(t,e),In(e),n&4&&b0(e);break;case 21:break;default:Cn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wC(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gl(i,""),n.flags&=-33);var s=w0(e);wp(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=w0(e);vp(e,a,o);break;default:throw Error(Se(161))}}catch(l){Yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q3(e,t,r){Le=e,CC(e)}function CC(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var i=Le,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_c;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rr;a=_c;var c=Rr;if(_c=o,(Rr=l)&&!c)for(Le=i;Le!==null;)o=Le,l=o.child,o.tag===22&&o.memoizedState!==null?S0(i):l!==null?(l.return=o,Le=l):S0(i);for(;s!==null;)Le=s,CC(s),s=s.sibling;Le=i,_c=a,Rr=c}y0(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Le=s):y0(e)}}function y0(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rr||Hd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:xn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&i0(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}i0(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&bl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}Rr||t.flags&512&&mp(t)}catch(d){Yt(t,t.return,d)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function C0(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function S0(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hd(4,t)}catch(l){Yt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Yt(t,i,l)}}var s=t.return;try{mp(t)}catch(l){Yt(t,s,l)}break;case 5:var o=t.return;try{mp(t)}catch(l){Yt(t,o,l)}}}catch(l){Yt(t,t.return,l)}if(t===e){Le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Le=a;break}Le=t.return}}var X3=Math.ceil,Ku=Si.ReactCurrentDispatcher,sm=Si.ReactCurrentOwner,gn=Si.ReactCurrentBatchConfig,bt=0,fr=null,tr=null,vr=0,Ur=0,Do=ls(0),or=0,Tl=null,Hs=0,Vd=0,om=0,nl=null,Nr=null,am=0,aa=1/0,ni=null,qu=!1,bp=null,qi=null,Ac=!1,zi=null,Xu=0,il=0,yp=null,uu=-1,du=0;function _r(){return bt&6?Qt():uu!==-1?uu:uu=Qt()}function Xi(e){return e.mode&1?bt&2&&vr!==0?vr&-vr:A3.transition!==null?(du===0&&(du=sy()),du):(e=_t,e!==0||(e=window.event,e=e===void 0?16:hy(e.type)),e):1}function Fn(e,t,r,n){if(50<il)throw il=0,yp=null,Error(Se(185));Yl(e,r,n),(!(bt&2)||e!==fr)&&(e===fr&&(!(bt&2)&&(Vd|=r),or===4&&Hi(e,vr)),zr(e,n),r===1&&bt===0&&!(t.mode&1)&&(aa=Qt()+500,Ld&&cs()))}function zr(e,t){var r=e.callbackNode;AE(e,t);var n=Au(e,e===fr?vr:0);if(n===0)r!==null&&_v(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_v(r),t===1)e.tag===0?_3(x0.bind(null,e)):_y(x0.bind(null,e)),F3(function(){!(bt&6)&&cs()}),r=null;else{switch(oy(n)){case 1:r=Dg;break;case 4:r=ny;break;case 16:r=_u;break;case 536870912:r=iy;break;default:r=_u}r=MC(r,SC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SC(e,t){if(uu=-1,du=0,bt&6)throw Error(Se(327));var r=e.callbackNode;if(Go()&&e.callbackNode!==r)return null;var n=Au(e,e===fr?vr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yu(e,n);else{t=n;var i=bt;bt|=2;var s=RC();(fr!==e||vr!==t)&&(ni=null,aa=Qt()+500,Fs(e,t));do try{Q3();break}catch(a){xC(e,a)}while(!0);$g(),Ku.current=s,bt=i,tr!==null?t=0:(fr=null,vr=0,t=or)}if(t!==0){if(t===2&&(i=Kf(e),i!==0&&(n=i,t=Cp(e,i))),t===1)throw r=Tl,Fs(e,0),Hi(e,n),zr(e,Qt()),r;if(t===6)Hi(e,n);else{if(i=e.current.alternate,!(n&30)&&!Y3(i)&&(t=Yu(e,n),t===2&&(s=Kf(e),s!==0&&(n=s,t=Cp(e,s))),t===1))throw r=Tl,Fs(e,0),Hi(e,n),zr(e,Qt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:ws(e,Nr,ni);break;case 3:if(Hi(e,n),(n&130023424)===n&&(t=am+500-Qt(),10<t)){if(Au(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){_r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tp(ws.bind(null,e,Nr,ni),t);break}ws(e,Nr,ni);break;case 4:if(Hi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-kn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*X3(n/1960))-n,10<n){e.timeoutHandle=tp(ws.bind(null,e,Nr,ni),n);break}ws(e,Nr,ni);break;case 5:ws(e,Nr,ni);break;default:throw Error(Se(329))}}}return zr(e,Qt()),e.callbackNode===r?SC.bind(null,e):null}function Cp(e,t){var r=nl;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Yu(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&Sp(t)),e}function Sp(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function Y3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hi(e,t){for(t&=~om,t&=~Vd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kn(t),n=1<<r;e[r]=-1,t&=~n}}function x0(e){if(bt&6)throw Error(Se(327));Go();var t=Au(e,0);if(!(t&1))return zr(e,Qt()),null;var r=Yu(e,t);if(e.tag!==0&&r===2){var n=Kf(e);n!==0&&(t=n,r=Cp(e,n))}if(r===1)throw r=Tl,Fs(e,0),Hi(e,t),zr(e,Qt()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ws(e,Nr,ni),zr(e,Qt()),null}function lm(e,t){var r=bt;bt|=1;try{return e(t)}finally{bt=r,bt===0&&(aa=Qt()+500,Ld&&cs())}}function Vs(e){zi!==null&&zi.tag===0&&!(bt&6)&&Go();var t=bt;bt|=1;var r=gn.transition,n=_t;try{if(gn.transition=null,_t=1,e)return e()}finally{_t=n,gn.transition=r,bt=t,!(bt&6)&&cs()}}function cm(){Ur=Do.current,Ht(Do)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,k3(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(jg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nu();break;case 3:sa(),Ht(Vr),Ht(Er),Qg();break;case 5:Zg(n);break;case 4:sa();break;case 13:Ht(jt);break;case 19:Ht(jt);break;case 10:Kg(n.type._context);break;case 22:case 23:cm()}r=r.return}if(fr=e,tr=e=Yi(e.current,null),vr=Ur=t,or=0,Tl=null,om=Vd=Hs=0,Nr=nl=null,xs!==null){for(t=0;t<xs.length;t++)if(r=xs[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}xs=null}return e}function xC(e,t){do{var r=tr;try{if($g(),au.current=$u,Uu){for(var n=Ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Uu=!1}if(Bs=0,dr=sr=Ut=null,tl=!1,Fl=0,sm.current=null,r===null||r.return===null){or=1,Tl=t,tr=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=u0(o);if(f!==null){f.flags&=-257,d0(f,o,a,s,t),f.mode&1&&c0(s,c,t),t=f,l=c;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){c0(s,c,t),um();break e}l=Error(Se(426))}}else if(Gt&&a.mode&1){var g=u0(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),d0(g,o,a,s,t),Wg(oa(l,a));break e}}s=l=oa(l,a),or!==4&&(or=2),nl===null?nl=[s]:nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=oC(s,l,t);n0(s,w);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qi===null||!qi.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=aC(s,a,t);n0(s,E);break e}}s=s.return}while(s!==null)}kC(r)}catch(P){t=P,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function RC(){var e=Ku.current;return Ku.current=$u,e===null?$u:e}function um(){(or===0||or===3||or===2)&&(or=4),fr===null||!(Hs&268435455)&&!(Vd&268435455)||Hi(fr,vr)}function Yu(e,t){var r=bt;bt|=2;var n=RC();(fr!==e||vr!==t)&&(ni=null,Fs(e,t));do try{Z3();break}catch(i){xC(e,i)}while(!0);if($g(),bt=r,Ku.current=n,tr!==null)throw Error(Se(261));return fr=null,vr=0,or}function Z3(){for(;tr!==null;)EC(tr)}function Q3(){for(;tr!==null&&!xE();)EC(tr)}function EC(e){var t=PC(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?kC(e):tr=t,sm.current=null}function kC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=U3(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,tr=null;return}}else if(r=W3(r,t,Ur),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);or===0&&(or=5)}function ws(e,t,r){var n=_t,i=gn.transition;try{gn.transition=null,_t=1,J3(e,t,r,n)}finally{gn.transition=i,_t=n}return null}function J3(e,t,r,n){do Go();while(zi!==null);if(bt&6)throw Error(Se(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(DE(e,s),e===fr&&(tr=fr=null,vr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ac||(Ac=!0,MC(_u,function(){return Go(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=_t;_t=1;var a=bt;bt|=4,sm.current=null,K3(e,r),yC(r,e),b3(Jf),Du=!!Qf,Jf=Qf=null,e.current=r,q3(r),RE(),bt=a,_t=o,gn.transition=s}else e.current=r;if(Ac&&(Ac=!1,zi=e,Xu=i),s=e.pendingLanes,s===0&&(qi=null),FE(r.stateNode),zr(e,Qt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=bp,bp=null,e;return Xu&1&&e.tag!==0&&Go(),s=e.pendingLanes,s&1?e===yp?il++:(il=0,yp=e):il=0,cs(),null}function Go(){if(zi!==null){var e=oy(Xu),t=gn.transition,r=_t;try{if(gn.transition=null,_t=16>e?16:e,zi===null)var n=!1;else{if(e=zi,zi=null,Xu=0,bt&6)throw Error(Se(331));var i=bt;for(bt|=4,Le=e.current;Le!==null;){var s=Le,o=s.child;if(Le.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Le=c;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:rl(8,u,s)}var h=u.child;if(h!==null)h.return=u,Le=h;else for(;Le!==null;){u=Le;var d=u.sibling,f=u.return;if(vC(u),u===c){Le=null;break}if(d!==null){d.return=f,Le=d;break}Le=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Le=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Le=o;else e:for(;Le!==null;){if(s=Le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Le=w;break e}Le=s.return}}var v=e.current;for(Le=v;Le!==null;){o=Le;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Le=b;else e:for(o=v;Le!==null;){if(a=Le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hd(9,a)}}catch(P){Yt(a,a.return,P)}if(a===o){Le=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Le=E;break e}Le=a.return}}if(bt=i,cs(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(_d,e)}catch{}n=!0}return n}finally{_t=r,gn.transition=t}}return!1}function R0(e,t,r){t=oa(r,t),t=oC(e,t,1),e=Ki(e,t,1),t=_r(),e!==null&&(Yl(e,1,t),zr(e,t))}function Yt(e,t,r){if(e.tag===3)R0(e,e,r);else for(;t!==null;){if(t.tag===3){R0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qi===null||!qi.has(n))){e=oa(r,e),e=aC(t,e,1),t=Ki(t,e,1),e=_r(),t!==null&&(Yl(t,1,e),zr(t,e));break}}t=t.return}}function ek(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&r,fr===e&&(vr&r)===r&&(or===4||or===3&&(vr&130023424)===vr&&500>Qt()-am?Fs(e,0):om|=r),zr(e,t)}function FC(e,t){t===0&&(e.mode&1?(t=Sc,Sc<<=1,!(Sc&130023424)&&(Sc=4194304)):t=1);var r=_r();e=mi(e,t),e!==null&&(Yl(e,t,r),zr(e,r))}function tk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),FC(e,r)}function rk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),FC(e,r)}var PC;PC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vr.current)Hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hr=!1,j3(e,t,r);Hr=!!(e.flags&131072)}else Hr=!1,Gt&&t.flags&1048576&&Ay(t,Vu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cu(e,t),e=t.pendingProps;var i=ra(t,Er.current);Vo(t,r),i=em(null,t,n,e,i,r);var s=tm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gr(n)?(s=!0,Bu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(t),i.updater=Bd,t.stateNode=i,i._reactInternals=t,lp(t,n,e,r),t=dp(null,t,n,!0,s,r)):(t.tag=0,Gt&&s&&zg(t),Tr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ik(n),e=xn(n,e),i){case 0:t=up(null,t,n,e,r);break e;case 1:t=p0(null,t,n,e,r);break e;case 11:t=h0(null,t,n,e,r);break e;case 14:t=f0(null,t,n,xn(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xn(n,i),up(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xn(n,i),p0(e,t,n,i,r);case 3:e:{if(dC(t),e===null)throw Error(Se(387));n=t.pendingProps,s=t.memoizedState,i=s.element,By(e,t),ju(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=oa(Error(Se(423)),t),t=g0(e,t,n,r,i);break e}else if(n!==i){i=oa(Error(Se(424)),t),t=g0(e,t,n,r,i);break e}else for(Kr=$i(t.stateNode.containerInfo.firstChild),Yr=t,Gt=!0,En=null,r=Ly(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(na(),n===i){t=vi(e,t,r);break e}Tr(e,t,n,r)}t=t.child}return t;case 5:return Hy(t),e===null&&sp(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ep(n,i)?o=null:s!==null&&ep(n,s)&&(t.flags|=32),uC(e,t),Tr(e,t,o,r),t.child;case 6:return e===null&&sp(t),null;case 13:return hC(e,t,r);case 4:return Yg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ia(t,null,n,r):Tr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xn(n,i),h0(e,t,n,i,r);case 7:return Tr(e,t,t.pendingProps,r),t.child;case 8:return Tr(e,t,t.pendingProps.children,r),t.child;case 12:return Tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Lt(Gu,n._currentValue),n._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Vr.current){t=vi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ui(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),op(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),op(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Vo(t,r),i=mn(i),n=n(i),t.flags|=1,Tr(e,t,n,r),t.child;case 14:return n=t.type,i=xn(n,t.pendingProps),i=xn(n.type,i),f0(e,t,n,i,r);case 15:return lC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xn(n,i),cu(e,t),t.tag=1,Gr(n)?(e=!0,Bu(t)):e=!1,Vo(t,r),sC(t,n,i),lp(t,n,i,r),dp(null,t,n,!0,e,r);case 19:return fC(e,t,r);case 22:return cC(e,t,r)}throw Error(Se(156,t.tag))};function MC(e,t){return ry(e,t)}function nk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,r,n){return new nk(e,t,r,n)}function dm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ik(e){if(typeof e=="function")return dm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tg)return 11;if(e===_g)return 14}return 2}function Yi(e,t){var r=e.alternate;return r===null?(r=hn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hu(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")dm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xo:return Ps(r.children,i,s,t);case Mg:o=8,i|=8;break;case Af:return e=hn(12,r,t,i|2),e.elementType=Af,e.lanes=s,e;case Df:return e=hn(13,r,t,i),e.elementType=Df,e.lanes=s,e;case If:return e=hn(19,r,t,i),e.elementType=If,e.lanes=s,e;case Hb:return Gd(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nb:o=10;break e;case Bb:o=9;break e;case Tg:o=11;break e;case _g:o=14;break e;case Oi:o=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=hn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Ps(e,t,r,n){return e=hn(7,e,n,t),e.lanes=r,e}function Gd(e,t,r,n){return e=hn(22,e,n,t),e.elementType=Hb,e.lanes=r,e.stateNode={isHidden:!1},e}function Bh(e,t,r){return e=hn(6,e,null,t),e.lanes=r,e}function Hh(e,t,r){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hm(e,t,r,n,i,s,o,a,l){return e=new sk(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=hn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(s),e}function ok(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TC(e){if(!e)return es;e=e._reactInternals;e:{if(Js(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(Gr(r))return Ty(e,r,t)}return t}function _C(e,t,r,n,i,s,o,a,l){return e=hm(r,n,!0,e,i,s,o,a,l),e.context=TC(null),r=e.current,n=_r(),i=Xi(r),s=ui(n,i),s.callback=t??null,Ki(r,s,i),e.current.lanes=i,Yl(e,i,n),zr(e,n),e}function zd(e,t,r,n){var i=t.current,s=_r(),o=Xi(i);return r=TC(r),t.context===null?t.context=r:t.pendingContext=r,t=ui(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ki(i,t,o),e!==null&&(Fn(e,i,o,s),ou(e,i,o)),o}function Zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function E0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fm(e,t){E0(e,t),(e=e.alternate)&&E0(e,t)}function ak(){return null}var AC=typeof reportError=="function"?reportError:function(e){console.error(e)};function pm(e){this._internalRoot=e}jd.prototype.render=pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));zd(e,t,null,null)};jd.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vs(function(){zd(null,e,null,null)}),t[gi]=null}};function jd(e){this._internalRoot=e}jd.prototype.unstable_scheduleHydration=function(e){if(e){var t=cy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bi.length&&t!==0&&t<Bi[r].priority;r++);Bi.splice(r,0,e),r===0&&dy(e)}};function gm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k0(){}function lk(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Zu(o);s.call(c)}}var o=_C(t,n,e,0,null,!1,!1,"",k0);return e._reactRootContainer=o,e[gi]=o.current,Sl(e.nodeType===8?e.parentNode:e),Vs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Zu(l);a.call(c)}}var l=hm(e,0,!1,null,null,!1,!1,"",k0);return e._reactRootContainer=l,e[gi]=l.current,Sl(e.nodeType===8?e.parentNode:e),Vs(function(){zd(t,l,r,n)}),l}function Ud(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zu(o);a.call(l)}}zd(t,o,e,i)}else o=lk(r,t,e,i,n);return Zu(o)}ay=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wa(t.pendingLanes);r!==0&&(Ig(t,r|1),zr(t,Qt()),!(bt&6)&&(aa=Qt()+500,cs()))}break;case 13:Vs(function(){var n=mi(e,1);if(n!==null){var i=_r();Fn(n,e,1,i)}}),fm(e,1)}};Og=function(e){if(e.tag===13){var t=mi(e,134217728);if(t!==null){var r=_r();Fn(t,e,134217728,r)}fm(e,134217728)}};ly=function(e){if(e.tag===13){var t=Xi(e),r=mi(e,t);if(r!==null){var n=_r();Fn(r,e,t,n)}fm(e,t)}};cy=function(){return _t};uy=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}};Wf=function(e,t,r){switch(t){case"input":if(Nf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Od(n);if(!i)throw Error(Se(90));Gb(n),Nf(n,i)}}}break;case"textarea":jb(e,r);break;case"select":t=r.value,t!=null&&Lo(e,!!r.multiple,t,!1)}};Yb=lm;Zb=Vs;var ck={usingClientEntryPoint:!1,Events:[Ql,Fo,Od,qb,Xb,lm]},La={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uk={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ey(e),e===null?null:e.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{_d=Dc.inject(uk),Wn=Dc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;tn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(t))throw Error(Se(200));return ok(e,t,null,r)};tn.createRoot=function(e,t){if(!gm(e))throw Error(Se(299));var r=!1,n="",i=AC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hm(e,1,!1,null,null,r,!1,n,i),e[gi]=t.current,Sl(e.nodeType===8?e.parentNode:e),new pm(t)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=ey(t),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return Vs(e)};tn.hydrate=function(e,t,r){if(!Wd(t))throw Error(Se(200));return Ud(null,e,t,!0,r)};tn.hydrateRoot=function(e,t,r){if(!gm(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=AC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=_C(t,null,e,1,r??null,i,!1,s,o),e[gi]=t.current,Sl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jd(t)};tn.render=function(e,t,r){if(!Wd(t))throw Error(Se(200));return Ud(null,e,t,!1,r)};tn.unmountComponentAtNode=function(e){if(!Wd(e))throw Error(Se(40));return e._reactRootContainer?(Vs(function(){Ud(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0):!1};tn.unstable_batchedUpdates=lm;tn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wd(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Ud(e,t,r,!1,n)};tn.version="18.3.1-next-f1338f8080-20240426";function DC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DC)}catch(e){console.error(e)}}DC(),Db.exports=tn;var xi=Db.exports;const IC=yb(xi);var OC,F0=xi;OC=F0.createRoot,F0.hydrateRoot;var Gs=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&r&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:n}=this,i=a=>{const l=n?()=>n.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(r,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(r,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function dk(e,t){return t}function LC(e){return e?.getLocaleTextFunc()??dk}function hk(e,t,r,n){const i=t[r];return e.getLocaleTextFunc()(r,typeof i=="function"?i(n):i,n)}function di(e){return e==null||e===""?null:e}function Ee(e){return e!=null&&e!==""}function Vt(e){return!Ee(e)}function xp(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function _l(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function fk(e,t,r=!1){const n=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var NC=new Set(["__proto__","constructor","prototype"]);function pk(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const r of Object.keys(e).filter(n=>!NC.has(n)))t(r,e[r])}}function Ar(e,t,r=!0,n=!1){Ee(t)&&pk(t,(i,s)=>{let o=e[i];o!==s&&(n&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),P0(s)&&P0(o)&&!Array.isArray(o)?Ar(o,s,r,n):(r||s!==void 0)&&(e[i]=s))})}function sl(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let i=e;for(let s=0;s<n.length;s++){if(i==null)return;i=i[n[s]]}return i}function P0(e){return typeof e=="object"&&e!==null}var mm=class bs{static applyGlobalGridOptions(t){if(!bs.gridOptions)return{...t};let r={};return Ar(r,bs.gridOptions,!0,!0),bs.mergeStrategy==="deep"?Ar(r,t,!0,!0):r={...r,...t},bs.gridOptions.context&&(r.context=bs.gridOptions.context),t.context&&(bs.mergeStrategy==="deep"&&r.context&&Ar(t.context,r.context,!0,!0),r.context=t.context),r}};mm.gridOptions=void 0;mm.mergeStrategy="shallow";var BC=mm;function gk(e){return BC.gridOptions?.[e]}var HC={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function An(e,t,r){r==null||typeof r=="string"&&r==""?VC(e,t):Dn(e,t,r)}function Dn(e,t,r){e.setAttribute(GC(t),r.toString())}function VC(e,t){e.removeAttribute(GC(t))}function GC(e){return`aria-${e}`}function zs(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function mk(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function vk(e){return e.getAttribute("aria-label")}function la(e,t){An(e,"label",t)}function Al(e,t){An(e,"labelledby",t)}function zC(e,t){An(e,"live",t)}function wk(e,t){An(e,"atomic",t)}function bk(e,t){An(e,"relevant",t)}function yk(e,t){An(e,"invalid",t)}function Ck(e,t){An(e,"disabled",t)}function jC(e,t){An(e,"hidden",t)}function Rp(e,t){Dn(e,"expanded",t)}function Sk(e,t){Dn(e,"setsize",t)}function xk(e,t){Dn(e,"posinset",t)}function Rk(e,t){Dn(e,"rowcount",t)}function WC(e,t){Dn(e,"rowindex",t)}function Ek(e,t){Dn(e,"rowspan",t)}function kk(e,t){Dn(e,"colcount",t)}function UC(e,t){Dn(e,"colindex",t)}function Fk(e,t){Dn(e,"colspan",t)}function Pk(e,t){Dn(e,"sort",t)}function Mk(e){VC(e,"sort")}function Ep(e,t){An(e,"selected",t)}function Tk(e,t){An(e,"controls",t)}function _k(e,t){Tk(e,t.id),Al(t,e.id)}function M0(e,t){An(e,"owns",t)}function $d(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Vh,Gh,zh,jh,kp,Fp,Wh;function eo(){return Vh===void 0&&(Vh=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Vh}function $C(){return Gh===void 0&&(Gh=/(firefox)/i.test(navigator.userAgent)),Gh}function KC(){return zh===void 0&&(zh=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),zh}function Ms(){return jh===void 0&&(jh=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),jh}function Pp(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!$C())?null:t.toString()}function Ak(){if(Wh!==void 0)return Wh;if(!document.body)return-1;let e=1e6;const t=$C()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),Wh=e,e}function Dk(){return Fp==null&&qC(),Fp}function qC(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(Fp=r,kp=r===0)}function XC(){return kp==null&&qC(),kp}var Ik="[tabindex], input, select, button, textarea, [href]",YC="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function vm(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,YC),s=Xn(e);return n&&!i&&s}function Wt(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||jC(e,!t)}function Ok(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||jC(e,!t)}function Dl(e,t){const r="disabled",n=t?s=>s.setAttribute(r,""):s=>s.removeAttribute(r);n(e);const i=e.querySelectorAll("input")??[];for(const s of i)n(s)}function Ts(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function to(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:h,marginRight:d,marginBottom:f,marginLeft:p,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(d||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(p||"0"),boxSizing:m}}function wm(e){const t=to(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Il(e){const t=to(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function ZC(e){const{height:t,marginBottom:r,marginTop:n}=to(e);return Math.floor(t+r+n)}function Qu(e){const{width:t,marginLeft:r,marginRight:n}=to(e);return Math.floor(t+r+n)}function QC(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:s}=to(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function Ju(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r)),r}function ed(e,t,r){r&&(t*=-1),e.scrollLeft=t}function en(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function wi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function JC(e){return!!e.offsetParent}function Xn(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!JC(e)||window.getComputedStyle(e).visibility!=="visible")}function bm(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function fu(e){return()=>{const t=e();return t?e1(t)||t1(t):!0}}function e1(e){return e.clientWidth<e.scrollWidth}function t1(e){return e.clientHeight<e.scrollHeight}function td(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):$n(e,t)}function $n(e,t){t=ym(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function ol(e,t){t=ym(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function ym(e){return typeof e=="number"?`${e}px`:e}function Cm(e){return e instanceof Node||e instanceof HTMLElement}function qr(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function Ri(e,t,r){const i=d1(e).ResizeObserver,s=i?new i(r):null;return s?.observe(t),()=>s?.disconnect()}function Ei(e,t){const r=d1(e);r.requestAnimationFrame?r.requestAnimationFrame(t):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(t):r.setTimeout(t,0)}var r1="data-ref",Uh;function T0(){return Uh??(Uh=document.createTextNode(" ")),Uh.cloneNode()}function Jt(e){const{attrs:t,children:r,cls:n,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(n&&(a.className=n),i&&a.setAttribute(r1,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(r)if(typeof r=="string")a.textContent=r;else{let l=!0;for(const c of r)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(T0()),l=!1),a.append(Jt(c)),a.appendChild(T0())))}return a}var _0={};function Sm(e,t){_0[t]||(e(),_0[t]=!0)}function js(e,t,...r){e.get("debug")&&console.log("AG Grid: "+t,...r)}function al(e,...t){Sm(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function zo(e,...t){Sm(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var Lk={pending:!1,funcs:[]},Nk={pending:!1,funcs:[]};function Mp(e,t="setTimeout",r){const n=t==="raf"?Nk:Lk;if(n.funcs.push(e),n.pending)return;n.pending=!0;const i=()=>{const s=n.funcs.slice();n.funcs.length=0,n.pending=!1,s.forEach(o=>o())};t==="raf"?Ei(r,i):window.setTimeout(i,0)}function mr(e,t,r){let n;return function(...i){const s=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},r)}}function A0(e,t){let r=0;return function(...n){const i=this,s=Date.now();s-r<t||(r=s,e.apply(i,n))}}function Bk(e,t,r=100,n){const i=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-i>r;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var n1="https://www.ag-grid.com",Me="34.1.2",D0=2e3,I0=100,i1="_version_",s1=null,jo=`${n1}/javascript-data-grid`;function Hk(e){s1=e}function Vk(e){jo=e}function o1(e,t,r){return s1?.getConsoleMessage(e,t)??[Wk(e,t,r)]}function xm(e,t,r,n){e(`error #${t}`,...o1(t,r,n))}function Gk(e){if(!e)return String(e);const t={};for(const r of Object.keys(e))typeof e[r]!="object"&&typeof e[r]!="function"&&(t[r]=e[r]);return JSON.stringify(t)}function zk(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Gk(e)),t}function rd(e){return e===void 0?"undefined":e===null?"null":e}function Tp(e,t){return`${e}?${t.toString()}`}function jk(e,t,r){const n=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=Tp(e,t);for(const[s,o]of n){if(s===i1)continue;const a=i.length-r;if(a<=0)break;const l="...",c=a+l.length,u=o.length-c>I0?o.slice(0,o.length-c)+l:o.slice(0,I0)+l;t.set(s,u),i=Tp(e,t)}return i}function a1(e,t){const r=new URLSearchParams;if(r.append(i1,Me),t)for(const s of Object.keys(t))r.append(s,zk(t[s]));const n=`${jo}/errors/${e}`,i=Tp(n,r);return i.length<=D0?i:jk(n,r,D0)}var Wk=(e,t,r)=>{const n=a1(e,t);return`${r?r+` 
`:""}Visit ${n}${r?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function we(...e){xm(al,e[0],e[1])}function kt(...e){xm(zo,e[0],e[1])}function $a(e,t,r){xm(zo,e,t,r)}function Uk(e,t){const r=t[0];return`error #${r} `+o1(r,t[1],e).join(" ")}function Kn(...e){return Uk(void 0,e)}function l1(e,t){return e.get("rowModelType")===t}function er(e,t){return l1(e,"clientSide")}function ro(e,t){return l1(e,"serverSide")}function wr(e,t){return e.get("domLayout")===t}function _s(e){return id(e)!==void 0}function c1(e){return typeof e.get("getRowHeight")=="function"}function $k(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function ts(e,t,r=!1,n){const{gos:i,environment:s}=e;if(n==null&&(n=s.getDefaultRowHeight()),c1(i)){if(r)return{height:n,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(_p(c))return c===0&&we(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return Kk(i);const o=i.get("rowHeight");return{height:o&&_p(o)?o:n,estimated:!1}}function Kk(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return _p(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function As(e){const{environment:t,gos:r}=e,n=r.get("rowHeight");if(!n||Vt(n))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(we(24),t.getDefaultRowHeight())}function _p(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function u1(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function Ws(e,t,r,n){const i=e.getDomDataKey();let s=t[i];Vt(s)&&(s={},t[i]=s),s[r]=n}function hr(e){const{gos:t,eGridDiv:r}=e;let n=null;const i=t.get("getDocument");return i&&Ee(i)?n=i():r&&(n=r.ownerDocument),n&&Ee(n)?n:document}function d1(e){return hr(e).defaultView||window}function Ol(e){return e.eGridDiv.getRootNode()}function Kt(e){return Ol(e).activeElement}function Rm(e){let t=null,r=null;try{t=hr(e).fullscreenElement}catch{}finally{t||(t=Ol(e));const n=t.querySelector("body");n?r=n:t instanceof ShadowRoot?r=t:t instanceof Document?r=t?.documentElement:r=t}return r}function qk(e){return Rm(e)?.clientWidth??(window.innerWidth||-1)}function Xk(e){return Rm(e)?.clientHeight??(window.innerHeight||-1)}function Yk(e,t,r){const i=e.getBoundingClientRect().height,s=qk(r)-2,o=Xk(r)-2;if(!e.offsetParent)return;const l=QC(e.offsetParent),{clientY:c,clientX:u}=t;let h=c-l.top-i/2,d=u-l.left-10;const f=hr(r),p=f.defaultView||window,m=p.pageYOffset||f.documentElement.scrollTop,g=p.pageXOffset||f.documentElement.scrollLeft;s>0&&d+e.clientWidth>s+g&&(d=s+g-e.clientWidth),d<0&&(d=0),o>0&&h+e.clientHeight>o+m&&(h=o+m-e.clientHeight),h<0&&(h=0),e.style.left=`${d}px`,e.style.top=`${h}px`}function h1(e){const t=Kt(e);return t===null||t===hr(e).body}function Wo(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function f1(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||wr(e,"print"))}function Hn(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function Ap(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function p1(e){return e.get("grandTotalRow")}function g1(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function m1(e,t,r){return!!t.group&&!t.footer&&g1(e,r)}function ca(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(Sm(()=>we(25,{id:n}),"getRowIdString"),n=String(n)),n}}function Zk(e,t){const r=e.get("groupHideParentOfSingleChild");return!!(r===!0||r==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Qk(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Uo(e){return e?.checkboxes??!0}function pu(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function nd(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function $h(e){return e?.hideDisabledCheckboxes??!1}function Jk(e){return typeof e.get("rowSelection")!="string"}function rs(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function v1(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function e4(e){const t=v1(e);return t===!0||t==="enableSelection"}function t4(e){const t=v1(e);return t===!0||t==="enableDeselection"}function Dp(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function id(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function sd(e){return id(e)==="multiRow"}function r4(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function od(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function w1(e,t=!0){const r=e.get("rowSelection");return typeof r!="object"?t?"all":void 0:r.mode==="multiRow"?r.selectAll:"all"}function Ll(e){const t=od(e);return t==="descendants"||t==="filteredDescendants"}function O0(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function n4(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Xr(e){return e.get("columnMenu")==="legacy"}function i4(e){return!Xr(e)}function s4(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function o4(e,t,r){typeof e!="object"&&(e={});const n={...e};return r.forEach(i=>{const s=t[i];typeof s<"u"&&(n[i]=s)}),n}function a4(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).forEach(o=>{r[o]=e[o],n=!0}),!n)return;const i={type:"gridOptionsChanged",options:r};t.dispatchEvent(i);const s={type:"componentStateChanged",...r};t.dispatchEvent(s)}function Ue(e,t){return e.addGridCommonParams(t)}function b1(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function gu(e,t){return e[t]??e.gridOptions?.[t]??gk(t)??HC[t]}var y1="__ag_Grid_Stop_Propagation",l4=["touchstart","touchend","touchmove","touchcancel","scroll"],c4=["wheel"],Kh={};function Us(e){e[y1]=!0}function hi(e){return e[y1]===!0}var C1=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof Kh[r]=="boolean")return Kh[r];const n=document.createElement(e[r]||"div");return r="on"+r,Kh[r]=r in n}})();function S1(e,t,r){let n=t;for(;n;){const i=u1(e,n,r);if(i)return i;n=n.parentElement}return null}function u4(e,t){return!t||!e?!1:h4(t).indexOf(e)>=0}function d4(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function h4(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():d4(t)}function f4(e,t,r,n){const i=x1(r);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,r,n,s)}var x1=e=>{const t=l4.includes(e),r=c4.includes(e);if(t)return!0;if(r)return!1},fe=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new Gs),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.localEventService?.removeEventListener(e,t,r)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n of Object.keys(t)){const i=t[n];i&&r.push(this._setupListener(e,n,i))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;let n;return p4(e)?(e.__addEventListener(t,r),n=()=>(e.__removeEventListener(t,r),null)):(e instanceof HTMLElement?f4(this.beans.frameworkOverrides,e,t,r):e.addEventListener(t,r),n=()=>(e.removeEventListener(t,r),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}setupGridOptionListener(e,t){const{gos:r}=this;r.addPropertyEventListener(e,t);const n=()=>(r.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,n))}getLocaleTextFunc(){return LC(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function p4(e){return e.__addEventListener!==void 0}var g4=/[&<>"']/g,m4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wa(e){return e?.toString().toString()??null}function mu(e){return wa(e)?.replace(g4,t=>m4[t])??null}var v4={resizable:!0,sortable:!0},w4=0;function R1(){return w4++}function ns(e){return e instanceof no}var no=class extends fe{constructor(e,t,r,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.isColumn=!0,this.instanceId=R1(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Gs,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=mu(r)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:r,colFlex:n}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,r?.initCol(this),n?.initCol(this)}setColDef(e,t,r){const n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",r)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:r}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ee(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=Ee(r)&&r.indexOf(".")>=0&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:r=>{const n=e.recreateColDef(this.colDef);this.setColDef(n,n,r.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=e.width,n=e.initialWidth;return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const r=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,r)}removeEventListener(e,t){const r=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return Ue(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??v4[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}createColumnEvent(e,t){return Ue(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Vt(this.sort)}isSorting(){return Ee(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return we(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Ue(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Vt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(Vt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,r){const n=this.createColumnEvent(e,t);r&&Ar(n,r),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function xr(e){return e instanceof vu}var vu=class extends fe{constructor(e,t,r,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=r,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=R1(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)ns(t)?e(t):xr(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{ns(t)?e.push(t):xr(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let s=0,o=n.length;s<o;s++){const a=n[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const i=e&&t&&r;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{xr(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},b4={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function L0(e,t,r){const n={},i=e.gos;return Object.assign(n,i.get("defaultColGroupDef")),Object.assign(n,t),i.validateColDef(n,r),n}var y4=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=xp(e);let r=0;for(;;){let n=e??t;if(n?r!==0&&(n+="_"+r):n=r,!this.existingKeys[n]){const i=String(n);return e&&r>0&&we(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}r++}}},ad=Object.freeze([]);function Et(e){if(e?.length)return e[e.length-1]}function io(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,i)=>r?r(n,t[i]):t[i]===n)}function Ic(e,t){if(e)for(const r of e)t(r)}function wn(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function N0(e,t,r){for(let n=0;n<t.length;n++)wn(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(r,0,t[n])}var Kd="ag-Grid-AutoColumn",E1="ag-Grid-SelectionColumn",k1="ag-Grid-RowNumbersColumn";function F1(e){const t=[],r=n=>{for(let i=0;i<n.length;i++){const s=n[i];ns(s)?t.push(s):xr(s)&&r(s.getChildren())}};return r(e),t}function si(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function ld(e,t,r){const n={};if(!t)return;fi(null,t,s=>{n[s.getInstanceId()]=s}),r&&fi(null,r,s=>{n[s.getInstanceId()]=null});const i=Object.values(n).filter(s=>s!=null);e.context.destroyBeans(i)}function Em(e){return e.getId().startsWith(Kd)}function us(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(E1)??!1}function Zi(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(k1)??!1}function C4(e){return us(e)||Zi(e)}function cd(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function S4(e,t){return io(e,t,(r,n)=>r.getColId()===n.getColId())}function x4(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function $o(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function P1(e,t){const r=e===t,n=e.getColDef()===t,i=e.getColId()==t;return r||n||i}var R4=(e,t)=>(r,n)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[r]!==void 0&&(i.value1=e[r],s=!0),Ee(n)&&e[n]!==void 0&&(i.value2=e[n],s=!0)),!s&&t&&(t[r]!==void 0&&(i.value1=t[r]),Ee(n)&&t[n]!==void 0&&(i.value2=t[n])),i};function E4(e,t=null,r,n,i){const s=new y4,{existingCols:o,existingGroups:a,existingColKeys:l}=k4(n);s.addExistingKeys(l);const c=M1(e,t,0,r,o,s,a,i),{colGroupSvc:u}=e,h=u?.findMaxDepth(c,0)??0,d=u?u.balanceColumnTree(c,0,h,s):c;return fi(null,d,(p,m)=>{xr(p)&&p.setupExpandable(),p.originalParent=m}),{columnTree:d,treeDepth:h}}function k4(e){const t=[],r=[],n=[];return e&&fi(null,e,i=>{if(xr(i)){const s=i;r.push(s)}else{const s=i;n.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}function M1(e,t,r,n,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){const h=t[u];l&&A4(h)?c[u]=l.createProvidedColumnGroup(n,h,r,i,s,o,a):c[u]=F4(e,n,h,i,s,a)}return c}function F4(e,t,r,n,i,s){const o=M4(r,n);o&&n?.splice(o.idx,1);let a=o?.column;if(a){const l=Ip(e,r,a.getColId());a.setColDef(l,r,s),P4(e,a,l,s)}else{const l=i.getUniqueKey(r.colId,r.field),c=Ip(e,r,l);a=new no(c,r,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function T1(e,t,r,n,i,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:u}=e;r!==void 0&&t.setVisible(!r,a),l&&(l.updateColSort(t,n,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&u?.setColFlex(t,o)}function P4(e,t,r,n){T1(e,t,r.hide,r.sort,r.sortIndex,r.pinned,r.flex,n);const i=t.getFlex();if(!(i!=null&&i>0))if(r.width!=null)t.setActualWidth(r.width,n);else{const s=t.getActualWidth();t.setActualWidth(s,n)}}function M4(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}function Ip(e,t,r,n){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");Ar(o,a,!1,!0);const l=T4(e,o,t,r);l&&_4(e,l,o);const c=o.cellDataType;Ar(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);const u=i.get("autoGroupColumnDef"),h=Hn(i);return t.rowGroup&&u&&h&&Ar(o,{sort:u.sort,initialSort:u.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,r,n),o}function T4(e,t,r,n){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,r,n),s=r.type??i??t.type;return t.type=s,s?cd(s):void 0}function _4(e,t,r){if(!t.length)return;const n=Object.assign({},b4),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in n?we(34,{key:s}):(o.type&&we(35),n[s]=o)}t.forEach(s=>{const o=n[s.trim()];o?Ar(r,o,!1,!0):we(36,{t:s})})}function A4(e){return e.children!==void 0}function fi(e,t,r){if(t)for(let n=0;n<t.length;n++){const i=t[n];xr(i)&&fi(i,i.getChildren(),r),r(i,e)}}function _1(e,t){const r=[],n=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?r.push(o):n.push(o)}),t.get("enableRtl")?[...i,...n,...r]:[...r,...n,...i]}function A1(e,t){let r=!0;return fi(null,t,n=>{if(!xr(n))return;const i=n,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(d=>{const f=e.indexOf(d);a.push(f)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,h=i.getLeafColumns().length-1;u>h&&(r=!1)}),r}function D1(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}function I1(e,t,r){if(!t.length)return;const n=t.length===1?t[0]:null,i=D1(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:n,source:r})}function D4(e,t,r){if(!t.length)return;const n=t.length===1?t[0]:null,i=D1(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:n,source:r})}function I4(e,t,r,n){e.dispatchEvent({type:t,columns:r,column:r&&r.length==1?r[0]:null,source:n})}function ua(e,t,r,n,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:r,source:n})}function Pn(e,t,r){const{colModel:n,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:u,environment:h,valueColsSvc:d,eventSvc:f,gos:p}=e,m=n.getColDefCols()??[],g=a?.getColumns();if(!m?.length&&!g?.length)return!1;if(t?.state&&!t.state.forEach)return we(32),!1;const w=(P,A,L,T,B)=>{if(!P)return;const H=R4(A,t.defaultState),G=H("flex").value1;if(T1(e,P,H("hide").value1,H("sort").value1,H("sortIndex").value1,H("pinned").value1,G,r),G==null){const D=H("width").value1;if(D!=null){const k=P.getColDef().minWidth??h.getDefaultColumnMinWidth();k!=null&&D>=k&&P.setActualWidth(D,r)}}B||!P.isPrimary()||(d?.syncColumnWithState(P,r,H),i?.syncColumnWithState(P,r,H,L),s?.syncColumnWithState(P,r,H,T))},v=(P,A,L)=>{const T=O1(e,r),B=A.slice(),H={},G={},D=[],k=[],M=[];let R=0;const y=i?.columns.slice()??[],S=s?.columns.slice()??[];P.forEach(F=>{const O=F.colId;if(O.startsWith(Kd)){D.push(F),M.push(F);return}if(us(O)){k.push(F),M.push(F);return}const j=L(O);j?(w(j,F,H,G,!1),wn(B,j)):(M.push(F),R+=1)});const C=F=>w(F,null,H,G,!1);B.forEach(C),i?.sortColumns(B0.bind(i,H,y)),s?.sortColumns(B0.bind(s,G,S)),n.refreshCols(!1);const x=(F,O,N=[])=>{O.forEach(j=>{const W=F(j.colId);wn(N,W),w(W,j,null,null,!0)}),N.forEach(C)};return x(F=>o?.getColumn(F)??null,D,o?.getColumns()?.slice()),x(F=>a?.getColumn(F)??null,k,a?.getColumns()?.slice()),L4(t,n,p),c.refresh(r),f.dispatchEvent({type:"columnEverythingChanged",source:r}),T(),{unmatchedAndAutoStates:M,unmatchedCount:R}};l?.start();let{unmatchedAndAutoStates:b,unmatchedCount:E}=v(t.state||[],m,P=>n.getColDefCol(P));if(b.length>0||Ee(t.defaultState)){const P=u?.getPivotResultCols()?.list??[];E=v(b,P,A=>u?.getPivotResultCol(A)??null).unmatchedCount}return l?.finish(),E===0}function O4(e,t){const{colModel:r,autoColSvc:n,selectionColSvc:i,eventSvc:s,gos:o}=e,a=r.getColDefCols();if(!a?.length)return;const l=r.getColDefColTree(),c=F1(l),u=[];let h=1e3,d=1e3;const f=v=>{const b=L1(v);Vt(b.rowGroupIndex)&&b.rowGroup&&(b.rowGroupIndex=h++),Vt(b.pivotIndex)&&b.pivot&&(b.pivotIndex=d++),u.push(b)};n?.getColumns()?.forEach(f),i?.getColumns()?.forEach(f),c?.forEach(f),Pn(e,{state:u},t);const p=n?.getColumns()??[],w=[...i?.getColumns()??[],...p,...a].map(v=>({colId:v.colId}));Pn(e,{state:w,applyOrder:!0},t),s.dispatchEvent(Ue(o,{type:"columnsReset",source:t}))}function O1(e,t){const{rowGroupColsSvc:r,pivotColsSvc:n,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:r?.columns.slice()??[],pivotColumns:n?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},c=ud(e),u={};return c.forEach(h=>{u[h.colId]=h}),()=>{const h=(A,L,T,B)=>{const H=L.map(B),G=T.map(B);if(io(H,G))return;const k=new Set(L);T.forEach(R=>{k.delete(R)||k.add(R)});const M=[...k];a.dispatchEvent({type:A,columns:M,column:M.length===1?M[0]:null,source:t})},d=A=>{const L=[];return s.forAllCols(T=>{const B=u[T.getColId()];B&&A(B,T)&&L.push(T)}),L},f=A=>A.getColId();h("columnRowGroupChanged",l.rowGroupColumns,r?.columns??[],f),h("columnPivotChanged",l.pivotColumns,n?.columns??[],f);const m=d((A,L)=>{const T=A.aggFunc!=null,B=T!=L.isValueActive(),H=T&&A.aggFunc!=L.getAggFunc();return B||H});m.length>0&&I4(a,"columnValueChanged",m,t),ua(a,d((A,L)=>A.width!=L.getActualWidth()),!0,t),I1(a,d((A,L)=>A.pinned!=L.getPinned()),t),D4(a,d((A,L)=>A.hide==L.isVisible()),t);const E=d((A,L)=>A.sort!=L.getSort()||A.sortIndex!=L.getSortIndex());E.length>0&&o?.dispatchSortChangedEvents(t,E);const P=ud(e);B4(c,P,t,s,a)}}function ud(e){const{colModel:t,rowGroupColsSvc:r,pivotColsSvc:n}=e,i=t.getColDefCols();if(Vt(i)||!t.isAlive())return[];const s=r?.columns,o=n?.columns,a=[],l=u=>{const h=u.isRowGroupActive()&&s?s.indexOf(u):null,d=u.isPivotActive()&&o?o.indexOf(u):null,f=u.isValueActive()?u.getAggFunc():null,p=u.getSort()!=null?u.getSort():null,m=u.getSortIndex()!=null?u.getSortIndex():null;a.push({colId:u.getColId(),width:u.getActualWidth(),hide:!u.isVisible(),pinned:u.getPinned(),sort:p,sortIndex:m,aggFunc:f,rowGroup:u.isRowGroupActive(),rowGroupIndex:h,pivot:u.isPivotActive(),pivotIndex:d,flex:u.getFlex()??null})};t.forAllCols(u=>l(u));const c=new Map(t.getCols().map((u,h)=>[u.getColId(),h]));return a.sort((u,h)=>{const d=c.has(u.colId)?c.get(u.colId):-1,f=c.has(h.colId)?c.get(h.colId):-1;return d-f}),a}function L1(e){const t=(p,m)=>p??m??null,r=e.getColDef(),n=t(r.sort,r.initialSort),i=t(r.sortIndex,r.initialSortIndex),s=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let c=t(r.rowGroupIndex,r.initialRowGroupIndex),u=t(r.rowGroup,r.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let h=t(r.pivotIndex,r.initialPivotIndex),d=t(r.pivot,r.initialPivot);h==null&&(d==null||d==!1)&&(h=null,d=null);const f=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:d,pivotIndex:h,aggFunc:f}}function L4(e,t,r){if(!e.applyOrder||!e.state)return;const n=[];e.state.forEach(i=>{i.colId!=null&&n.push(i.colId)}),N4(t.cols,n,t,r)}function N4(e,t,r,n){if(e==null)return;let i=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(i.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(Kd)?i.splice(o++,0,a):i.push(a)}),i=_1(i,n),!A1(i,r.getColTree())){we(39);return}e.list=i}function B4(e,t,r,n,i){const s={};t.forEach(u=>s[u.colId]=u);const o={};e.forEach(u=>{s[u.colId]&&(o[u.colId]=!0)});const a=e.filter(u=>o[u.colId]),l=t.filter(u=>o[u.colId]),c=[];l.forEach((u,h)=>{const d=a&&a[h];if(d&&d.colId!==u.colId){const f=n.getCol(d.colId);f&&c.push(f)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:r})}var B0=(e,t,r,n)=>{const i=e[r.getId()],s=e[n.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(r),c=t.indexOf(n),u=l>=0,h=c>=0;return u&&h?l-c:u?-1:1},H4=class extends fe{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll($o(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),$o(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:r,colAutosize:n,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,c=this.colDefs?O1(t,e):void 0;r?.expire();const u=this.colDefCols?.list,h=this.colDefCols?.tree,d=E4(t,this.colDefs,!0,h,e);ld(t,this.colDefCols?.tree,d.columnTree);const f=d.columnTree,p=d.treeDepth,m=F1(f),g={};m.forEach(w=>g[w.getId()]=w),this.colDefCols={tree:f,treeDepth:p,list:m,map:g},i?.extractCols(e,u),s?.extractCols(e,u),o?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&n?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:r,selectionColSvc:n,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:u,eventSvc:h}=this.beans,d=this.selectCols(o,this.colDefCols);this.createColumnsForService([r,n,i],d);const f=$k(this.gos,this.showingPivotResult);(!e||f)&&this.restoreColOrder(d),this.positionLockedCols(d),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(d),c.clear(),u.clear(),!io(t,this.cols.tree)&&h.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const r of e)r&&(r.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),r.addColumns(t))}selectCols(e,t){const r=e?.getPivotResultCols()??null;this.showingPivotResult=r!=null;const{map:n,list:i,tree:s,treeDepth:o}=r??t;return this.cols={list:i.slice(),map:{...n},tree:s.slice(),treeDepth:o},r&&(r.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:r}=this.beans,n=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=r.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const c=Em(l);if(n){const u=o?.includes(l);return c||u||i&&us(l)||s&&Zi(l)}else return c||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,r){Pn(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const r=t.filter(h=>e.map[h.getId()]!=null);if(r.length===0)return;if(r.length===e.list.length){e.list=r;return}const n=h=>{const d=h.getOriginalParent();return d?d.getChildren().length>1?!0:n(d):!1};if(!r.some(h=>n(h))){const h=new Set(r);for(const d of e.list)h.has(d)||r.push(d);e.list=r;return}const i=new Map;for(let h=0;h<r.length;h++){const d=r[h];i.set(d,h)}const s=e.list.filter(h=>!i.has(h));if(s.length===0){e.list=r;return}const o=(h,d)=>{const f=d?d.getOriginalParent():h.getOriginalParent();if(!f)return null;let p=null,m=null;for(const g of f.getChildren())if(!(g===d||g===h)){if(g instanceof no){const w=i.get(g);if(w==null)continue;(p==null||p<w)&&(p=w,m=g);continue}g.forEachLeafColumn(w=>{const v=i.get(w);v!=null&&(p==null||p<v)&&(p=v,m=w)})}return m??o(h,f)},a=[],l=new Map;for(const h of s){const d=o(h,null);if(d==null){a.push(h);continue}const f=l.get(d);f===void 0?l.set(d,h):Array.isArray(f)?f.push(h):l.set(d,[f,h])}const c=new Array(e.list.length);let u=c.length-1;for(let h=a.length-1;h>=0;h--)c[u--]=a[h];for(let h=r.length-1;h>=0;h--){const d=r[h],f=l.get(d);if(f)if(Array.isArray(f))for(let p=f.length-1;p>=0;p--){const m=f[p];c[u--]=m}else c[u--]=f;c[u--]=d}e.list=c}positionLockedCols(e){e.list=_1(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:r,eventSvc:n}=this.beans;r.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=$o(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){ld(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:r,selectionColSvc:n}=this.beans;Ic(this.colDefCols?.list,e),Ic(r?.columns?.list,e),Ic(n?.columns?.list,e),Ic(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let i=0;i<n.length;i++)if(P1(n[i],e))return n[i];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},N1=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},ba=class extends fe{};function ec(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var tc=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(i=>this.toggleCss(i,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},V4=0,ze=null,Dt=class extends fe{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=V4++,this.cssManager=new tc(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(r=>[r.selector,r])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(r1):null}applyElementsToComponent(e,t,r,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===ze)this[t]=n??e;else{const s=r&&r[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const r=[];for(const n of e.childNodes??[])r.push(n);r.forEach(n=>{if(!(n instanceof HTMLElement))return;const i=this.createComponentFromElement(n,s=>{const o=s.getGui();if(o)for(const a of n.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const s=Array.prototype.slice.call(n.children);i.addItems(s)}this.swapComponentForNode(i,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,r){const n=e.nodeName,i=this.getDataRefAttribute(e),s=n.indexOf("AG-")===0,o=s?this.componentSelectors.get(n):null;let a=null;if(o){const l=r&&i?r[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,i,r,a),a}swapComponentForNode(e,t,r){const n=e.getGui();t.replaceChild(n,r),t.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(r=>r.setAttribute("tabindex",t.toString()))}setTemplate(e,t,r){let n;typeof e=="string"||e==null?n=bm(e):n=Jt(e),this.setTemplateFromElement(n,t,r)}setTemplateFromElement(e,t,r,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,r)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let r=t;return e==null?null:(r||(r=this.eGui),Cm(e)?{element:e,parent:r}:{element:e.getGui(),parent:r})}prependChild(e,t){const{element:r,parent:n}=this.getContainerAndElement(e,t)||{};!r||!n||n.insertAdjacentElement("afterbegin",r)}appendChild(e,t){const{element:r,parent:n}=this.getContainerAndElement(e,t)||{};!r||!n||n.appendChild(r)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=t;Ok(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=t;Wt(this.eGui,e,{skipAriaHidden:r});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,r){this.eGui.addEventListener(e,t,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function B1(e){return typeof e=="object"&&!!e.component}var gt=class Ka{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new Ka(r=>{let n=t.length;const i=new Array(n);t.forEach((s,o)=>{s.then(a=>{i[o]=a,n--,n===0&&r(i)})})}):Ka.resolve()}static resolve(t=null){return new Ka(r=>r(t))}then(t){return new Ka(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}};function G4(e){return e?e.prototype&&"getGui"in e.prototype:!1}function H1(e,t,r,n){const{name:i}=r;let s,o,a,l,c,u;if(t){const h=t,d=h[i+"Selector"],f=d?d(n):null,p=m=>{typeof m=="string"?s=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?a=m:o=m)};f?(p(f.component),l=f.params,c=f.popup,u=f.popupPosition):p(h[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}var z4=class extends fe{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,r,n=!1){return this.getCompDetails(this.gridOptions,e,t,r,n)}getCompDetails(e,t,r,n,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:d}=H1(this.beans.frameworkOverrides,e,t,n),f,p;const m=b=>{const E=this.registry.getUserComponent(s,b);E&&(l=E.componentFromFramework?void 0:E.component,c=E.componentFromFramework?E.component:void 0,f=E.params,p=E.processParams)};if(a!=null&&m(a),l==null&&c==null&&r!=null&&m(r),l&&o&&!G4(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){const{validation:b}=this.beans;i&&(a!==r||!r)?a?b?.isProvidedUserComp(a)||kt(50,{compName:a}):r?b||kt(260,{...this.gos.getModuleErrorParams(),propName:s,compName:r}):kt(216,{name:s}):r&&!b&&kt(146,{comp:r});return}const g=this.mergeParams(e,t,n,u,f,p),w=l==null,v=l??c;return{componentFromFramework:w,componentClass:v,params:g,type:t,popupFromSelector:h,popupPositionFromSelector:d,newAgStackInstance:()=>this.newAgStackInstance(v,w,g,t)}}newAgStackInstance(e,t,r,n){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(s);const o=s.init?.(r);return o==null?gt.resolve(s):o.then(()=>s)}mergeParams(e,t,r,n=null,i,s){const o={...r,...i},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const c=l(r);Ar(o,c)}else typeof l=="object"&&Ar(o,l);return Ar(o,n),s?s(o):o}},j4={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},W4={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},U4={name:"headerComponent",optionalMethods:["refresh"]},$4={name:"innerHeaderComponent"},K4={name:"innerHeaderGroupComponent"},q4={name:"headerGroupComponent"},X4={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Y4={name:"loadingCellRenderer",cellRenderer:!0},Z4={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Q4={name:"loadingOverlayComponent",optionalMethods:["refresh"]},J4={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},e6={name:"tooltipComponent"},km={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},t6={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},r6={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},n6={name:"loadingCellRenderer",cellRenderer:!0},i6={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},s6={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function o6(e,t){return e.getCompDetailsFromGridOptions(W4,"agDragAndDropImage",t,!0)}function a6(e,t,r){return e.getCompDetails(t,U4,"agColumnHeader",r)}function l6(e,t,r){return e.getCompDetails(t,$4,void 0,r)}function c6(e,t){const r=t.columnGroup.getColGroupDef();return e.getCompDetails(r,q4,"agColumnGroupHeader",t)}function u6(e,t,r){return e.getCompDetails(t,K4,void 0,r)}function d6(e,t){return e.getCompDetailsFromGridOptions(r6,void 0,t,!0)}function h6(e,t){return e.getCompDetailsFromGridOptions(n6,"agLoadingCellRenderer",t,!0)}function f6(e,t){return e.getCompDetailsFromGridOptions(i6,"agGroupRowRenderer",t,!0)}function p6(e,t){return e.getCompDetailsFromGridOptions(s6,"agDetailCellRenderer",t,!0)}function H0(e,t,r){return e.getCompDetails(t,X4,void 0,r)}function V0(e,t,r){return e.getCompDetails(t,Y4,"agSkeletonCellRenderer",r,!0)}function V1(e,t,r){return e.getCompDetails(t,Z4,"agCellEditor",r,!0)}function g6(e,t,r,n){const i=t.filter;return B1(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,km,n,r,!0)}function m6(e,t,r){return e.getCompDetails(t,j4,"agDateInput",r,!0)}function v6(e,t){return e.getCompDetailsFromGridOptions(Q4,"agLoadingOverlay",t,!0)}function w6(e,t){return e.getCompDetailsFromGridOptions(J4,"agNoRowsOverlay",t,!0)}function b6(e,t){return e.getCompDetails(t.colDef,e6,"agTooltipComponent",t,!0)}function y6(e,t,r,n){return e.getCompDetails(t,t6,n,r)}function G1(e,t){return H1(e,t,km)}function qh(e,t,r){return e.mergeParams(t,km,r)}function Nl(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var z1=new Set,dd={},Ds={},wu,j1=!1,W1=!1,C6=!1;function S6(e){const[t,r]=e.version.split(".")||[],[n,i]=wu.split(".")||[];return t===n&&r===i}function x6(e){wu||(wu=e.version);const t=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;if(e.version?S6(e)||zo(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${wu}.`)):zo(t(`'${e.moduleName}' is incompatible.`)),e.validate){const r=e.validate();r.isValid||zo(`${r.message}`)}}function Bl(e,t,r=!1){r||(j1=!0),x6(e);const n=e.rowModels??["all"];z1.add(e);let i;t!==void 0?(W1=!0,Ds[t]===void 0&&(Ds[t]={}),i=Ds[t]):i=dd,n.forEach(s=>{i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Bl(s,t,r))}function R6(e){delete Ds[e]}function Op(e,t,r){const n=i=>!!dd[i]?.[e]||!!Ds[t]?.[i]?.[e];return n(r)||n("all")}function Fm(){return W1}function E6(e,t){const r=Ds[e]??{};return[...Object.values(dd.all??{}),...Object.values(r.all??{}),...Object.values(dd[t]??{}),...Object.values(r[t]??{})]}function k6(){return new Set(z1)}function F6(e,t){const r=Ds[e]??{};return[...Object.values(r.all??{}),...Object.values(r[t]??{})]}function P6(){return j1}function M6(){return C6}var T6=class{static register(e){Bl(e,void 0)}static registerModules(e){e.forEach(t=>Bl(t,void 0))}},_6=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const r=new t;r.beanName?this.beans[r.beanName]=r:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(r)}),e.derivedBeans?.forEach(t=>{const{beanName:r,bean:n}=t(this);this.beans[r]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{r.preWireBeans?.(this.beans),r.wireBeans?.(this.beans)}),e.forEach(r=>r.preConstruct?.()),t&&e.forEach(t),e.forEach(r=>r.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function A6(e){return typeof e=="object"&&!!e.getComp}var D6=class extends _6{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),R6(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},I6=class extends fe{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new U1,this.rowValidations=new $1,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const r=this.getEditRow(e);t?r.delete(t):r.clear(),r.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const r=e&&this.edits.get(e);if(r)return r;if(t.checkSiblings){const n=e.pinnedSibling;if(n)return this.getEditRow(n)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const r=this.getEditRow(e),n=e.pinnedSibling,i=t&&n&&this.getEditRow(n);if(!r&&!i)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:c},u)=>{c!==bn&&(l[u.getColId()]=c)});return r&&o(r,s),i&&o(i,s),s}getEdit(e,t){const r=this._getEdit(e);return t&&r?{...r}:r}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((r,n)=>t.set(n,new Map(r))),t}setEditMap(e){this.edits.clear(),e.forEach((t,r)=>{const n=new Map;t.forEach((i,s)=>n.set(s,{...i})),this.edits.set(r,n)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const r={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,r),r}clearEditValue(e){const{rowNode:t,column:r}=e;if(t)if(r){const n=this._getEdit(e);n&&(n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed")}else this.getEditRow(t)?.forEach(n=>{n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((r,n)=>{for(const i of r.keys())t.push({rowNode:n,column:i,...r.get(i)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:r,column:n}=e,{withOpenEditor:i}=t;if(r){const s=this.getEditRow(r,t);return s?n?i?this.getEdit(e)?.state==="editing":s.has(n)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:r,column:n}=e;n&&!t.has(n)&&t.set(n,{editorValue:void 0,pendingValue:bn,sourceValue:this.beans.valueSvc.getValue(n,r,!0,"api"),state:"editing"}),this.edits.set(r,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},U1=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:r}=e||{};return this.cellValidations?.get(t)?.get(r)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:r,column:n}=e;this.cellValidations.has(r)||this.cellValidations.set(r,new Map),this.cellValidations.get(r).set(n,t)}clearCellValidation(e){const{rowNode:t,column:r}=e;this.cellValidations.get(t)?.delete(r)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},$1=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function O6(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}function K1(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return r&&n&&i}function L6(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ee(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function N6(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function B6(e){let t=0,r;const{pinnedRowModel:n,rowModel:i,pageBounds:s}=e;return n?.getPinnedTopRowCount()?r="top":i.getRowCount()?(r=null,t=s.getFirstRow()):n?.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:t,rowPinned:r}}function H6(e){let t,r=null;const{pinnedRowModel:n,pageBounds:i}=e,s=n?.getPinnedBottomRowCount(),o=n?.getPinnedTopRowCount();return s?(r="bottom",t=s-1):e.rowModel.getRowCount()?(r=null,t=i.getLastRow()):o&&(r="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:r}}function bi(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function qa(e,t){const r=e.spannedRowRenderer?.getCellByPosition(t);if(r)return r;const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function V6(e,t,r){const{rowModel:n,pinnedRowModel:i}=e;let s;return s??(s=n?.getRowNode(t)),r?s??(s=i?.getPinnedRowById(t,r)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function hd(e,t){const{rowIndex:r,rowPinned:n}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(r===0)return n==="top"?null:n==="bottom"&&o.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=n?void 0:o.getRow(r);return q1(e,a,!0)??{rowIndex:r-1,rowPinned:n}}function G0(e,t){const{rowIndex:r,rowPinned:n}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(G6(e,t))return n==="bottom"?null:n==="top"&&o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=n?void 0:o.getRow(r);return q1(e,a)??{rowIndex:r+1,rowPinned:n}}function q1(e,t,r=!1){const{gos:n,rowRenderer:i}=e;if(!t?.sticky||!f1(n))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(h=>h.rowNode.rowIndex===t.rowIndex),l=a?s:o,c=(r?-1:1)*(a?-1:1);let u;for(let h=0;h<l.length;h++)if(l[h].rowNode.rowIndex===t.rowIndex){u=l[h+c];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function G6(e,t){const{rowPinned:r,rowIndex:n}=t,{pinnedRowModel:i,pageBounds:s}=e;return r==="top"?(i?.getPinnedTopRowCount()??0)-1<=n:r==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=n:s.getLastRow()<=n}function Pm(e,t={}){const{rowIndex:r,rowId:n,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(n?l=V6(e,n,s):r!=null&&(l=o.getRow(r))),a.getRowCtrls(l?[l]:[])?.[0]}function Bt(e,t={}){const{cellCtrl:r,colId:n,columnId:i,column:s}=t;if(r)return r;const o=e.colModel.getCol(n??i??Lp(s)),a=t.rowCtrl??Pm(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[o])?.[0]}function z0(e){const{editSvc:t}=e;t?.isBatchEditing()?Ko(e):t?.stopEditing(void 0,{source:"api"})}function z6(e,t,r){const{gos:n,popupSvc:i}=t;if(!n.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(Pp(a)===null){z0(t);return}let l=r.some(c=>c.contains(a))&&oS(n,a);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(a))||i.isElementWithinCustomPopup(a))),l||z0(t)};r.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function Lp(e){if(e)return typeof e=="string"?e:e.getColId()}var bn=Symbol("unedited");function X1(e,t={}){const r=[],n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of n){const s=i.comp?.getCellEditor();s&&r.push({ctrl:i,editor:Nl(s)})}return r}var j6=(e,t={})=>X1(e,t).map(r=>r.editor);function W6(e,t,r,n,i,s){t.length===0&&r?.rowNode&&r?.column&&da(e,r,{key:n,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:u}=r??{};for(const h of t){const{rowNode:d,column:f}=h,p=Bt(e,h);if(!p){if(d&&f){const g=o.getValue(f,d,void 0,"api"),b=(r?.rowNode===d&&r?.column===f&&n||void 0)??a?.getCellDataValue(h,!1)??o.getValueForDisplay(f,d)?.value??g??bn;l?.setEdit(h,{pendingValue:b,sourceValue:g,state:"editing"})}continue}const m=s&&c===p.rowNode&&p.column===u;da(e,{rowNode:c,column:p.column},{key:m?n:null,event:m?i:null,cellStartedEdit:m&&s})}}function Qi({pendingValue:e,sourceValue:t}){return e===bn&&(e=t),e!==t}function da(e,t,r){const{key:n,event:i,cellStartedEdit:s,silent:o}=r??{},a=Bt(e,t),l=a?.comp?.getCellEditor(),c=Z1(e,t,n,s&&!o),u=e.editModelSvc?.getEdit(t);let h=c.value;if(h===void 0&&(h=u?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:h,state:"editing"}),l){l.refresh?.(c);return}const d=t.column.getColDef(),f=V1(e.userCompFactory,d,c),p=f?.popupFromSelector!=null?f.popupFromSelector:!!d.cellEditorPopup,m=f?.popupPositionFromSelector!=null?f.popupPositionFromSelector:d.cellEditorPopupPosition;Q1(f.params,i),a&&(a.editCompDetails=f,a.comp?.setEditDetails(f,p,m,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,i,"cellEditingStarted"))}function Y1(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function Z1(e,t,r,n){const{valueSvc:i,gos:s,editSvc:o}=e,a=Bt(e,t),l=t.rowNode?.rowIndex??void 0,c=o?.isBatchEditing(),u=e.colModel.getCol(t.column.getId()),{rowNode:h,column:d}=t,f=a.comp?.getCellEditor(),p=o?.getCellDataValue(t,!1)??(f?Y1(f)?.editorValue:void 0),m=p===bn?i.getValueForDisplay(u,h)?.value:p;return Ue(s,{value:m,eventKey:r??null,column:d,colDef:d.getColDef(),rowIndex:l,node:h,data:h.data,cellStartedEdit:n??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:g=>{o.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:g}),fd(e,t)},eGridCell:a?.eGui,parseValue:g=>i.parseValue(u,h,g,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function Np(e,t){const{editModelSvc:r}=e;r?.getEditMap().forEach((n,i)=>{n.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===bn)||!Qi(s)&&(s.state!=="editing"||t)&&r?.removeEdits({rowNode:i,column:o})})})}function U6(e,t){const r=t.comp?.getCellEditor();if(!r?.refresh)return;const{eventKey:n,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=Z1(e,t,n,i),a=s.getColDef(),l=V1(e.userCompFactory,a,o);r.refresh(Q1(l.params,n))}function Q1(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Es(e,t){e.editModelSvc?.getEditPositions().forEach(r=>{const n=Bt(e,r);if(!n)return;const i=n.comp?.getCellEditor();if(!i)return;const{editorValue:s,editorValueExists:o}=Y1(i);bu(e,r,t,s,void 0,!o)})}function bu(e,t,r,n,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;const h=!!Bt(e,t)?.comp?.getCellEditor();let d=o.getEdit(t,!0);d?.sourceValue||(d=o.setEdit(t,{sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:bn,state:h?"editing":"changed"})),o.setEdit(t,{editorValue:s?d.sourceValue:n,state:h?"editing":"changed"}),r&&$6(e,t)}function $6(e,t){const{editModelSvc:r}=e,n=r?.getEdit(t,!0);r?.setEdit(t,{pendingValue:n?.editorValue})}function Ko(e,t,r){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(n=>fd(e,n,r))}function fd(e,t,r){const{editSvc:n,editModelSvc:i}=e,{rowNode:s,column:o}=t,a=Bt(e,t);if(!a){i?.hasEdits(t)&&s&&o&&i?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor()){a?.refreshCell();return}const c=l?.getCellEditor()?.getValidationErrors?.(),u=i?.getCellValidationModel();c?.length?u?.setCellValidation(t,{errorMessages:c}):u?.clearCellValidation(t),i?.getEdit(t)&&i?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const h=i?.getEdit(t);h?.state==="changed"&&!r?.silent&&n?.dispatchCellEvent(t,r?.event,"cellEditingStopped",{valueChanged:Qi(h),newValue:h?.pendingValue,oldValue:h?.sourceValue})}function $s(e){const t=X1(e),r=new U1,{ariaAnnounce:n,localeSvc:i,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",c=LC(i)("ariaValidationErrorPrefix","Cell Editor Validation");for(const h of t){const{ctrl:d,editor:f}=h,{rowNode:p,column:m}=d,g=f.getValidationErrors?.()??[],w=f.getValidationElement?.(!1)||!f.isPopup?.()&&d.eGui;if(w){const v=g!=null&&g.length>0,b=v?g.join(". "):"";yk(w,v),v&&n.announceValue(`${c} ${g}`,"editorValidation"),w instanceof HTMLInputElement?w.setCustomValidity(b):w.classList.toggle("invalid",v)}g?.length>0&&r.setCellValidation({rowNode:p,column:m},{errorMessages:g})}Es(e,!1),s?.setCellValidationModel(r);const u=new Set;for(const{ctrl:h}of t)u.add(h.rowCtrl);if(a){const h=K6(e);s?.setRowValidationModel(h)}for(const h of u.values()){h.rowEditStyleFeature?.applyRowStyles();for(const d of h.getAllCellCtrls())d.tooltipFeature?.refreshTooltip(!0),d.editorTooltipFeature?.refreshTooltip(!0),d.editStyleFeature?.applyCellStyles?.()}}var K6=e=>{const t=new $1,r=e.gos.get("getFullRowEditValidationErrors"),n=e.editModelSvc?.getEditMap();if(!n)return t;for(const i of n.keys()){const s=n.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const u of s.keys()){const h=s.get(u);if(!h)continue;const{editorValue:d,pendingValue:f,sourceValue:p}=h,m=d??(f===bn?void 0:f)??p;o.push({column:u,colId:u.getColId(),rowIndex:a,rowPinned:l,oldValue:p,newValue:m})}const c=r?.({editorsState:o})??[];c.length>0&&t.setRowValidation({rowNode:i},{errorMessages:c})}return t};function q6(e){$s(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const r=[];return t.forEach((n,i)=>{n.forEach(({errorMessages:s},o)=>{r.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),r}var X6="ag-column-first",Y6="ag-column-last";function J1(e,t,r,n){return Vt(e)?[]:Q6(e.headerClass,e,t,r,n)}function eS(e,t,r){e.toggleCss(X6,r.isColAtEdge(t,"first")),e.toggleCss(Y6,r.isColAtEdge(t,"last"))}function Z6(e,t,r,n){return Ue(t,{colDef:e,column:r,columnGroup:n})}function Q6(e,t,r,n,i){if(Vt(e))return[];let s;if(typeof e=="function"){const o=Z6(t,r,n,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function rc(e){return!!(e.rowPinned&&e.pinnedSibling)}function sn(e,t,r,n){const i=t==="top";if(!r)return sn(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),n);if(!n){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return sn(e,t,r,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===r&&!s){s=!0,a.push(l);return}if(s&&l===n){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var de={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},Bp=!1,pd=0;function J6(e){pd>0||(e.addEventListener("keydown",gd),e.addEventListener("mousedown",gd))}function e5(e){pd>0||(e.removeEventListener("keydown",gd),e.removeEventListener("mousedown",gd))}function gd(e){const t=Bp,r=e.type==="keydown";r&&(e.ctrlKey||e.metaKey||e.altKey)||t!==r&&(Bp=r)}function t5(e){const t=hr(e);return J6(t),pd++,()=>{pd--,e5(t)}}function r5(){return Bp}function n5(e,t,r){t.addManagedElementListeners(r,{keydown:n=>{if(!n.defaultPrevented&&n.key===de.TAB){const i=n.shiftKey;so(e,r,!1,i)||ha(e,i)&&n.preventDefault()}}})}function qo(e,t,r=!1){const n=Ik;let i=YC;t&&(i+=", "+t),r&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(l=>Xn(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,c)=>l.filter(u=>c.indexOf(u)===-1))(s,o):s}function Ks(e,t=!1,r=!1,n=!1){const i=qo(e,n?".ag-tab-guard":null,r),s=t?Et(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function so(e,t,r,n){const i=qo(t,r?':not([tabindex="-1"])':null),s=Kt(e);let o;r?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(n?-1:1);return a<0||a>=i.length?null:i[a]}function tS(e,t=5){let r=0;for(;e&&Pp(e)===null&&++r<=t;)e=e.parentElement;return Pp(e)===null?null:e}function i5(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Is(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function qd(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function ha(e,t,r=!1){const n=e.ctrlsSvc.get("gridCtrl");return!r&&n.focusNextInnerContainer(t)?!0:((r||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function s5(e,t,r,{rowNode:n,column:i},s){return Ue(e.gos,{type:r,node:n,data:n.data,value:s,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:t,rowIndex:n.rowIndex})}function o5(e,t=!1){return e===de.DELETE?!0:!t&&e===de.BACKSPACE?KC():!1}var a5=class extends fe{constructor(e,t,r,n){super(),this.cellCtrl=e,this.rowNode=r,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case de.ENTER:this.onEnterKeyDown(e);break;case de.F2:this.onF2KeyDown(e);break;case de.ESCAPE:this.onEscapeKeyDown(e);break;case de.TAB:this.onTabKeyDown(e);break;case de.BACKSPACE:case de.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case de.DOWN:case de.UP:case de.RIGHT:case de.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:r,beans:n}=this;if(!n.editSvc?.isEditing(r,{withOpenEditor:!0})){if(e.shiftKey&&r.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=r.getFocusedCellPosition();n.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:r}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(e.key===de.LEFT||e.key===de.RIGHT?r?.ensureColumnVisible(n.column):r?.ensureRowVisible(n.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=n;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),o5(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(r,{withOpenEditor:!0})){if(o&&rs(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const{column:c}=r,u=this.beans.valueSvc.getDeleteValue(c,i);i.setDataValue(c,u,"cellClear")}}else l?.isEditing(r,{withOpenEditor:!0})||n.editSvc?.startEditing(r,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:r}=this,{editSvc:n,navigation:i}=r,s=n?.isEditing(t,{withOpenEditor:!0}),o=t.rowNode,a=n?.isRowEditing(o,{withOpenEditor:!0}),l=c=>{n?.startEditing(c,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){n?.applyBulkEdit(t,r?.rangeSvc?.getCellRanges()||[]);return}if($s(r),n?.checkNavWithValidation(void 0,e)==="block-stop")return;n?.isEditing(t,{withOpenEditor:!0})?n?.stopEditing(t,{event:e,source:"edit"}):a&&!t.isCellEditable()?n?.stopEditing({rowNode:o},{event:e,source:"edit"}):l(t)}else if(r.gos.get("enterNavigatesVertically")){const c=e.shiftKey?de.UP:de.DOWN;i?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(n?.hasValidationErrors())return;n?.hasValidationErrors(t)&&n.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===de.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:r}}=this;r?.isEditing()&&($s(this.beans),r?.checkNavWithValidation(void 0,e)==="block-stop")||r?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:r}}=this;r?.checkNavWithValidation(t,e)==="block-stop"&&r.revertSingleCellEdit(t),r?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const r=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:i}=this;if(r||n?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===de.SPACE)this.onSpaceKeyDown(e);else if(n?.isCellEditable(i,"ui")){if(n?.hasValidationErrors()&&!n?.hasValidationErrors(i))return;n?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:r}=this.beans,{rowNode:n}=this.cellCtrl;!r?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&_s(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,n,"spaceKey"),e.preventDefault()}};function rS(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=r}function j0({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var l5=class extends fe{constructor(e,t,r){super(),this.cellCtrl=e,this.column=r,this.beans=t}onMouseEvent(e,t){if(!hi(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:r,editSvc:n,editModelSvc:i,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;r&&o&&r.getCellRangeCount(c)>1&&r.intersectLastRange(!0);const u=a.createEvent(e,"cellClicked");t.dispatchEvent(u);const h=l.getColDef();if(h.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{h.onCellClicked(u)})},0),i?.getState(a)!=="editing"){const d=n?.isEditing(),f=i?.getCellValidationModel().getCellValidationMap().size??0,p=i?.getRowValidationModel().getRowValidationMap().size??0;if(d&&(f>0||p>0))return;n?.shouldStartEditing(a,e)?n?.startEditing(a,{event:e}):n?.shouldStopEditing(a,e)&&(this.beans.gos.get("editType")==="fullRow"?n?.stopEditing(a,{event:e,source:"edit"}):n?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a}=r,l=t.getColDef(),c=n.createEvent(e,"cellDoubleClicked");if(i.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const u=o?.isEditing(),h=a?.getCellValidationModel().getCellValidationMap().size??0,d=a?.getRowValidationModel().getRowValidationMap().size??0;if(u&&(h>0||d>0))return;o?.startEditing(n,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:u,gos:h,editSvc:d}=o;if(this.isRightClickInExistingRange(e))return;const f=l&&!l.isEmpty(),p=this.containsWidget(i),{cellPosition:m,column:g}=s,w=Zi(g);if(c&&w&&!c.handleMouseDownOnCell(m,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!f){const v=d?.isEditing(s),E=h.get("enableCellTextSelection")&&e.defaultPrevented,P=(eo()||E)&&!v&&!vm(i)&&!p;s.focusCell(P,e)}if(n&&f&&!u.isCellFocused(m)){e.preventDefault();const v=u.getFocusedCell();if(v){const{column:b,rowIndex:E,rowPinned:P}=v;d?.isEditing(v)&&d?.stopEditing(v),u.setFocusedCell({column:b,rowIndex:E,rowPinned:P,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!p){if(l){w&&e.preventDefault();const v=j0(this.beans,e)&&w;if(n)l.extendLatestRangeToCell(m);else if(!v){const b=t||r;l.setRangeToCell(m,b)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=j0(this.beans,e);if(r&&n)return!0}return!1}containsWidget(e){return Ts(e,"ag-selection-checkbox",3)||Ts(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:r}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),r?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:r}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),r?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}},c5=class extends fe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();io(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,r=e.getColSpan(t),n=[];if(r===1)n.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<r&&(n.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Vt(i)||s!==i.getPinned()));o++);}return n}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Et(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,r=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return r+n+(e||0)}return r+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=As(this.beans)*this.rowSpan;this.eContent.style.height=`${r}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},u5="ag-cell",d5="ag-cell-auto-height",h5="ag-cell-normal-height",f5="ag-cell-focus",p5="ag-cell-first-right-pinned",g5="ag-cell-last-left-pinned",m5="ag-cell-not-inline-editing",v5="ag-cell-wrap-text",md="cellCtrl";function nS(e,t){return S1(e,t,md)}var w5=0,Xo=class extends fe{constructor(e,t,r,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=r,this.gos=r.gos,this.editSvc=r.editSvc,this.hasEdit=!!r.editSvc;const{colId:i}=e;this.instanceId=i+"-"+w5++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new c5(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new l5(this,e,this.column),this.keyboardListener=new a5(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&rs(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Zi(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),$s(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,r,n,i,s,o){this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:r,ctrlsSvc:n,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=V0(r,s,o);if(n.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const c=new gt(u=>{l=u});return this.addManagedListeners(i,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:gt.resolve()}}showValue(e,t){const{beans:r,column:n,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=r;let a=this.getValueToDisplay(),l;const c=i.stub&&i.groupData?.[n.getId()]==null,u=n.getColDef();if(c||this.isCellRenderer()){const h=this.createCellRendererParams();!c||Zi(n)?l=H0(o,u,h):l=V0(o,u,h)}if(!l&&!c&&r.findSvc?.isMatch(i,n)){const h=this.createCellRendererParams();l=H0(o,{...n.getColDef(),cellRenderer:"agFindCellRenderer"},h)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const h=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});h&&(h.compDetails?l=h.compDetails:h.valueToDisplay&&(a=h.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&Ei(r,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&rc(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:r}=this.beans.gridOptions,n=nd(t),i=us(this.column);return r==="custom"&&n!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&Uo(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||r||n||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:r,rowNode:n,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return Ue(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(r,n).value,setValue:u=>l?.setDataValue({rowNode:n,column:r},u)||o.setValue(n,r,u),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:r.getPinned(),colDef:r.getColDef(),column:r,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(u,h,d,f)=>this.registerRowDragger(u,h,f),setTooltip:(u,h)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,h),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:r}=this;!r?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:r}={}){if(this.suppressRefreshCell)return;const n=this.column.getColDef(),i=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,s=e||i||r,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!r,!1);const c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&n.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,r=this.valueFormatted,{value:n,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=n,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,t){const r=this.column.getColDef();return r.equals?r.equals(e,t):e===t}addDomData(e){const t=this.eGui;Ws(this.beans.gos,t,md,this),e.addDestroyFunc(()=>Ws(this.beans.gos,t,md,null))}createEvent(e,t){const{rowNode:r,column:n,value:i,beans:s}=this;return s5(s,e,t,{rowNode:r,column:n},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:r}=this;eS(e,t,r.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);UC(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const r=this.editSvc?.allowedFocusTargetOnValidation(this);r&&r!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:r},comp:n}=this;if(!n||t?.isEditing(this)||!this.isCellFocused()||!r.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=n.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Zi(this.column)&&(e=!0),qr(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(p5,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(g5,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(qd(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const r=this.isCellFocused(),n=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(f5,r),r&&e&&e.forceBrowserFocus){let i=this.comp.getFocusableElement();if(n){const s=qo(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}r&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:di(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(u5,!0),e.toggleCss(m5,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(d5,t),e.toggleCss(h5,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(v5,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),r=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(r),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(r)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Kt(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,r){const n=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,r);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},iS="__ag_grid_instance";function sS(e,t){t[iS]=e.gridInstanceId}function Hl(e,t){return oS(e,t.target)}function oS(e,t){let r=t;for(;r;){const n=r[iS];if(Ee(n))return n===e.gridInstanceId;r=r.parentElement}return!1}function b5(e,t){return nS(e,t.target)?.getFocusedCellPosition()??null}function W0(e,t){const r=wr(e.gos,"normal"),n=t;let i,s;n.clientX!=null||n.clientY!=null?(i=n.clientX,s=n.clientY):(i=n.x,s=n.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,r){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var y5=class extends fe{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragSvc.addDragSource(r)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:r}=this,n=t.find(i=>i.dragSource===e);n&&(r.removeDragSource(n.params),wn(t,n))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:r}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,r.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const r=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,r,n,t),o!==null&&s===null&&a?.onGridExit?.(c),o===null&&s!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(s,e,r,n,t),s&&l){const{comp:u,promise:h}=l;u?u.setIcon(s.getIconName?s.getIconName():null,!1):h.then(d=>{d&&d.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const u=this.createDropTargetEvent(s,e,r,n,t);s.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;const i=(a,l)=>{for(const c of l){const{width:u,height:h,left:d,right:f,top:p,bottom:m}=c.getBoundingClientRect();if(u===0||h===0)return!1;const g=a.clientX>=d&&a.clientX<f,w=a.clientY>=p&&a.clientY<m;if(!g||!w)return!1}return!0};for(const a of r)if(i(e,a)){n=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:n&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const i=Ol(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,n,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,r,n,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,r,n){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,r,n);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const r=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return r.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,r=e.clientX;return t===r?null:t>r?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,r=e.clientY;return t===r?null:t>r?"up":"down"}createDropTargetEvent(e,t,r,n,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,u=t.clientX-o.left,h=t.clientY-o.top;return Ue(c,{event:t,x:u,y:h,vDirection:n,hDirection:r,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&Yk(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const r=t.getGui();this.dragAndDropImageParent?.removeChild(r),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:r}=this;if(!e)return;const n=o6(r,Ue(t,{dragSource:e}));if(!n)return;const i=n.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:r}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),sS(this.gos,n),r.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),n.style.top="20px",n.style.left="20px";const s=Rm(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(n):we(54)}registerGridDropTarget(e,t){const r={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(r),t.addDestroyFunc(()=>this.removeDropTarget(r))}},C5=class extends fe{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,r=t.find(n=>n.dragSource===e);r&&(this.removeListener(r),wn(t,r))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:i}=e;r.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");n&&!o&&(s=a=>{vm(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},r.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Ol(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=c=>this.onMouseMove(c,e.eElement),i=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===de.ESCAPE&&this.cancelDrag(e.eElement)},a=Ol(this.beans),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:i,options:s}=t;r.addEventListener(n,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:i,options:s}=t;r.removeEventListener(n,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=Ee(r)?r:4;return rS(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){eo()&&hr(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,r=t.get("enableCellTextSelection"),n=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return r&&n&&e.cancelable&&Hl(t,e)&&!i(e)}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function aS(e,t){return e+"_"+t}function Zt(e){return e instanceof Vl}var Vl=class extends fe{constructor(e,t,r,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=r,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return aS(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Zt(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Et(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{ns(t)?e.push(t):Zt(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{ns(t)?e.push(t):Zt(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(Zt(r)&&!r.displayedChildren?.length)return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Hp="row-group-",Mm="t-",Tm="b-",S5=0,qs=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=S5++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:r,eventSvc:n}=this.beans,i=this.data;this.data=e,r?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}n.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),n.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,r){return{type:"dataChanged",node:this,oldData:t,newData:e,update:r}}getRowIndexString(){return this.rowIndex==null?(kt(13),null):this.rowPinned==="top"?Mm+this.rowIndex:this.rowPinned==="bottom"?Tm+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:r}=this.beans,n=r?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),r&&(r.updateRowSelectable(this),r.syncInRowNode(this,n));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=ca(this.beans.gos);if(t)if(this.data){const r=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Hp)&&kt(14,{groupPrefix:Hp})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,r){this.beans.expansionSvc?.setExpanded(this,e,t,r)}setDataValue(e,t,r){const{colModel:n,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:h},data:d,rowIndex:f,rowPinned:p}=this;return h.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:f,rowPinned:p,column:a,colDef:a.colDef,data:d,node:this,oldValue:l,newValue:t,value:t,source:r}),!1}if(o&&!o.committing){const h=o.setDataValue({rowNode:this,column:a},t,r);if(h!=null)return h}const c=i.setValue(this,a,t,r);this.dispatchCellChangedEvent(a,t,l);const u=this.pinnedSibling;return u&&c&&u.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,r){const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:r};this.__localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,r="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:r})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Gs),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Gs),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const r=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,r)}removeEventListener(e,t){const r=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,r)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(we(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function x5(e,t,r){return Ue(t,{type:r,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var R5=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function E5(e,t){const r=new qs(t);return Object.keys(e).forEach(n=>{R5.has(n)||(r[n]=e[n])}),r.oldRowTop=null,r}var lS={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},k5=new Set(Object.values(lS));function Ti(e,t){const r=e.filterUi;if(!r)return null;if(r.created)return r.promise;if(t)return null;const n=r.create(r.refreshed),i=r;return i.created=!0,i.promise=n,n}function F5(e,t,r,n,i,s){return t.refresh?.({...r,model:n,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;cS(a,l,n,i,s)}})}function cS(e,t,r,n,i){e?.refresh?.({...t,model:r,state:n,source:i})}function uS(e,t,r){const n=e();n?.created&&n.promise.then(i=>{const s=t();cS(i,n.filterParams,s,r()??{model:s},"ui")})}function U0(e,t,r,n,i,s){let o,a=!1,l;switch(e){case"apply":{const c=n();l=c?.model??null,o={state:c?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:r()};break}}i(o),a?s(l):uS(t,r,n)}function ur(e,t){return e[t]??null}function P5(e){return{tag:"div",cls:e}}var M5=class extends Dt{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(P5(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const r=this.buttons;if(this.buttons=e,r===e)return;const n=this.getGui();en(n);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:c,label:u})=>{const h=w=>{this.dispatchLocalEvent({type:c,event:w})};["apply","clear","reset","cancel"].includes(c)||we(75);const d=c==="apply",p=Jt({tag:"button",attrs:{type:d&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${d?" "+o+"-apply-button":""}`,children:u});this.activateTabIndex([p]),d&&(i=p);const m=w=>{w.key===de.ENTER&&(w.preventDefault(),h(w))},g=this.listeners;p.addEventListener("click",h),g.push(()=>p.removeEventListener("click",h)),p.addEventListener("keydown",m),g.push(()=>p.removeEventListener("keydown",m)),s.append(p)};e.forEach(c=>a(c)),this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),n.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const r=this.eApply;r&&(Dl(r,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},T5={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Vi(e,t,r){return hk(e,T5,t,r)}function _m(e,t){const{debounceMs:r}=e;return Xd(e)?(r!=null&&we(71),0):r??t}function Xd(e){return(e.buttons?.indexOf("apply")??-1)>=0}var _5=class extends Dt{constructor(e,t,r,n,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=r,this.updateModel=n,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,r=t,n=r.useForm,i=n?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),n&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=r,this.resetButtonsPanel(r),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,r){const{buttons:n,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!r&&i===o&&_l(n,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const u=s.map(h=>{const d=`${h}Filter`;return{type:h,label:Vi(this,d)}});if(this.applyActive=Xd(this.params),!c){c=this.createBean(new M5),this.appendChild(c.getGui());const h=this.column,d=f=>({event:p})=>{this.updateModel(h,f),this.afterAction(f,p)};c?.addManagedListeners(c,{apply:d("apply"),clear:d("clear"),reset:d("reset"),cancel:d("cancel")}),this.eButtons=c}c.updateButtons(u,a)}else this.applyActive=!1,c&&(wi(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const r=e,n=r&&r.key;let i;(n===de.ENTER||n===de.SPACE)&&(i={keyboardEvent:r}),t(i),this.hidePopup=null}afterAction(e,t){const{params:r,applyActive:n}=this,i=r?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&n&&this.close(t);break}case"reset":{i&&n&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===de.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},A5={tag:"div",cls:"ag-filter"},D5=class extends Dt{constructor(e,t,r){super(A5),this.column=e,this.source=t,this.enableGlobalButtonCheck=r,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??gt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:r,beans:{colFilter:n}}=this,i=n.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const c=!!this.enableGlobalButtonCheck,u=this.createBean(new _5(t,s,n,n.updateModel.bind(n),c&&n.isGlobalButtons,c));this.comp=u,l=u.getGui()}else l=a.getGui(),Ee(l)||we(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:r}=e;(t==="api"||t==="paramsUpdated")&&r.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(en(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},Am="T",I5=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${Am}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Vn(e,t){return e.toString().padStart(t,"0")}function Zr(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Vn(i,2)).join(r);return t&&(n+=Am+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Vn(i,2)).join(":")),n}function Oc(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Vn(e.getDate(),2),Vn(e.getHours(),2),`:${Vn(e.getMinutes(),2)}`,`:${Vn(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Vn(e.getDate(),2)].map(String):null}var Xh=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Vp(e,t){if(t==null)return Zr(e,!1);const r=Vn(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Vn(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Xh(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Xh(e.getDate())}`,DD:()=>Vn(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Xh(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function yu(e,t=!1){return!!jr(e,t)}function O5(e){return yu(e,!0)}function jr(e,t=!1){if(!e||!I5.test(e))return null;const[r,n]=e.split(Am);if(!r)return null;const i=r.split("-").map(d=>parseInt(d,10));if(i.filter(d=>!isNaN(d)).length!==3)return null;const[s,o,a]=i,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!n&&t)return null;if(!n||n==="00:00:00")return l;const[c,u,h]=n.split(":").map(d=>parseInt(d,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(u>=0&&u<60)l.setMinutes(u);else if(t)return null;if(h>=0&&h<60)l.setSeconds(h);else if(t)return null;return l}var $0={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},K0=["january","february","march","april","may","june","july","august","september","october","november","december"];function L5(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function q0(e){return e instanceof Date&&!isNaN(e.getTime())}var Gp={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:q0}),dateString:({dataTypeDefinition:e})=>({comparator:(t,r)=>{const n=e.dateParser(r);return r==null||n<t?-1:n>t?1:0},isValidDate:t=>typeof t=="string"&&q0(e.dateParser(t))}),dateTime:e=>Gp.date(e),dateTimeString:e=>Gp.dateString(e),object:()=>{},text:()=>{}},zp={number:()=>({comparator:L5}),boolean:({t:e})=>({valueFormatter:t=>Ee(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:r=>{const n=e(r);return Ee(n)?n:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(r,n)=>{if(r==="NaN")return t("invalidDate","Invalid Date");if(n===1&&r!=null){const i=K0[Number(r)-1];return t(i,$0[i])}return r??t("blanks","(Blanks)")},treeListPathGetter:r=>Oc(r,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:r})=>({valueFormatter:n=>{const i=e(n);return Ee(i)?i:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:n=>Oc(t.dateParser(n??void 0),!1),treeListFormatter:(n,i)=>{if(i===1&&n!=null){const s=K0[Number(n)-1];return r(s,$0[s])}return n??r("blanks","(Blanks)")}}),dateTime:e=>{const t=zp.date(e);return t.treeListPathGetter=Oc,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,r=zp.dateString(e);return r.treeListPathGetter=n=>Oc(t(n??void 0)),r},object:({formatValue:e,t})=>({valueFormatter:r=>{const n=e(r);return Ee(n)?n:t("blanks","(Blanks)")}}),text:()=>{}};function N5(e,t,r,n,i,s,o){let a=t,l=r;const c=e==="agSetColumnFilter";!l&&n.baseDataType==="object"&&!c&&(l=({column:f,node:p})=>i({column:f,node:p,value:s.valueSvc.getValue(f,p)}));const h=(c?zp:Gp)[n.baseDataType],d=h({dataTypeDefinition:n,formatValue:i,t:o});return a=typeof t=="object"?{...d,...t}:d,{filterParams:a,filterValueGetter:l}}var B5={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},H5={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function V5(e,t=!1){return(t?H5:B5)[e??"text"]}var dS="ag-resizer-wrapper",_i=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),G5={tag:"div",cls:dS,children:[_i("eTopLeft","topLeft"),_i("eTop","top"),_i("eTopRight","topRight"),_i("eRight","right"),_i("eBottomRight","bottomRight"),_i("eBottom","bottom"),_i("eBottomLeft","bottomLeft"),_i("eLeft","left")]},z5=class extends fe{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:r}=this.offsetParent,n=r/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(n,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:r,minWidth:n,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,u=0;const h=Xn(this.element);if(h){const d=this.findBoundaryElement(),f=window.getComputedStyle(d);if(f.minWidth!=null){const p=d.offsetWidth-this.element.offsetWidth;u=parseInt(f.minWidth,10)-p}if(f.minHeight!=null){const p=d.offsetHeight-this.element.offsetHeight;c=parseInt(f.minHeight,10)-p}}if(this.minHeight=s||c,this.minWidth=n||u,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(h&&r){let d=this.boundaryEl,f=!0;if(d||(d=this.findBoundaryElement(),f=!1),d){const p=parseFloat(d.style.top),m=parseFloat(d.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(p)?0:p,e):this.setPosition(m,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(r),this.moveElementDragListener=r):(this.dragSvc?.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ol(r,e),e=ZC(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?ol(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-n.bottom}}return r+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)$n(t,e),e=Qu(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=r?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?$n(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,r){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:r}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Ri(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!i,o)?0:o,c=this.shouldSkipY(t,!!n,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,r,n){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+s.left||n>0&&e.clientX<a+s.left:r?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+s.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,r=0,n){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+s.top+r||n>0&&e.clientY<a+s.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Jt(G5)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${dS}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const i=e[n],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const i=r[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||n,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),h=this.position.x,d=this.position.y;let f=0,p=0;if(a&&c){const m=o?-1:1,g=this.getWidth(),w=g+c*m;let v=!1;o&&(f=g-w,(h+f<=0||w<=this.minWidth)&&(v=!0,f=0)),v||this.setWidth(w)}if(l&&u){const m=n?-1:1,g=this.getHeight(),w=g+u*m;let v=!1;n?(p=g-w,(d+p<=0||w<=this.minHeight)&&(v=!0,p=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&g<w&&this.getMinSizeOfSiblings().height+w>this.element.parentElement.offsetHeight&&(v=!0),v||this.setHeight(w)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&f||p)&&this.offsetElement(h+f,d+p)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,r+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},j5="ag-focus-managed",ya=class extends fe{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=so(this.beans,this.eFocusable,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:r}}=this;e.classList.add(j5),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),r&&this.addManagedElementListeners(e,{focusout:r})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||hi(t))return;const{callbacks:r}=this;if(r.shouldStopEventPropagation(t)){Us(t);return}t.key===de.TAB?r.onTabKeyDown(t):r.handleKeyDown&&r.handleKeyDown(t)}})}},W5=class extends Dt{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new ya(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new z5(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,r=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,r);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=Xd(e),this.setupApplyDebounced()}doesFilterPass(e){we(283);const{getHandler:t,model:r,column:n}=this.params;return t().doesFilterPass({...e,model:r,handlerParams:this.beans.colFilter.getHandlerParams(n)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return we(284),this.params.model!=null}setupApplyDebounced(){const e=_m(this.params,this.defaultDebounceMs),t=mr(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return we(285),this.params.model}setModel(e){we(286);const{beans:t,params:r}=this;return t.colFilter.setModelForColumnLegacy(r.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:r}=this,n=!this.areModelsEqual(t.model,r.model);return n&&t.onAction("apply",e),n}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const r=this.getModelFromUi(),n={model:r,state:this.getState(),valid:this.canApply(r)};this.state=n;const i=this.params;i.onStateChange(n),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:r}=this;if(!t)return;const n=e==="floatingFilter"||e==="columnFilter";n?(t.restoreLastSize(),t.setResizable(r.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(n)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Vi(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function U5(e){return!!e.operator}function $5(e,t,r){if(t==null)return null;let n=null;const{compName:i,jsComp:s,fwComp:o}=G1(e,t);return i?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(n=r()),n}var Cu={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},Dm=class extends fe{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?Cu.AUTO_HEIGHT:t.print?Cu.PRINT:Cu.NORMAL;this.view.updateLayoutClasses(r,t)}},Ai="Viewport",X0="fakeVScrollComp",Yh=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],Y0=100,Zh=150,K5=class extends fe{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=mr(this,()=>this.lastScrollSource[1]=null,Zh),this.resetLastVScrollDebounced=mr(this,()=>this.lastScrollSource[0]=null,Zh)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,r=>{this.centerRowsCtrl=r.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ai)});for(const e of Yh){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?mr(this,this.onVScroll.bind(this,Ai),Y0):this.onVScroll.bind(this,Ai),n=t?mr(this,this.onVScroll.bind(this,X0),Y0):this.onVScroll.bind(this,X0);this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Yh,Ai]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);ed(r,e,this.enableRtl)}}getViewportForSource(e){return e===Ai?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=Ju(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ai?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:r}=this;r?.setScrollTop(t),this.nextScrollTop=t,e===Ai?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,r?.active?r.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Zh)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!Ms()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=wm(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const r of Yh)if(this.getViewportForSource(r).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Ai)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),ed(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:r,lastScrollTop:n}=this;return{top:n,bottom:n+r}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:r}=this.beans,n=r.getRowCount();let i=-1;for(let s=0;s<n;s++){const o=r.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,r=0){if(wr(this.gos,"print"))return;const{rowModel:n}=this.beans,i=n.getRowCount();if(typeof e!="number"||e<0||e>=i){we(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),u=n.getRow(e);let h,d,f=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:p,stickyBottomHeight:m}=c,g=u.rowTop,w=u.rowHeight,v=o.getPixelOffset(),b=u.rowTop-v,E=b+u.rowHeight,P=this.getVScrollPosition(),A=a.divStretchOffset,L=P.top+A,T=P.bottom+A,B=T-L,H=a.getScrollPositionForPixel(b),G=a.getScrollPositionForPixel(E-B),D=Math.min((H+G)/2,b),k=L+p>b,M=T-m<E;let R=null;t==="top"?R=H-p:t==="bottom"?R=G+m:t==="middle"?R=D:k?R=H-p:M&&(G-H>B?R=H-p:R=G+m),R!==null&&(this.setVerticalScrollPosition(R),l.redraw({afterScroll:!0})),h=g!==u.rowTop||w!==u.rowHeight,d=p!==c.stickyTopHeight||m!==c.stickyBottomHeight,f++}while((h||d)&&f<10);if(this.animationFrameSvc?.flushAllFrames(),r<10&&(u?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const p=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const m=this.getVScrollPosition().top;p!==m&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=n.getRowCount())&&this.ensureIndexVisible(e,t,r+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:r,frameworkOverrides:n}=this.beans,i=r.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);n.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:n)||i,l=o?n:r;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:h,colRight:d}=this.getColumnBounds(e);return c?h-s/2:a?o?d:u:o?u-s:d-s}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:r<i,a=s?r<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleCols.bodyWidth,n=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?r-i:i,a=o+n*s,l=o+n/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},Im=class extends fe{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=wr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:r}=this.beans,n=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=n+i+s:(o=n,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&r.verticalScrollShowing&&(o+=r.getScrollbarWidth())),this.callback(o)}},q5=class extends fe{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:r}=this,n=()=>{Ei(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),r.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=wm(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function Om(e,t,r,n,i,s){if(r==null&&t==null)return;const o={},a={},l=(c,u)=>{c.split(" ").forEach(h=>{h.trim()!=""&&u(h)})};if(r){const c=Object.keys(r);for(let u=0;u<c.length;u++){const h=c[u],d=r[h];let f;typeof d=="string"?f=e?e.evaluate(d,n):!0:typeof d=="function"&&(f=d(n)),l(h,p=>{f?o[p]=!0:a[p]=!0})}}t&&s&&Object.keys(t).forEach(c=>l(c,u=>{o[u]||(a[u]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function Z0(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var X5=class extends fe{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const r=this.gos,n=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},i=r.get("rowClass");i&&n(i);const s=r.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);n(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,r=>{e.push(r)},()=>{})}processRowClassRules(e,t,r){const{gos:n,expressionSvc:i}=this.beans,s=Ue(n,{data:e.data,node:e,rowIndex:e.rowIndex});Om(i,void 0,n.get("rowClassRules"),s,t,r)}processStylesFromGridOptions(e){const t=this.gos,r=t.get("rowStyle"),n=t.getCallback("getRowStyle");let i;if(n){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=n(s)}if(i||r)return Object.assign({},r,i)}},Y5=0,vd="renderedRow",wd=class extends fe{constructor(e,t,r,n,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Y5++,this.rowId=mu(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Z0(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=mu(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,r,n){const{context:i,focusSvc:s}=this.beans;n=ec(this,i,n);const o={rowComp:e,element:t,containerType:r,compBean:n};this.allRowGuis.push(o),this.updateGui(r,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const u=this.fullWidthGui?.element;u&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),_s(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>r.toggleCss(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Rp(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),Ws(t,e.element,vd,this),e.compBean.addDestroyFunc(()=>Ws(t,e.element,vd,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=mu(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(Mp(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(Mp(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const r=this.createBean(t,this.beans.context);this.rowDragComps.push(r),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==r),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(r,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),r=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(r)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:r,beans:{visibleCols:n}}=this,i=!!e||!n.isPinningLeft(),s=!!t,o=!!r||!n.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),r=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),i=m1(this.gos,this.rowNode,n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:r}=this.beans;if(!r?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(r.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Xo(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,r=null){const n={list:[],map:{}},i=(c,u,h)=>{h!=null?n.list.splice(h,0,u):n.list.push(u),n.map[c]=u},s=[];for(const c of t){const u=c.getInstanceId();let h=e.map[u];h&&!this.isCorrectCtrlForSpan(h)&&(h.destroy(),h=void 0),h||(h=this.getNewCellCtrl(c)),h&&i(u,h)}for(const c of e.list){const u=c.column.getInstanceId();if(n.map[u]!=null)continue;!this.isCellEligibleToBeRemoved(c,r)?s.push([u,c]):c.destroy()}if(s.length)for(const[c,u]of s){const h=n.list.findIndex(f=>f.column.getLeft()>u.column.getLeft()),d=h===-1?void 0:Math.max(h-1,0);i(c,u,d)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==r){const c=l.column.getInstanceId();if(!n.map[c]&&a.allCols.includes(l.column)){const h=this.createFocusedCellCtrl();if(h){const d=n.list.findIndex(p=>p.column.getLeft()>h.column.getLeft()),f=d===-1?void 0:Math.max(d-1,0);i(c,h,f)}}}return n}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,r=e.getFocusedCell();if(!r)return;const n=t?.getCellSpan(r.column,this.rowNode);if(n){if(n.firstNode!==this.rowNode||!n.doesSpanContain(r))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(r.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const r=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(r,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const r=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||wr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Ee(this.rowNode.oldRowTop),{visibleCols:r}=this.beans,n=r.isPinningLeft(),i=r.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=n,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=n,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&r&&n&&i}addListeners(){const{beans:e,gos:t,rowNode:r}=this,{expansionSvc:n,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...n?.getRowExpandedListeners(this)??{}}),r.detail&&this.addManagedListeners(r.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(r,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!r.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell(e)),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",r=t==="above",n=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||r),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const c=l.rowComp;c.toggleCss("ag-row-highlight-above",r),c.toggleCss("ag-row-highlight-inside",n),c.toggleCss("ag-row-highlight-below",i),c.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:di(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:r,column:n}=t;if(!(r.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),u={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:c?.column??n};l?.navigateToNextCell(e,e.key,u,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||hi(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),r=t?t.element:null,n=r===e.target,i=Kt(this.beans);let s=!1;r&&i&&(s=r.contains(i)&&i.classList.contains("ag-cell"));let o=null;!n&&!s&&(o=so(this.beans,r,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>Xn(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(r=>{qr(r.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,r=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?n=s==="right"?this.rightGui?.element:this.leftGui?.element:n=this.centerGui?.element}n&&(n.classList.toggle("ag-full-width-focus",r),r&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const r={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(r.list.push(n),r.map[n.column.getInstanceId()]=n)}),r}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:r}=this;return Ue(this.gos,{type:e,node:r,data:r.data,rowIndex:r.rowIndex,rowPinned:r.rowPinned,event:t})}createRowEventWithSource(e,t){const r=this.createRowEvent(e,t);return r.source=this,r}onRowDblClick(e){hi(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),r=this.getColumnForFullWidth(t);if(!(!t||!r))return{rowGui:t,column:r}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Ts(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:r,focusSvc:n}=this.beans;r?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,a=s.element,l=e.target;let c=e.defaultPrevented||eo();a&&a.contains(l)&&vm(l)&&(c=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(hi(e)||this.lastMouseDownOnDragger)return;const{eventSvc:r,selectionSvc:n}=this.beans;r.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:r,rowNode:n}=this,i=Ue(r,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{r.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return p6(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,f6(s,i)}case"FullWidthLoading":return h6(s,i);default:return d6(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,r="",n){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>r,this.rowNode,void 0,e,t,n);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=Z0(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.toggleCss(t,!0),n.rowComp.toggleCss(r,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(r=>r.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),r=this.isFullWidth(),{rowNode:n,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!n.isRowPinned()&&n.pinnedSibling&&s.push("ag-row-pinned-source"),n.isSelected()&&s.push("ag-row-selected"),n.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),n.stub&&s.push("ag-row-loading"),r&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,n),n.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,n),o.preProcessRowClassRules(s,n)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),r&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:r}=e,{rowNode:n,beans:i,gos:s}=this;r.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&n.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&n.dispatchRowEvent("mouseLeave")}}),r.addManagedListeners(n,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(r=>r.element);for(const r of t)r.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(r,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),i=c1(this.gos)?ts(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(r,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Wo(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(Kt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventSvc.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.pageBounds.getPixelOffset();return e+r*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ee(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let r;if(t.sticky)r=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(n);r=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return r+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let r=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(r=n)}),r!=null||t||this.getAllCellCtrls().forEach(n=>{n?.getColSpanningList().indexOf(e)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const r=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,i=r+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",n),s.rowComp.toggleCss("ag-row-odd",!n),WC(s.element,i)})}};function hS(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function jp(e,t,r,n,i){const s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=Ue(e,{event:t,editing:i,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(s&&s(o))}function Z5(e){const{pinnedRowModel:t,rowModel:r}=e,[n,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=n?null:"top";let o,a;i?(o=null,a=r.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:c}=e,u=l.allCols;!c||!u?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var Q5=65,J5=67,eF=86,tF=68,rF=90,nF=89;function iF(e){const{keyCode:t}=e;let r;switch(t){case Q5:r=de.A;break;case J5:r=de.C;break;case eF:r=de.V;break;case tF:r=de.D;break;case rF:r=de.Z;break;case nF:r=de.Y;break;default:r=e.code}return r}var sF=class extends fe{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",C1("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){if(!Hl(this.gos,t)||hi(t))return;const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(r?.column&&r.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,n,r)):(r&&r.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:nS(t,e),rowCtrl:S1(t,e,vd)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!jp(this.gos,r,e.rowNode,e.column,n)&&t==="keydown"&&(!n&&this.beans.navigation?.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,n),hS(r)&&e.processCharacter(r)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const{rowNode:n}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!jp(this.gos,r,n,a,!1)){const c=r.key;if(t==="keydown")switch(c){case de.PAGE_HOME:case de.PAGE_END:case de.PAGE_UP:case de.PAGE_DOWN:s?.handlePageScrollingKey(r,!0);break;case de.LEFT:case de.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case de.UP:case de.DOWN:e.onKeyboardNavigate(r);break;case de.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Hl(this.gos,e))return;const r=iF(e),{clipboardSvc:n,undoRedo:i}=this.beans;if(r===de.A)return this.onCtrlAndA(e);if(r===de.C)return this.onCtrlAndC(n,e);if(r===de.D)return this.onCtrlAndD(n,e);if(r===de.V)return this.onCtrlAndV(n,e);if(r===de.X)return this.onCtrlAndX(n,e);if(r===de.Y)return this.onCtrlAndY(i);if(r===de.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:r,selectionSvc:n},gos:i}=this;r&&rs(i)&&t.isRowsToRender()?Z5(this.beans):n&&n?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:w1(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(r,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:r}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(r,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:r}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(r,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},fS=class extends fe{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,r=t!=null?`${t}px`:"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)}},Lc=e=>e.topRowCtrls,Nc=e=>e.getStickyTopRowCtrls(),Bc=e=>e.getStickyBottomRowCtrls(),Hc=e=>e.bottomRowCtrls,Vc=e=>e.allRowCtrls,Qh=e=>e.getCtrls("top"),Jh=e=>e.getCtrls("center"),ef=e=>e.getCtrls("bottom"),oF={center:{type:"center",name:"center-cols",getRowCtrls:Vc,getSpannedRowCtrls:Jh},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Vc,getSpannedRowCtrls:Jh},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Vc,getSpannedRowCtrls:Jh},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Vc},topCenter:{type:"center",name:"floating-top",getRowCtrls:Lc,getSpannedRowCtrls:Qh},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Lc,getSpannedRowCtrls:Qh},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Lc,getSpannedRowCtrls:Qh},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Lc},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Nc},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Nc},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Nc},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Nc},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Bc},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Bc},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Bc},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Bc},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Hc,getSpannedRowCtrls:ef},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Hc,getSpannedRowCtrls:ef},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Hc,getSpannedRowCtrls:ef},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Hc}};function pS(e){return`ag-${nc(e).name}-viewport`}function Su(e){const t=nc(e);return t.container??`ag-${t.name}-container`}function aF(e){return`ag-${nc(e).name}-spanned-cells-container`}function nc(e){return oF[e]}var lF=["topCenter","topLeft","topRight"],cF=["bottomCenter","bottomLeft","bottomRight"],uF=["center","left","right"],dF=["center","left","right","fullWidth"],hF=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],fF=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],pF=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],gS=["stickyTopCenter","stickyTopLeft","stickyTopRight"],mS=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],gF=[...gS,"stickyTopFullWidth",...mS,"stickyBottomFullWidth"],mF=[...lF,...cF,...uF,...gS,...mS],vF=class extends fe{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=nc(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new q5(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,r,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=r,this.eViewport=n,this.createManagedBean(new sF(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(fF,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(pF,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(dF,()=>this.createManagedBean(new fS(this.eContainer,this.name==="center"?n:void 0))),s&&this.forContainers(mF,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(hF,()=>this.createManagedBean(new Im(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r,displayedColumnsWidthChanged:r,displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),r(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(gF.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=wr(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=r=>{e.dragging&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Il(this.eViewport)}getCenterViewportScrollLeft(){return Ju(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Ri(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return JC(this.eViewport)}getViewportScrollLeft(){return Ju(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||e1(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){ed(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=wr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||r,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},wF="ag-force-vertical-scroll",bF="ag-selectable",yF="ag-column-moving",CF=class extends fe{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,r,n,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=r.querySelector(`.${pS("center")}`),this.eFullWidthContainer=r.querySelector(`.${Su("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Su("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Su("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new Dm(this.comp)),this.scrollFeature=this.createManagedBean(new K5(r)),this.beans.rowDragSvc?.setupRowDrag(r,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),r=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:r,rowResizeEnded:r}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const r=t&&e.getScrollbarWidth()||0,n=XC()?16:0,i=`calc(100% + ${r+n}px)`;Ei(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let r=this.gos.get("treeData");if(!r){const n=t.isPivotMode();r=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(r?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,i=Ts(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:r=>{const{target:n,relatedTarget:i}=r,s=t.contains(i),o=Ts(i,"ag-root",t);Ts(n,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(yF,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(bF,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,r=t.isLastRowIndexKnown()?t.getRowCount():-1,n=r===-1?-1:e+r;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?wF:null,r=wr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&t1(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let r=t.sizesMeasured;const n=()=>{const i=r&&Wo(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!r&&t.sizesMeasured&&(r=!0,n())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:r,eTop:n,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const u of[t,r,n,i])this.addManagedElementListeners(u,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const u of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(u).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&Hl(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,r=e?.getPinnedTopTotalHeight(),n=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=r?o+r:0,l=n?o+n:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),r=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:r}=this,n=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=n+s;r.setStickyBottomBottom(`${o}px`)}},vS=class extends Dt{constructor(e,t){super(),this.direction=t,this.eViewport=ze,this.eContainer=ze,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",KC()||Ms())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=XC(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),r=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Ei(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;Bk(()=>Xn(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},SF={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},xF=class extends vS{constructor(){super(SF,"horizontal"),this.eLeftSpacer=ze,this.eRightSpacer=ze,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Im(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();r&&(t+=n),$n(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=n),$n(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=r?0:n===0&&t?16:n,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),ol(this.getGui(),s),ol(this.eViewport,s),ol(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return Ju(this.eViewport,this.enableRtl)}setScrollPosition(e){Xn(this.eViewport)||this.attemptSettingScrollPosition(e),ed(this.eViewport,e,this.enableRtl)}},RF={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},EF=class extends vS{constructor(){super(RF,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new fS(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,r=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,i=n===0&&r?16:n;this.toggleCss("ag-scrollbar-invisible",r),$n(this.getGui(),i),$n(this.eViewport,i),$n(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const r=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),i=r.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Xn(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function zn(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Lm(e){const t=[],r=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of r){if(!n)continue;const i=n.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=n.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=kF(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function kF(e,t){let n=e.colModel.isPivotMode()?PF(e):bS(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>n&&o.isAutoHeaderHeight()&&(n=a)}return n}function Nm(e){let r=e.colModel.isPivotMode()?FF(e):ic(e);return e.colModel.forAllCols(n=>{const i=n.getAutoHeaderHeight();i!=null&&i>r&&n.isAutoHeaderHeight()&&(r=i)}),r}function ic(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function wS(e){return e.gos.get("floatingFiltersHeight")??ic(e)}function bS(e){return e.gos.get("groupHeaderHeight")??ic(e)}function FF(e){return e.gos.get("pivotHeaderHeight")??ic(e)}function PF(e){return e.gos.get("pivotGroupHeaderHeight")??bS(e)}var MF=class extends fe{setComp(e,t,r){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=n;i&&this.createManagedBean(new ya(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Ei(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const r=Lm(e).reduce((s,o)=>s+o,0),n=Nm(e);if(e.filterManager?.hasFloatingFilters()&&(t+=wS(e)),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const r=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",r)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(n,!0,e)||!r&&o.focusOverlay(!1)||ha(i,r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:r}=this.beans;switch(e.key){case de.LEFT:t="LEFT";case de.RIGHT:{Ee(t)||(t="RIGHT"),r.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case de.UP:t="UP";case de.DOWN:{Ee(t)||(t="DOWN"),r.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:r,beans:n}=this;!t&&r.contains(Kt(n))||r.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,r){const{menuSvc:n,ctrlsSvc:i}=this.beans;if(!e&&!r||!n?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&n.showHeaderContextMenu(void 0,e,r)}},Bm=class extends fe{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Et(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,r=e.get("suppressColumnMoveAnimation"),n=Ee(this.columnOrGroup.getOldLeft());t?.isActive()&&n&&!r?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),r=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=r,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:r,visibleCols:n}=this.beans;if(!wr(r,"print")||e.getPinned()==="left")return t;const s=n.getColsLeftWidth();if(e.getPinned()==="right"){const o=n.bodyWidth;return s+o+t}return s+t}setLeft(e){if(Ee(e)&&(this.eCell.style.left=`${e}px`),Zt(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Fk(this.ariaEl,t.length)}}},TF=0,yS="headerCtrl",Hm=class extends fe{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+TF++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:r}=this.beans.focusSvc.focusedHeader,n=r.getDefinition(),i=n&&n.suppressHeaderKeyboardEvent;if(!Ee(i))return!1;const s=Ue(this.gos,{colDef:n,column:r,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return Kt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let r;if(typeof t=="function"){const n=this.getHeaderClassParams();r=t(n)}else r=t;r&&this.comp.setUserStyles(r)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:r,compBean:n}=e,{beans:i}=this,s=h=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:d,paddingBottom:f,borderBottomWidth:p,borderTopWidth:m}=to(this.eGui),g=d+f+p+m,v=t.offsetHeight+g;if(h<5){const b=hr(i),E=!b||!b.contains(t),P=v==0;if(E||P){Mp(()=>s(h+1),"raf",i);return}}this.setColHeaderHeight(this.column,v)};let o=!1,a;const l=()=>{const h=this.column.isAutoHeaderHeight();h&&!o&&c(),!h&&o&&u()},c=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=Ri(this.beans,t,()=>s(0))},u=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),n.addDestroyFunc(()=>u()),n.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),n.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),r&&r(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:r,eGui:n}=this;!e||!t||!n||(eS(e,t,r.visibleCols),UC(n,r.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Is(this.beans);this.eGui&&qr(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Kt(this.beans),r=e.key===de.LEFT||e.key===de.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||r)&&(e.preventDefault(),e.stopImmediatePropagation()),!r))return;const i=e.key===de.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:r}=this.beans;return r?r.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:r}=this;let n=e.key===de.LEFT!==t.get("enableRtl");const i=r.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=yS,{eGui:r,gos:n}=this;Ws(n,r,t,this),e.addDestroyFunc(()=>Ws(n,r,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,r){const n=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&n.preventDefault(),i?.isHeaderContextMenuEnabled(r)&&i.showHeaderContextMenu(r,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:r}=this;e.isColumn?r.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):r.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},_F=class extends Hm{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,r,n,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:u,rangeSvc:h}=a,d=ec(this,c,i);this.setGui(t,d),this.updateState(),this.setupWidth(d),this.setupMovingCss(d),this.setupMenuClass(d),this.setupSortableClass(d),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:p=>this.setRefreshFunction("measuring",p),compBean:d}),this.addColumnHoverListener(d),this.setupFilterClass(d),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(d),this.setupSelectAll(d),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=d.createManagedBean(l.createResizeFeature(s.pinned,o,r,e,this)):Wt(r,!1),u?.createHoverFeature(d,[o],t),h?.createRangeHighlightFeature(d,o,e),d.createManagedBean(new Bm(o,t,a)),d.createManagedBean(new ya(t,{shouldStopEventPropagation:p=>this.shouldStopEventPropagation(p),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(d),d.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),d.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),d.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const f=()=>this.checkDisplayName();d.addManagedEventListeners({columnValueChanged:f,columnRowGroupChanged:f,columnPivotChanged:f,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),d.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,r=e.colDef;return Ue(t.gos,{colDef:r,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return a6(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:r,gos:n}=this.beans;return Ue(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!r&&(!this.openFilterEnabled||Xr(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const r=t.createSelectAllFeature(this.column);r&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(r),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!r&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===de.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===de.ENTER&&this.onEnterKeyDown(e),e.key===de.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();Q0(r)&&r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),r5()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=J1(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(i=>{n.has(i)?n.delete(i):this.comp.toggleCss(i,!0)}),n.forEach(i=>this.comp.toggleCss(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,i=Lm(this.beans),s=i.reduce((d,f)=>d+=f,0)===0;if(r.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.toggleCss("ag-header-span-height",!1),r.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();r.toggleCss("ag-header-span-height",o>0);const l=Nm(n);if(o===0){r.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}r.toggleCss("ag-header-span-total",a);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,u=i.length-c;let h=0;for(let d=0;d<u;d++)h+=i[i.length-1-d];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${l+h}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(mk(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Xr(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Kt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return Q0(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Q0(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var AF=0,tf=class extends fe{constructor(e,t,r){super(),this.rowIndex=e,this.pinned=t,this.type=r,this.instanceId=AF++,this.comp=null,this.allCtrls=[];let n="ag-header-row-column";r==="group"?n="ag-header-row-group":r==="filter"&&(n="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${n}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=wr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,r=!0){this.comp=e,t=ec(this,this.beans.context,t),r&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),r=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:r,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",r),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=wr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Lm(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const r=Nm(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:r};e+=r;const n=wS(this.beans);return{topOffset:e,rowHeight:n}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);const r=n=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(n)?s.isVisible(n.column):!1};if(e)for(const[n,i]of e)r(i)?this.ctrlsById.set(n,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,r){if(e.isEmptyGroup())return;const n=e.getUniqueId();let i;if(r&&(i=r.get(n),r.delete(n)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new _F(e,this));break}t.set(n,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const r=this.allCtrls.find(i=>i.column==e);return r?r.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},DF=class extends fe{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:r,ctrlsSvc:n,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),r?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:r,visibleCols:n}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const h=n.headerGroupRowCount;i=h;const d=this.groupsRowCtrls.length;if(d!==h){if(d>h){for(let f=h;f<d;f++)this.destroyBean(this.groupsRowCtrls[f]);this.groupsRowCtrls.length=h;return}for(let f=d;f<h;f++){const p=this.createBean(new tf(f,this.pinned,"group"));this.groupsRowCtrls.push(p)}}},a=()=>{const h=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new tf(h,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==h&&this.columnsRowCtrl.setRowIndex(h)},l=()=>{this.includeFloatingFilter=!!r?.hasFloatingFilters()&&!this.hidden;const h=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){h();return}e||h();const d=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==d&&this.filtersRowCtrl.setRowIndex(d):this.filtersRowCtrl=this.createBean(new tf(d,this.pinned,"filter"))},c=this.getAllCtrls();o(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,s),c.length!==u.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=r=>r?.getHeaderCellCtrls().find(n=>n.column===e);if(ns(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=t(this.groupsRowCtrls[r]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,r){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,r):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const r=e?.createBodyDropTarget(this.pinned,t);r&&this.createManagedBean(r)}restoreFocusOnHeader(e,t){if(!t)return;const{column:r}=t;r.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Im(e=>this.comp.setCenterWidth(`${e}px`),!0))}},IF=class extends fe{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(ew(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,r)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){ew(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Xr(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&ns(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ms()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Xr(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Xr(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Xr(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,r,n){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,r,s,n)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,r,s,n)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),Ei(a,()=>{const c=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);c&&e?.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(n),r,s,n)})}}};function J0(e,t,r){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",r))}function ew(e){const{enterpriseMenuFactory:t,filterMenuFactory:r,gos:n}=e;return t&&Xr(n)?t:r}var Vm=class extends Dt{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Yd=class extends Vm{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},CS=class extends Dt{constructor(){super()}},OF={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},LF=class extends CS{init(){const e=di(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??OF),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},NF={tag:"span",cls:"ag-overlay-no-rows-center"},BF=class extends CS{init(){const e=di(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??NF),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function HF(e,t,r){const n=fn(e,t,r);if(n){const{className:s}=n;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return n}const i=Jt({tag:"span"});return i.appendChild(n),i}function fn(e,t,r){let n=null;e==="smallDown"?we(262):e==="smallLeft"?we(263):e==="smallRight"&&we(264);const i=r&&r.getColDef().icons;if(i&&(n=i[e]),t.gos&&!n){const s=t.gos.get("icons");s&&(n=s[e])}if(n){let s;if(typeof n=="function")s=n();else if(typeof n=="string")s=n;else{we(38,{iconName:e});return}if(typeof s=="string")return bm(s);if(Cm(s))return s;we(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),Jt({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var VF=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",GF={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},zF=class extends Dt{constructor(){super(),this.dragSource=null,this.eIcon=ze,this.eLabel=ze,this.eGhost=ze,this.registerCSS(VF)}postConstruct(){const e=t=>HF(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(GF),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:r,dragSource:n,dropIconMap:i,gos:s}=this;en(r);let o=null;e||(e=n?.getDefaultIconName?n.getDefaultIconName():"notAllowed"),o=i[e],r.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&r.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},jF=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",WF=class extends Dt{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(jF)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;en(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Wt(t,!1),zs(t,"presentation")):(Wt(t,!0),zs(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(td(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Dl(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},SS=class extends WF{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||vk(e)!==null?Al(e,""):Al(e,t??"")}setAriaLabel(e){return la(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return $n(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function UF(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var ks=class extends SS{constructor(e,t,r="text",n="input"){super(e,e?.template??UF(n),[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=ze,this.eWrapper=ze,this.eInput=ze}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:r,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),r.classList.add(`${n}-input`),this.addCss("ag-input-field"),r.id=r.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([r])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,qr(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return td(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return qr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return la(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Dl(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)qr(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";qr(this.eInput,"autocomplete",t)}return this}},Gm=class extends ks{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const r=this.eInput;r.checked=e,r.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},zm={selector:"AG-CHECKBOX",component:Gm},$F=".ag-checkbox-cell{height:100%}",KF={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},qF=class extends Dt{constructor(){super(KF,[zm]),this.eCheckbox=ze,this.registerCSS($F)}init(e){this.refresh(e);const{eCheckbox:t,beans:r}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),zC(n,"polite"),this.addManagedListeners(n,{click:i=>{if(Us(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Us(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===de.SPACE&&!t.isDisabled()){e.eGridCell===Kt(r)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,r=!0;const{value:n,column:i,node:s}=e;if(s.group&&i)if(typeof n=="boolean")t=n;else{const h=i.getColId();h.startsWith(Kd)?t=n==null||n===""?void 0:n==="true":s.aggData&&s.aggData[h]!==void 0?t=n??void 0:r=!1}else t=n??void 0;const{eCheckbox:o}=this;if(!r){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),c=$d(l,t),u=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(u)}onCheckboxChanged(e){const{params:t}=this,{column:r,node:n,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:r,colId:r.getColId(),rowIndex:n.rowIndex,rowPinned:n.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0});const s=n.setDataValue(r,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:n,column:r},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},tw=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:r,order:n}=this;t.has(e)||(t.add(e),r.add(e),n.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),wn(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:r,queued:n}=this;e.clear(),n.clear(),t.clear(),r.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:r}=this.beans,n=e?.getSortOptions()??[],i=ZF(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,n)??this.order,!i)return;const s=p1(r);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:r}=this;t.forEach(n=>e(n)?r.delete(n):r.add(n)),this.order=Array.from(r),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function xS(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(r=>r==e)?xS(t):!1}function rf(e,t){const{gos:r,rowModel:n,filterManager:i}=e;return ro(r)?!n.getRowNode(t.id):i?.isAnyFilterPresent()?!xS(t):r.get("pivotMode")?!t.group:!1}function XF(e){return!!e.footer&&e.level===-1}function YF(e){return!!e.pinnedSibling&&XF(e.pinnedSibling)}function ZF(e){const t=e.findIndex(YF);if(t>-1)return e.splice(t,1)?.[0]}var rw=class extends fe{postConstruct(){const{gos:e,beans:t}=this;this.top=new tw(t,"top"),this.bottom=new tw(t,"bottom");const r=i=>rf(t,i.pinnedSibling),n=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(r)),this.refreshRowPositions(),i||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(JF),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:n}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(r)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",n)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const r=[];t.forEach(n=>r.push(n)),r.forEach(n=>this.pinRow(n,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,r){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,tP(this.beans);return}const n=e.rowPinned??e.pinnedSibling?.rowPinned;if(n!=null&&t!=null&&t!=n){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,r),this.pinRow(a,t,r);return}const s=r&&eP(this.beans,e,r);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;nf(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=nw(this.beans,e,t),a=this.getContainer(t);a.add(o),rf(this.beans,e)&&a.hide(l=>rf(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const r=n=>{if(n.rowHeightEstimated){const i=ts(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(r),t=0,this.top.forEach(r),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return iw(this.top)}getPinnedBottomTotalHeight(){return iw(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const r=[];return this.forEachPinnedRow(t,n=>r.push(n.pinnedSibling.id)),r};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,r)=>{for(const n of e[r]){const i=this.beans.rowModel.getRowNode(n);i?this.pinRow(i,r):t.queue(n)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const r=new Set;e.forEachQueued(n=>{const i=this.beans.rowModel.getRowNode(n);i&&r.add(i)});for(const n of r)e.unqueue(n.id),this.pinRow(n,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:r}=this,n=t.rowModel;if(!er(e))return;const i=n.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(r){if(o&&o.floating!==r&&(o.delete(s),nf(s)),!o||o.floating!==r){const a=nw(t,i,r);this.getContainer(r).add(a)}}else{if(!o)return;o.delete(s),nf(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(r=>r.setRowHeight(r.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=r=>QF(this.beans,r);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function QF(e,t){let r=0;t.forEach((n,i)=>{n.setRowTop(r),(n.rowHeightEstimated||n.rowHeight==null)&&n.setRowHeight(ts(e,n).height),n.setRowIndex(i),r+=n.rowHeight})}function nw(e,t,r){if(t.pinnedSibling)return t.pinnedSibling;const n=E5(t,e);n.setRowTop(null),n.setRowIndex(null),n.rowPinned=r;const i=r==="top"?Mm:Tm;return n.id=`${i}${r}-${t.id}`,n.pinnedSibling=t,t.pinnedSibling=n,n}function nf(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function JF(e){const t=new Set;e.forEach(r=>{r.group&&t.add(r)}),t.forEach(r=>e.delete(r))}function eP(e,t,r){const{rowSpanSvc:n}=e,i=(r&&n?.isCellSpanning(r,t))??!1;if(r&&i)return n?.getCellSpan(r,t)?.spannedNodes}function iw(e){const t=e.size();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}function tP({gos:e,rowModel:t}){er(e)&&t.refreshModel({step:"map"})}var sw=class extends fe{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};Na(this.pinnedBottomRows,t),Na(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const r=n=>{if(n.rowHeightEstimated){const i=ts(this.beans,n);n.setRowTop(t),n.setRowHeight(i.height),t+=i.height,e=!0}};return Na(this.pinnedBottomRows,r),t=0,Na(this.pinnedTopRows,r),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=this.getCache(t);if(e===void 0){r.order.length=0,r.cache={};return}const n=ca(this.gos),i=t==="top"?Mm:Tm,s=new Set(r.order),o=[],a=new Set;let l=0,c=-1;for(const u of e){const h=n?.({data:u,level:0,rowPinned:t})??i+this.nextId++;if(a.has(h)){we(96,{id:h,data:u});continue}c++,a.add(h),o.push(h);const d=ll(r,h);if(d!==void 0)d.data!==u&&d.updateData(u),l+=this.setRowTopAndRowIndex(d,l,c),s.delete(h);else{const f=new qs(this.beans);f.id=h,f.data=u,f.rowPinned=t,l+=this.setRowTopAndRowIndex(f,l,c),r.cache[h]=f,r.order.push(h)}}s.forEach(u=>{ll(r,u)?.clearRowTopAndRowIndex(),delete r.cache[u]}),r.order=o}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(ts(this.beans,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return ow(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return ow(this.pinnedBottomRows)}getPinnedTopRowCount(){return Up(this.pinnedTopRows)}getPinnedBottomRowCount(){return Up(this.pinnedBottomRows)}getPinnedTopRow(e){return Wp(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Wp(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return ll(this.getCache(t),e)}forEachPinnedRow(e,t){return Na(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function ow(e){const t=Up(e);if(t===0)return 0;const r=Wp(e,t-1);return r===void 0?0:r.rowTop+r.rowHeight}function ll(e,t){return e.cache[t]}function Wp(e,t){return ll(e,e.order[t])}function Na(e,t){e.order.forEach((r,n)=>{const i=ll(e,r);i&&t(i,n)})}function Up(e){return e.order.length}var rP=class extends fe{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const r=e.get("enableRowPinning"),n=p1(e),s=!!r||(n==="pinnedBottom"||n==="pinnedTop"),o=s?this.inner instanceof sw:this.inner instanceof rw;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new rw:new sw))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,r){return this.inner.pinRow(e,t,r)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},nP="ROOT_NODE_ID",iP=class extends fe{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=nP,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,r)=>this.createRowNode(t,r))??[]}setImmutableRowData(e,t){const r=ca(this.gos),n=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,u=!1,h=!1,d=!1;for(let p=0,m=-1,g=t.length;p<g;p++){const w=t[p];let v=this.getRowNode(r({data:w,level:0}));if(!v)c=!0,v=this.createRowNode(w,-1),i.add(v);else{if(n){const b=v.sourceRowIndex;d||(d=b<=m||c),m=b}v.data!==w&&(h=!0,v.updateData(w),i.update(v))}s.add(v)}const f=[];for(let p=0;p<l;p++){const m=a[p];s.has(m)||(u=!0,m.isSelected()&&f.push(m),m.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(m.pinnedSibling,null),this.rowNodeDeleted(m),i.remove(m))}if(c||u||d){const p=new Array(s.size);let m=0;if(!n)for(let w=0;w<l;++w){const v=a[w];s.delete(v)&&(v.sourceRowIndex=m,p[m++]=v)}for(const w of s)w.sourceRowIndex=m,p[m++]=w;o.allLeafChildren=p;const g=o.sibling;g&&(g.allLeafChildren=p),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=d)}(c||u||d||h)&&(this.deselectNodes(f),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,r=this.allNodesMap;r[t]===e&&delete r[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const r={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],i=ca(this.gos);return this.executeRemove(i,e,r,n),this.executeUpdate(i,e,r,n),this.executeAdd(e,r),this.deselectNodes(n),r}executeAdd(e,t){const r=e.add;if(!r?.length)return;let n=this.rootNode.allLeafChildren,i=n.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let h=0;h<n.length;h++)if(n[h]?.rowIndex==i-1){i=h+1;break}}const s=r.length,o=t.changedRowNodes,a=new Array(s);for(let u=0;u<s;u++){const h=this.createRowNode(r[u],i+u);o.add(h),a[u]=h}const l=this.rootNode;if(i<n.length){const u=n.slice(0,i),h=n.slice(i,n.length),d=u.length+a.length;for(let f=0,p=h.length;f<p;++f)h[f].sourceRowIndex=d+f;n=[...u,...a,...h],t.rowsInserted=!0}else n=n.concat(a);l.allLeafChildren=n;const c=l.sibling;c&&(c.allLeafChildren=n),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:r,rowNodeTransaction:n},i){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(c=>{const u=this.lookupRowNode(e,c);u&&(u.isSelected()&&i.push(u),u.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(u.pinnedSibling,null),u.clearRowTopAndRowIndex(),o[u.id]=!0,delete this.allNodesMap[u.id],n.remove.push(u),r.remove(u))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!o[c.id])??null,a.allLeafChildren?.forEach((c,u)=>{c.sourceRowIndex=u});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:r,rowNodeTransaction:n},i){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&i.push(a),n.update.push(a),r.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",r=this.beans.selectionSvc,n=e.length>0;n&&r?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),r?.updateGroupsFromChildrenSelections?.(t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:r?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const r=new qs(this.beans);return r.parent=this.rootNode,r.level=0,r.group=!1,r.expanded=!1,r.sourceRowIndex=t,r.setDataAndId(e,String(this.nextId)),this.allNodesMap[r.id]&&we(2,{nodeId:r.id}),this.allNodesMap[r.id]=r,this.nextId++,r}lookupRowNode(e,t){let r;if(e){const n=e({data:t,level:0});if(r=this.allNodesMap[n],!r)return kt(4,{id:n}),null}else if(r=this.rootNode?.allLeafChildren?.find(n=>n.data===t),!r)return kt(5,{data:t}),null;return r||null}},sP={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},oP=class extends Dt{constructor(){super(sP,[zm]),this.eCheckbox=ze}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:r}=this,n=t.isSelected(),i=$d(e,n),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);r.setValue(n,!0),r.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Us,click:n=>{Us(n),this.beans.selectionSvc?.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const s=typeof n=="object"?$h(n):void 0,o=typeof i=="object"?$h(i):void 0;s!==o&&this.onSelectableChanged()}),Dp(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:r,gos:n}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const h=r?.callbackParams;if(!e)o=s({...h,node:t,data:t.data});else{const d=e.createColumnFunctionCallbackParams(t);o=s({...h,...d})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,c=n.get("rowSelection"),u=c&&typeof c!="string"?!$h(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?u:!0)),this.setDisplayed(l&&(a?u:!0)),l&&this.eCheckbox.setDisabled(a),r?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Uo(t):this.column?.getColDef()?.checkboxSelection}},aP=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:r,pinnedRowModel:n}=this;return t??(t=r.getRowNode(e)),n?.isManual()&&(t??(t=n.getPinnedRowById(e,"top")),t??(t=n.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.rootId,n=t.findIndex(i=>i.id===e.id);if(n>-1){const i=t.slice(0,n),s=t.slice(n+1);return this.setEndRange(e),r?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const n=this.getNodesInRange(r,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:r,rowModel:n}=this;if(!r?.isManual())return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return sn(r,"top",e,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=sn(r,"bottom",void 0,e),s=n.getRowCount(),o=n.getRow(s-1);return(n.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return sn(r,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=sn(r,"top",t,void 0),s=sn(r,"bottom",void 0,e),o=n.getRow(0),a=n.getRow(n.getRowCount()-1);return i.concat(n.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return sn(r,"top",t,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=sn(r,"top",e,void 0),s=sn(r,"bottom",void 0,t),o=n.getRow(0),a=n.getRow(n.getRowCount()-1);return i.concat(n.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return sn(r,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=sn(r,"bottom",void 0,t),s=n.getRow(n.getRowCount());return(n.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},lP=class extends fe{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Kt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new Gm);this.cbSelectAll=t,t.addCss("ag-header-select-all"),zs(t.getGui(),"presentation"),this.showOrHideSelectAll();const r=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:r,paginationChanged:r,modelUpdated:r}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(n)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,r=this.cbSelectAll,n=t.getSelectAllState(e);r.setValue(n);const i=t.hasNodesToSelect(e);r.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:r,cbSelectAll:n,cbSelectAllVisible:i}=this,s=n.getValue(),o=$d(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");r.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||r.announceAriaDescription()}checkSelectionType(e){return sd(this.gos)?!0:(we(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:r}=this.beans;return er(t)||ro(t)?!0:(we(129,{feature:e,rowModel:r.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let r="uiSelectAll";t==="currentPage"?r="uiSelectAllCurrentPage":t==="filtered"&&(r="uiSelectAllFiltered");const n={source:r,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(n):i.deselectAllRowNodes(n)}isCheckboxSelection(){const{column:e,gos:t,beans:r}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return RS(r,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=w1(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:r}=this.column.getColDef();return t?"currentPage":r?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function RS({gos:e,selectionColSvc:t},r){const n=e.get("rowSelection"),i=r.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof n=="object"){const l=us(r),c=Em(r);(nd(n)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(o=pu(n))}else typeof s=="function"?o=s(Ue(e,{column:r,colDef:i})):o=!!s;return o}var cP=class extends fe{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new aP(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const r=Dp(e);r!==this.isRowSelectable&&(this.isRowSelectable=r,this.updateSelectable())}),this.isRowSelectable=Dp(e),this.addManagedEventListeners({cellValueChanged:r=>this.updateRowSelectable(r.node),rowNodeDataChanged:r=>this.updateRowSelectable(r.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new oP}createSelectAllFeature(e){if(RS(this.beans,e))return new lP(e)}isMultiSelect(){return sd(this.gos)}onRowCtrlSelected(e,t,r){const n=!!e.rowNode.isSelected();e.forEachGui(r,i=>{i.rowComp.toggleCss("ag-row-selected",n);const s=i.element;Ep(s,n),s.contains(Kt(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(n,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!rc(e)||!_s(this.gos)}updateRowSelectable(e,t){const r=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,r,t),r}setRowSelectable(e,t,r){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),r)return;if(Ll(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,r=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){const i=e.childrenAfterGroup[n];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:e.selectable?e.__selected:null}selectRowNode(e,t,r,n="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...x5(e,this.gos,"rowSelected"),event:r||null,source:n}),!0}isCellCheckboxSelection(e,t){const r=this.gos.get("rowSelection");if(r&&typeof r!="string"){const n=us(e)&&Uo(r);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,r,n){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=Ll(i),l=e4(i),c=t4(i),u=this.isMultiSelect(),h=n==="rowClicked";if(h&&!(l||c))return null;if(t&&r&&u){const d=s.getRoot();if(d)if(d.isSelected()){const f=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:f.discard,select:f.keep,reset:!1}}else{const f=s.extend(e,a);return{select:[],deselect:f.keep,reset:!1}}else return null}else if(t&&u){const d=s.selectAll?this.beans.rowModel.getRow(0):void 0,f=s.getRoot(d),p=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:p.keep,deselect:p.discard,reset:s.selectAll||!!(f&&!f.isSelected())}}else if(r){if(h){const d=!o;return d&&!l||!d&&!c?null:(s.setRoot(e),{node:e,newValue:d,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!u}}else{s.setRoot(e);const d=r4(i),f=od(i)==="filteredDescendants",p=h&&(!d||!l);if(f&&o===void 0&&er(i))return{node:e,newValue:!1,clearSelection:!u||p};if(h){const m=o?!d:l;return m===o&&!p||m&&!l||!m&&!c?null:{node:e,newValue:m,clearSelection:!u||p,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!u||p}}}},uP=class extends Gm{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},oo=class extends ks{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const r=this.eInput;return r.value!==e&&(r.value=Ee(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{hS(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{const n=r.clipboardData?.getData("text");n&&n.split("").some(i=>!e.test(i))&&r.preventDefault()}})}},Zd={selector:"AG-INPUT-TEXT-FIELD",component:oo},dP=class extends ks{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},hP={selector:"AG-INPUT-TEXT-AREA",component:dP},jm=class extends oo{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:r,max:n,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof r=="number"&&this.setMin(r),typeof n=="number"&&this.setMax(n),typeof i=="number"&&this.setStep(i)}onWheel(e){Kt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const r=this.precision;if(r==null)return e;if(t){const i=parseFloat(e).toFixed(r);return parseFloat(i).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=r)return e;if(r>0)return`${n[0]}.${n[1].slice(0,r)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,qr(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,qr(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,qr(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(Ee(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const i=this.normalizeValue(r);n=r!=i}if(n)return t(r)}return e(r)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},fP={selector:"AG-INPUT-NUMBER-FIELD",component:jm},pP=class extends oo{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=eo();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Kt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Zr(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,qr(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Zr(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,qr(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,qr(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return jr(this.getValue())??void 0}setDate(e,t){this.setValue(Zr(e??null,this.includeTime),t)}},ES={selector:"AG-INPUT-DATE-FIELD",component:pP},gP=class extends Dt{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case de.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case de.DOWN:case de.UP:e.preventDefault(),this.navigate(t);break;case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===de.DOWN;let r;const{itemEls:n,highlightedEl:i}=this;if(!i)r=n[t?0:n.length-1];else{let o=n.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),n.length-1),r=n[o]}this.highlightItem(r)}navigateToPage(e){const{itemEls:t,highlightedEl:r}=this;if(!r||t.length===0)return;const n=t.indexOf(r),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===de.PAGE_HOME?a=0:e===de.PAGE_END?a=i:e===de.PAGE_DOWN?a=Math.min(n+o,i):e===de.PAGE_UP&&(a=Math.max(n-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r??t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{wi(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();zs(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,r)=>{xk(t,r+1),Sk(t,e.length)})}renderOption(e,t){const r=Jt({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),n=Jt({tag:"span",children:t});r.appendChild(n),this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListeners(r,{mouseover:()=>this.highlightItem(r),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(r)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Xn(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),Ep(e,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>r+n||i<r)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Xn(e)||(e.classList.remove(this.activeClass),Ep(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},mP=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",vP={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},wP=class extends SS{constructor(e){if(super(e,e?.template||vP,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ze,this.eWrapper=ze,this.eDisplayField=ze,this.eIcon=ze,this.registerCSS(mP),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const i=fn(r,this.beans);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Rp(e,!1),this.ariaRole&&zs(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case de.UP:case de.DOWN:case de.ENTER:case de.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case de.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:u}=this,h={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const m=h1(c);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:u};e.style.position="absolute";const d=c.popupSvc,f=d.addPopup(h);l?(o&&(e.style.minWidth=o),e.style.width=ym(Qu(u)),a&&(e.style.maxWidth=a)):td(e,a??Qu(u));const p=s??`${wm(d.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),f.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:r,gos:n},eWrapper:i,pickerComponent:s}=this,o=n.get("enableRtl")?"right":"left";r.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Rp(t,e);const r=this.eWrapper.classList;r.toggle("ag-picker-expanded",e),r.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return td(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},bP=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",Wm=class extends wP{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(bP)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:fu(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new gP("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),r=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",r),_k(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===de.TAB&&this.hidePicker(),t){case de.ENTER:case de.UP:case de.DOWN:case de.PAGE_UP:case de.PAGE_DOWN:case de.PAGE_HOME:case de.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case de.ESCAPE:super.onKeyDown(e);break;case de.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,r){const{listComponent:n,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!n)return this;if(r||n.setValue(e,!0),n.getValue()===this.getValue())return this;let l=n.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},yP={selector:"AG-SELECT",component:Wm},Yo={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},kS=class extends fe{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:h,handleKeyDown:d,isEmpty:f,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=d,this.providedIsEmpty=f}postConstruct(){this.createManagedBean(new ya(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():qo(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=hr(this.beans),r=qo(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,s;e?(i=0,s=n):(i=n+1,s=r.length);const o=r.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const u=parseInt(l.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===a?1:u===a?-1:u===0?1:h===0?-1:u-h}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=qo(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return so(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},CP=class extends fe{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,i=[t,r],s={setTabIndex:g=>{i.forEach(w=>g!=null?w.setAttribute("tabindex",g):w.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:d,isEmpty:f,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new kS({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:d,isEmpty:f,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=hr(this.beans).createElement("div"),r=e==="top"?Yo.TAB_GUARD_TOP:Yo.TAB_GUARD_BOTTOM;return t.classList.add(Yo.TAB_GUARD,r),zs(t,"presentation"),t}addTabGuards(e,t){const r=this.eFocusableElement;r.insertAdjacentElement("afterbegin",e),r.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];en(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){Cm(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;wi(e),wi(t),super.destroy()}},SP=class extends Dt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new CP(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},ys=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Gs,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",r,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!rS(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},xP=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!r,this.tickDown=e.clientY>n.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},FS=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${n1}/${this.frameworkName}-data-grid`,Vk(this.baseDocLink)}setInterval(e,t){return new gt(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){let i={};if(typeof n=="object"?i=n:typeof n=="boolean"&&(i={capture:n}),i.passive==null){const s=x1(t);s!=null&&(i.passive=s)}e.addEventListener(t,r,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function RP(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var EP=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],aw=Object.fromEntries(EP.map((e,t)=>[e,t]));function kP(e,t){const r=(e.beanName?aw[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?aw[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function FP(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var PP=class extends fe{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:n,ctrlsSvc:i}=this.beans;n?.registerGridDropTarget(()=>this.eGui,this),sS(this.gos,t),this.createManagedBean(new Dm(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=Ri(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return tS(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const r=e===1?"ew-resize":"ns-resize";t.setCursor(r)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=Et(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),{focusSvc:n,visibleCols:i}=this.beans,s=i.allCols;if(e){if(r.length>1)return this.focusContainer(Et(r),e);const o=Et(s);if(n.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Is(this.beans)){if(n.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<r.length;o++)if(Ks(r[o].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const i=t[r];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!qd(e)||!Is(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const r=Kt(this.beans),n=e.findIndex(s=>s.getGui().contains(r)),i=n+(t?-1:1);return{indexWithFocus:n,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const r=Ks(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},et=(e,t)=>{for(const r of Object.keys(t))t[r]=e;return t},lw={dispatchEvent:"CommunityCore",...et("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...et("GridState",{getState:0,setState:0}),...et("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...et("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...et("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...et("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...et("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...et("ValueCache",{expireValueCache:0}),...et("CellApi",{getCellValue:0}),...et("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...et("Sort",{onSortChanged:0}),...et("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...et("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...et("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...et("HighlightChanges",{flashCells:0}),...et("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...et("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...et("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...et("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...et("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...et("ColumnResize",{setColumnWidths:0}),...et("ColumnHover",{isColumnHovered:0}),...et("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...et("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...et("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...et("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...et("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...et("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...et("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...et("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...et("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...et("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...et("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...et("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...et("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...et("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...et("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...et("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...et("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...et("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...et("ContextMenu",{showContextMenu:0}),...et("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...et("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...et("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...et("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...et("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...et("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...et("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...et("StatusBar",{getStatusPanel:0})},sf={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},MP=(e,t)=>e.eventSvc.dispatchEvent(t),PS=class{};Reflect.defineProperty(PS,"name",{value:"GridApi"});var TP=class extends fe{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new PS,this.fns={...sf,dispatchEvent:MP},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(lw))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:r,beans:n}=this;r!==sf&&(r[e]=n?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)we(26,{fnName:e,preDestroyLink:n});else{const i=lw[e];r.assertModuleRegistered(i,`api.${e}`)&&we(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=sf,this.beans=null}};function _P(e){return e.context.getGridId()}function AP(e){e.gridDestroySvc.destroy()}function DP(e){return e.gridDestroySvc.destroyCalled}function IP(e,t){return e.gos.get(t)}function OP(e,t,r){MS(e,{[t]:r})}function MS(e,t){e.gos.updateGridOptions({options:t})}function LP(e,t){const r=t.replace(/Module$/,"");return e.gos.isModuleRegistered(r)}var NP={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},BP=class extends Dt{constructor(e,t,r){super(NP),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(fn("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:r,eCell:n,gos:i}=this,s=r.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(n,0,0),s){const a=Ue(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function HP(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function VP(e,t){const r=e.dragAndDrop?.findExternalZone(t);r&&e.dragAndDrop?.removeDropTarget(r)}function GP(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function zP(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function jP(e,t){const r=e.rowDropHighlightSvc;if(!r)return;const n=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=n?.rowIndex;s==null||i==="none"?r.clear():r.set(n,i)}var WP=class extends fe{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:r}=this.beans;return r.addDragSource(t),()=>r.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},UP={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},$P=class extends Dt{constructor(e,t,r,n,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:r,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(UP),this.getGui().appendChild(fn("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=n.get("rowDragManaged")?new qP(this,t,r):new KP(this,t,r);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const r=this.beans.selectionSvc?.getSelectedNodes()??[];return r.indexOf(e)!==-1?r:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);const r=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const n=this.getDragItem(),i=n.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(n,i):i===1?this.cellValueFn():`${i} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},TS=class extends fe{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e,t=!1){const r={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,r);else{let n=!t,i=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;i=typeof l=="function",n=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}i?(a.setDisplayed(!0,r),a.setVisible(n&&!t,r)):(a.setDisplayed(n,r),a.setVisible(!t,r))}}},KP=class extends TS{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},qP=class extends TS{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:r}=this.beans,n=e.rowDragFeature,i=n&&n.shouldPreventRowMove(),s=r.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=i&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Gl=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:r,children:n}=e;if(n)for(let i=0;i<n.length;++i)this.depthFirstSearchChangedPath(n[i],t);t(r)}depthFirstSearchEverything(e,t,r){const n=e.childrenAfterGroup;if(n)for(let i=0,s=n.length;i<s;++i){const o=n[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,r):r&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const i=this.mapToItems[r.id],s=this.mapToItems[r.parent.id];s.children||(s.children=[]),s.children.push(i),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>r[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>!r[i.getId()])}},XP=class extends fe{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:r}=this.beans;er(t)&&(this.clientSideRowModel=e),r.whenReady(this,n=>{const i=n.gridBodyCtrl;let s=0;const o=()=>i.scrollFeature.getVScrollPosition().top;this.autoScrollService=new xP({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>i.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:r}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||r?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:r,gos:n}=this.beans,i=this.isFromThisGrid(e);if(!(n.get("rowDragManaged")&&this.shouldPreventRowMove()))if(n.get("suppressMoveWhenRowDragging")||!i){if(r.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Et(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:r,rowNodes:n}=e.dragItem,s=n?.length&&(r??n[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,c=l.rootNode,u=W0(o,e).y;let h=l.getRowIndexAtPixel(u),d=l.getRow(h)??null;const f=s!==d;let p=d?(u-d.rowTop-d.rowHeight/2)/d.rowHeight||0:1;const m=this.isFromThisGrid(e),w=b1(a)!=="group"&&m;let v=null;if(w&&d?.footer){v=d.sibling??c;const G=cl(l,-1,d)??cl(l,1,d);p=G&&G.rowIndex>d.rowIndex?-.5:.5,d=G??null}let b=p<0,E=!1;if(m&&d){if(f){if(E=n.indexOf(d)>=0,E){const G=YP(l,h<s.rowIndex,n);G?.parent===d.parent&&(d=G,h=d.rowIndex)}}else{if(Math.abs(p)<=.5)return this.makeGroupThrottleClear(),null;E=!0}(E||!w&&Math.abs(h-s.rowIndex)===1)&&(b=h<s.rowIndex)}const P=this.makeGroupThrottleTarget;P!==null&&P!==d&&this.makeGroupThrottleClear(),d?.expanded&&d.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=d),v===null&&w&&(!d||p>=.5&&d.rowIndex===o.pageBounds.getLastRow()?v=c:this.targetShouldBeParent(d,p,E,n)&&(this.makeGroupThrottled&&(v=d),t&&(v===null||!d.expanded)&&(this.makeGroupThrottleTarget=d,this.makeGroupThrottleStart())),v??(v=d?.parent??c));let A=!1;if(v!==null){if(v===d&&v!==c){A=!0;const G=v.expanded?cl(l,1,d):null;G?.parent===v&&(d=G,A=!1,b=!0)}if(d&&!A){let G=d;for(;G&&G!==c&&G!==v;)d=G,G=G.parent}QP(n,v)&&(v=null)}if(!v&&E&&(w||s===d))return null;const L=A?"inside":b?"above":"below",T={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:m,position:L,source:s,target:d,newParent:v,rows:n};let B=!1;const H=a.get("isRowValidDropPosition");if(H){const G=H(T);G?typeof G=="object"&&(G.rows!==void 0&&(T.rows=G.rows??ad),G.newParent!==void 0&&(T.newParent=G.newParent),G.target!==void 0&&(T.target=G.target),G.position&&(B=!0,T.position=G.position)):T.rows=ad}return(!T.newParent||!T.rows.length)&&!B&&(T.position=b?"above":"below"),T}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,r,n){const i=e?.rowIndex;if(r||i===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=i+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const c=e.childrenAfterGroup;if(o&&o.parent===e&&c?.length){const u=new Set(n);for(const h of c)if(h.rowIndex!==null&&!u.has(h))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){we(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){we(56);return}let r={getContainer:e.getContainer};e.fromGrid?r=e:(e.onDragEnter&&(r.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(r.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(r.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(r.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(r.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const n={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...r};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{r(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:r,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const r=this.beans,{pageBounds:n,rowModel:i,gos:s}=r,o=W0(this.beans,t).y,a=o>n.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=i.getRowIndexAtPixel(o),c=i.getRow(l)),Ue(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:r}=this.beans;if(r.get("rowDragManaged")&&(r.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const n=this.managedRowsDrop(e,!1);n&&this.dropRows(n),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:r}=this.beans;r.get("rowDragManaged")&&(r.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:r}){const n=ca(this.gos),i=this.clientSideRowModel,s=r.filter(({data:a,rowPinned:l})=>!i.getRowNode(n?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?cw(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Gl(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:r,newParent:n}){let i=!1;const s=this.clientSideRowModel,o=new Set;for(const u of r){if(u.footer||u.rowTop===null&&u!==s.getRowNode(u.id))continue;if(n&&u.parent!==n){if(ZP(u,n))continue;u.treeParent=n,i=!0}const h=_S(u);h&&o.add(h)}if(!i&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&qa(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(i=!0),i?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,r){const n=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let i=cw(t);i<0||i>=n?i=n:r||++i;let s=i,o=Math.min(i,n-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,r,n){let i=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<r;++l){const c=s[l];e.has(c)||(c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,i=!0),++o)}let a=n;for(let l=n;l>=r;--l){const c=s[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,s[a]=c,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},YP=(e,t,r)=>t?cl(e,-1,r[0]):cl(e,1,Et(r)),cl=(e,t,r)=>{if(r){const n=e.getRowCount();let i=r.rowIndex+t;for(;i>=0&&i<n;){const s=e.getRow(i);if(!s||!s.footer)return s;i+=t}}},ZP=(e,t)=>{let r=t;for(;r;){if(r===e)return!0;r=r.parent}return!1},QP=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(e[r].parent!==t)return!1;return!0},cw=e=>{const t=_S(e);return t!==void 0?t.sourceRowIndex:-1},_S=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},JP=class extends fe{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const r=t.createManagedBean(new XP(e)),n=this.beans.dragAndDrop;n.addDropTarget(r),t.addDestroyFunc(()=>n.removeDropTarget(r)),this.rowDragFeature=r}createRowDragComp(e,t,r,n,i,s){return new $P(e,t,r,n,i,s)}createRowDragCompForRow(e,t){if(rs(this.gos))return;const r=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${r("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,r,n,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!er(o)||o.get("pagination"))?void 0:this.createRowDragComp(r,e,t,n,i,s)}},eM=class extends fe{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const r=e!==this.row,n=e.uiLevel,i=t!==this.position,s=n!==this.uiLevel;(r||i||s)&&(r&&this.clear(),this.uiLevel=n,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},AS={moduleName:"Drag",version:Me,beans:[C5]},tM={moduleName:"DragAndDrop",version:Me,dynamicBeans:{dndSourceComp:BP},icons:{rowDrag:"grip"}},DS={moduleName:"SharedDragAndDrop",version:Me,beans:[y5],dependsOn:[AS],userComponents:{agDragAndDropImage:zF},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},rM={moduleName:"RowDrag",version:Me,beans:[eM,JP],apiFunctions:{addRowDropZone:HP,removeRowDropZone:VP,getRowDropZoneParams:GP,getRowDropPositionIndicator:zP,setRowDropPositionIndicator:jP},dependsOn:[DS]},nM={moduleName:"HorizontalResize",version:Me,beans:[WP],dependsOn:[AS]},iM=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",sM=class extends fe{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:r,executeLaterFuncs:n}=this;if(r.length===0&&n.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(r)},0),window.setTimeout(()=>{t(),i(n)},200)})}};function oM(e,t,r){e.colMoves?.moveColumnByIndex(t,r,"api")}function aM(e,t,r){e.colMoves?.moveColumns(t,r,"api")}var lM=class extends fe{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:r,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&r?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&n?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function cM(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,i)=>{const s=e.indexOf(n),o=e.indexOf(i);return s-o})}function uM(e){const t=[...e];return e.forEach(r=>{let n=null,i=r.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)n=i,i=i.getParent();n!=null&&(!!n.getColGroupDef()?.marryChildren?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function dM(e,t,r,n){const i=n.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],c=r.getProposedColumnOrder(t,l);if(!r.doesOrderPassRules(c))continue;const u=c.filter(d=>i.includes(d));if(o===null)o=u;else if(!io(u,o))break;const h=fM(c);(s===null||h<s.fragCount)&&(s={move:l,fragCount:h})}return s}function IS(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:u}=e;let{allMovingColumns:h}=e;t&&(h=uM(h));const d=h.slice();cM(l.getCols(),d);const f=gM({movingCols:d,draggingRight:r,xPosition:n,pinned:o,gos:a,colModel:l,visibleCols:u}),p=hM(d,l);if(f.length===0)return;const m=f[0];if(p!==null&&(t||!i)&&!s&&(!r&&m>=p||r&&m<=p))return;const w=dM(f,d,c,u);if(!w)return;const v=w.move;if(!(v>l.getCols().length-d.length))return{columns:d,toIndex:v}}function OS(e){const{columns:t,toIndex:r}=IS(e)||{},{finished:n,colMoves:i}=e;return!t||r==null?null:(i.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function hM(e,t){const r=t.getCols(),n=e.map(l=>r.indexOf(l)).sort((l,c)=>l-c),i=n[0];return Et(n)-i!==n.length-1?null:i}function fM(e){function t(n){const i=[];let s=n.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let r=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),s=t(e[n+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&r++})}return r}function pM(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function gM(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(b=>b.getColDef().suppressMovable))return[];const c=pM(a,i),u=o.getCols(),h=c.filter(b=>t.includes(b)),d=c.filter(b=>!t.includes(b)),f=u.filter(b=>!t.includes(b));let p=0,m=n;if(r){let b=0;h.forEach(E=>b+=E.getActualWidth()),m-=b}if(m>0){for(let b=0;b<d.length;b++){const E=d[b];if(m-=E.getActualWidth(),m<0)break;p++}r&&p++}let g;if(p>0){const b=d[p-1];g=f.indexOf(b)+1}else g=f.indexOf(d[0]),g===-1&&(g=0);const w=[g],v=(b,E)=>b-E;if(r){let b=g+1;const E=u.length-1;for(;b<=E;)w.push(b),b++;w.sort(v)}else{let b=g;const E=u.length-1;let P=u[b];for(;b<=E&&c.indexOf(P)<0;)b++,w.push(b),P=u[b];b=g-1;const A=0;for(;b>=A;)w.push(b),b--;w.sort(v).reverse()}return w}function $p(e){const{pinned:t,fromKeyboard:r,gos:n,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(r&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function of(e,t){for(const r of e)r.moving=t,r.dispatchColEvent("movingChanged","uiColumnMoved")}var uw=7,Kp=100,Gc=Kp/2,mM=5,vM=100,wM=class extends fe{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ee(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:r}=t||{},n=r?.columns??[];for(const i of n){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=r?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,r=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(r,!0,"uiColumnDragged");else{const i=t.visibleState,s=(r||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(r,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(n&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Vt(e.hDirection))return;const a=$p({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,r,a,n):this.handleColumnDragWhileAllowingMovement(e,t,r,a,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e?.length)return;const n=e.filter(i=>!i.getColDef().lockVisible);n.length&&this.beans.colModel.setColsVisible(n,t,r)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:r}=e;this.beans.colMoves.moveColumns(t,r,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,r,n,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:r,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:r}),c=OS({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return n?n.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:r,fromLeft:i,xPosition:n,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:u}}highlightHoveredColumn(e,t){const{gos:r,colModel:n}=this.beans,i=r.get("enableRtl"),s=n.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned);let o=null,a=null,l=null;for(const u of s){if(a=u.getActualWidth(),o=this.getNormalisedColumnLeft(u,0,i),o!=null){const h=o+a;if(o<=t&&h>=t){l=u;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let u=s.length-1;u>=0;u--){const h=s[u],d=s[u].getParent();if(!d){l=h;break}const f=d?.getDisplayedLeafColumns();if(f.length){l=Et(f);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==i?c=0:c=1,dw(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleCols:n}=this.beans,i=r.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=n.allCols,c=l.indexOf(s),u=l.indexOf(o),h=a===0!==i,d=c<u||c===u&&!h;let f=0;if(h?d&&(f-=1):d||(f+=1),u+f===c)return;const p=l[u+f];if(!p)return;const m=this.getNormalisedColumnLeft(p,20,i);return{fromLeft:d,xPosition:m}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=bM(e);if(!i||!s||n.column||!t)return{firstMovingCol:i,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==r?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return $p({x:r?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>uw;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:s,fromEnter:n,fakeEvent:i}),{columns:a,toIndex:l}=IS(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(dw(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<r+Gc,s=e>n-Gc):(s=e<r+Gc,i=e>n-Gc),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),vM),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*mM,e>Kp&&(e=Kp);let t=null;const r=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:n,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=uw+1||!n)return;if(i.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!n.length)return 0;r&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(n,t,"uiColumnDragged"),r&&s.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function dw(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function bM(e){const t=e.length;let r,n;for(let i=0;i<t;i++){if(!r){const s=e[i];s.getLeft()!=null&&(r=s)}if(!n){const s=e[t-1-i];s.getLeft()!=null&&(n=s)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}var yM=class extends fe{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,r=this.pinned;e.whenReady(this,n=>{let i;const s=n.gridBodyCtrl.eBodyViewport;switch(r){case"left":i=[[s,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":i=[[s,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:i=[[s,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new wM(r)),this.bodyDropPivotTarget=this.createManagedBean(new lM(r)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},CM=class extends fe{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,r){const n=this.beans.colModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,r)}moveColumns(e,t,r,n=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){we(30,{toIndex:t});return}s?.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(N0(i.getCols(),c,t),o.refresh(r),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:n,source:r})),s?.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){const{colModel:t,gos:r}=this.beans;return!(!A1(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=r.get("enableRtl");let a=o?1:-1,l=!0;return i.forEach(c=>{const u=s(c.getColDef().lockPosition);o?u>a&&(l=!1):u<a&&(l=!1),a=u}),l})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return N0(n,e,t),n}createBodyDropTarget(e,t){return new yM(e,t)}moveHeader(e,t,r,n,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),h=u.left,d=Zt(r),f=d?u.width:r.getActualWidth(),p=e==="left"!==o.get("enableRtl"),m=$p({x:p?h-20:h+f+20,pinned:n,fromKeyboard:!0,gos:o,ctrlsSvc:s}),g=c.focusedHeader;OS({allMovingColumns:d?r.getLeafColumns():[r],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:n,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let w;if(d){const v=r.getDisplayedLeafColumns();w=p?v[0]:Et(v)}else w=r;if(s.getScrollFeature().ensureColumnVisible(w,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&g){let v;if(d){const b=r.getGroupId(),E=r.getLeafColumns();if(!E.length)return;const P=E[0].getParent();if(!P)return;v=SM(P,b)}else v=r;v&&c.focusHeaderPosition({headerPosition:{...g,column:v}})}}setDragSourceForHeader(e,t,r){const{gos:n,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!n.get("suppressDragLeaveHidesColumns");const l=Zt(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],h={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>RM(t,o.allCols):()=>xM(t),dragItemName:r,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),of(c,!0)},onDragStopped:()=>of(c,!1),onDragCancelled:()=>of(c,!1),onGridEnter:d=>{if(a){const{columns:f=[],visibleState:p}=d??{},m=l?w=>!p||p[w.getColId()]:()=>!0,g=f.filter(w=>!w.getColDef().lockVisible&&m(w));i.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:d=>{if(a){const f=d?.columns?.filter(p=>!p.getColDef().lockVisible)||[];i.setColsVisible(f,!1,"uiColumnMoved")}}};return s.addDragSource(h,!0),h}};function SM(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function xM(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function RM(e,t){const r=e.getProvidedColumnGroup().getLeafColumns(),n={};r.forEach(a=>n[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{r.indexOf(a)>=0&&(i.push(a),wn(r,a))}),r.forEach(a=>i.push(a));const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:n,containerType:s[0]?.pinned}}var EM={moduleName:"ColumnMove",version:Me,beans:[CM,sM],apiFunctions:{moveColumnByIndex:oM,moveColumns:aM},dependsOn:[DS],css:[iM]},kM=class extends fe{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(r),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const r=document.createElement("form");r.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,r)),n.appendChild(r);const i=r.offsetWidth;return n.removeChild(r),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}n.appendChild(r),t.appendChild(n)}},LS={moduleName:"AutoWidth",version:Me,beans:[kM]};function FM(e,t,r=!0,n="api"){e.colResize?.setColumnWidths(t,!1,r,n)}var PM=class extends fe{constructor(e,t,r,n){super(),this.comp=e,this.eResize=t,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:r}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&r&&this.addDestroyFunc(r.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,r,e)}getInitialValues(e){const t=l=>l.reduce((c,u)=>c+u.getActualWidth(),0),r=(l,c)=>l.map(u=>u.getActualWidth()/c),n=this.getColumnsToResize(),i=t(n),s=r(n,i),o={columnsToResize:n,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(h=>h.isResizable()),u=o.groupAfterStartWidth=t(c);o.groupAfterRatios=r(c,u)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:i,ratios:o,width:t}),a){const h=t-s;u.push({columns:a,ratios:c,width:l-h})}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},MM=class extends fe{constructor(e,t,r,n,i){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,r;const n=()=>{if(Wt(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),r&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,i(),n())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:r,newWidth:a}],{pinnedCols:c,ctrlsSvc:u,colResize:h}=s;if(this.column.getPinned()){const d=c?.leftWidth??0,f=c?.rightWidth??0,p=Il(u.getGridBodyCtrl().eBodyViewport)-50;if(d+f+(o-n)>p)return}this.lastResizeAmount=o,h?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},TM=class extends fe{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,r,n){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const h=a.getColAfter(c);if(!h)return;const d=c.getActualWidth()-l.newWidth,f=h.getActualWidth()+d;i.push({width:f,ratios:[1],columns:[h]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(u=>_M(u)))){if(r){const u=t&&t.length>0?t[0].columns:null;ua(this.eventSvc,u,r,n)}return}const s=[],o=[];t.forEach(u=>{const{width:h,columns:d,ratios:f}=u,p={},m={};d.forEach(v=>o.push(v));let g=!0,w=0;for(;g;){if(w++,w>1e3){kt(31);break}g=!1;const v=[];let b=0,E=h;d.forEach((A,L)=>{if(m[A.getId()])E-=p[A.getId()];else{v.push(A);const B=f[L];b+=B}});const P=1/b;v.forEach((A,L)=>{const T=L===v.length-1;let B;T?B=E:(B=Math.round(f[L]*h*P),E-=B);const H=A.getMinWidth(),G=A.getMaxWidth();B<H?(B=H,m[A.getId()]=!0,g=!0):G>0&&B>G&&(B=G,m[A.getId()]=!0,g=!0),p[A.getId()]=B})}d.forEach(v=>{const b=p[v.getId()];v.getActualWidth()!==b&&(v.setActualWidth(b,n),s.push(v))})});const a=s.length>0;let l=[];if(a){const{colFlex:u,visibleCols:h,colViewport:d}=this.beans;l=u?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],h.setLeftValues(n),h.updateBodyWidths(),d.checkViewportColumns()}const c=o.concat(l);(a||r)&&ua(this.eventSvc,c,r,n,l)}resizeHeader(e,t,r){if(!e.isResizable())return;const n=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(n+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],r,!0,"uiColumnResized")}createResizeFeature(e,t,r,n,i){return new MM(e,t,r,n,i)}createGroupResizeFeature(e,t,r,n){return new PM(e,t,r,n)}};function _M(e){const{columns:t,width:r}=e;let n=0,i=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();n+=c||0;const u=l.getMaxWidth();u>0?i+=u:s=!1});const o=r>=n,a=!s||r<=i;return o&&a}var AM={moduleName:"ColumnResize",version:Me,beans:[TM],apiFunctions:{setColumnWidths:FM},dependsOn:[nM,LS]},DM=class extends fe{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},IM=class extends Hm{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,r,n,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:u,colResize:h}=o;this.comp=e,i=ec(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const d=this.rowCtrl.pinned,f=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(i,f,t),u?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new Bm(s,t,o)),i.createManagedBean(new DM(e,s)),h?this.resizeFeature=i.createManagedBean(h.createGroupResizeFeature(e,r,d,s)):e.setResizableDisplayed(!1),i.createManagedBean(new ya(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,f),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,r=e.getDefinition();return Ue(t.gos,{colDef:r,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=Et(t)===e;if(!r&&!n)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,u=i===0;r&&(l?a=c:o=u),n&&(l?o=u:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:r}=this;if(!r)return;const n=r.getInitialValues(t);r.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:r,enterpriseMenuFactory:n}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=Ue(r,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>n?.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>n?.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=c6(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),r=J1(t,this.gos,null,e);e.isPadding()?(r.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&r.push("ag-header-span-height")):(r.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&r.push("ag-header-cell-wrap-text")),r.forEach(n=>this.comp.toggleCss(n,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());n.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===de.ENTER){const r=this.column,n=!r.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function OM(e,t,r){e.colGroupSvc?.setColumnGroupOpened(t,r,"api")}function LM(e,t,r){return e.colGroupSvc?.getColumnGroup(t,r)??null}function NM(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function BM(e,t,r){return e.colNames.getDisplayNameForColumnGroup(t,r)||""}function HM(e){return e.colGroupSvc?.getColumnGroupState()??[]}function VM(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function GM(e){e.colGroupSvc?.resetColumnGroupState("api")}function zM(e){return e.visibleCols.treeLeft}function jM(e){return e.visibleCols.treeCenter}function WM(e){return e.visibleCols.treeRight}function UM(e){return e.visibleCols.getAllTrees()}function $M(e,t){for(let r=0;r<t.length;r++){const n=e.indexOf(t[r]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var KM=class extends fe{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:r,colModel:n,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(n,i),i?.updateOpenClosedVisibility(),this.leftCols=af(this.treeLeft),this.centerCols=af(this.treeCenter),this.rightCols=af(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(n),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),r?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(n,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let r=t.getParent();for(;r;){if(!r.isPadding()){const n=r.getProvidedColumnGroup().getLevel()+1;n>e&&(e=n);break}r=r.getParent()}}return e}updateBodyWidths(){const e=si(this.centerCols),t=si(this.leftCols),r=si(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,r,n){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=r?Et(r):null):(i=t?Et(t):null,s=r?r[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,n),o.setFirstRightPinned(o===s,n)})}buildTrees(e,t){const r=e.getColsToShow(),n=r.filter(l=>l.getPinned()=="left"),i=r.filter(l=>l.getPinned()=="right"),s=r.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new N1,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:n,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),r=[],n=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?r.push(s):i.push(s):n.push(s)}this.ariaOrderColumns=r.concat(n).concat(i)}getAriaColIndex(e){let t;return Zt(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Zt(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=si(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}$M(n,s)}),n.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:r}}=this;return r.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:r}}=this;return r.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,r,n){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const d=c-1;for(let f=1;f<=d;f++)u.push(t[o+f]);o+=d}let h;r?(h=!1,u.forEach(d=>{r(d)&&(h=!0)})):h=!0,h&&(i.length===0&&s&&(n&&n(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,r=t.indexOf(e);return r>0?t[r-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Os(this.treeCenter,!1,e),Os(this.treeLeft,!1,e),Os(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]];if(n.length)return e?Et(n):n[0]}return null}getColAfter(e){const t=this.allCols,r=t.indexOf(e);return r<t.length-1?t[r+1]:null}getColsLeftWidth(){return si(this.leftCols)}getDisplayedColumnsRightWidth(){return si(this.rightCols)}isColAtEdge(e,t){const r=this.allCols;if(!r.length)return!1;const n=t==="first";let i;if(Zt(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=n?s[0]:Et(s)}else i=e;return(n?r[0]:Et(r))===i}};function Os(e,t,r){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(Zt(i)){const s=t?i.getDisplayedChildren():i.getChildren();Os(s,t,r)}r(i)}}function af(e){const t=[];return Os(e,!0,r=>{ns(r)&&t.push(r)}),t}var qM=class extends fe{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return fi(null,t,r=>{xr(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const r=[];fi(null,t,n=>{if(xr(n)){const i=n.getColGroupDef(),s={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};r.push(s)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){const{colModel:r,colAnimation:n,visibleCols:i,eventSvc:s}=this.beans;if(!r.getColTree().length)return;n?.start();const a=[];e.forEach(l=>{const c=l.groupId,u=l.open,h=this.getProvidedColGroup(c);h&&h.isExpanded()!==u&&(h.setExpanded(u),a.push(h))}),i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),n?.finish()}setColumnGroupOpened(e,t,r){let n;xr(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){let t=null;return fi(null,this.beans.colModel.getColTree(),r=>{xr(r)&&r.getId()===e&&(t=r)}),t}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?Et(n):n[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,i;for(;n=r.getProvidedColumnGroup().getLevel(),i=r.getPaddingLevel(),!(n+i<=t);)r=r.getParent();return r}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Os(e,!1,t=>{Zt(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Zt(e))return e;const r=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let i=null;return Os(r,!1,s=>{if(Zt(s)){const o=s;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let u=0;const h=d=>{const f=u;u=d;const p=c[f],g=(Zt(p)?p.getProvidedColumnGroup():p).getOriginalParent();if(g==null){for(let v=f;v<d;v++)a.push(c[v]);return}const w=this.createColumnGroup(g,r,o,n,s);for(let v=f;v<d;v++)w.addChild(c[v]);l.push(w)};for(let d=1;d<c.length;d++){const f=c[d],m=(Zt(f)?f.getProvidedColumnGroup():f).getOriginalParent(),g=c[u],v=(Zt(g)?g.getProvidedColumnGroup():g).getOriginalParent();m!==v&&h(d)}u<c.length&&h(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,r,n,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=L0(this.beans,t,a),c=new vu(l,a,!1,r);this.createBean(c);const u=this.findExistingGroup(t,s);u&&s.splice(u.idx,1);const h=u?.group;h&&c.setExpanded(h.isExpanded());const d=M1(this.beans,l.children,r+1,e,n,i,s,o);return c.setChildren(d),c}balanceColumnTree(e,t,r,n){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(xr(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(l),i.push(a)}else{let a,l;for(let c=t;c<r;c++){const u=n.getUniqueKey(null,null),h=L0(this.beans,null,u),d=new vu(h,u,!0,c);this.createBean(d),l&&l.setChildren([d]),l=d,a||(a=l)}if(a&&l)if(i.push(a),e.some(u=>xr(u))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,r=e;for(;r&&r[0]&&xr(r[0]);)t++,r=r[0].getChildren();return t}findMaxDepth(e,t){let r=t;for(let n=0;n<e.length;n++){const i=e[n];if(xr(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);r<o&&(r=o)}}return r}balanceTreeForAutoCols(e,t){const r=[];return e.forEach(n=>{let i=n;for(let s=t-1;s>=0;s--){const o=new vu(null,`FAKE_PATH_${n.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(n.originalParent=null),r.push(i)}),r}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}createColumnGroup(e,t,r,n,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=aS(s,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ee(l)?l.reset():(l=new Vl(e,s,o,n),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{n.forEach(i=>{if(Zt(i)){const s=i;t[i.getUniqueId()]=s,r(s.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),r.parent=t,Zt(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}},XM={moduleName:"ColumnGroup",version:Me,dynamicBeans:{headerGroupCellCtrl:IM},beans:[qM],apiFunctions:{getAllDisplayedColumnGroups:UM,getCenterDisplayedColumnGroups:jM,getColumnGroup:LM,getColumnGroupState:HM,getDisplayNameForColumnGroup:BM,getLeftDisplayedColumnGroups:zM,getProvidedColumnGroup:NM,getRightDisplayedColumnGroups:WM,resetColumnGroupState:GM,setColumnGroupOpened:OM,setColumnGroupState:VM}},YM={tag:"div",cls:"ag-skeleton-container"},ZM=class extends Dt{constructor(){super(YM)}init(t){const r=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",r),this.addDestroyFunc(()=>Al(t.eParentOfValue)),Al(t.eParentOfValue,r),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const r=t("ariaSkeletonCellLoadingFailed","Row failed to load");la(this.getGui(),r)}setupLoading(t){const r=Jt({tag:"div",cls:"ag-skeleton-effect"}),n=t.node.rowIndex;if(n!=null){const o=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${o}%`}this.getGui().appendChild(r);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");la(this.getGui(),s)}refresh(t){return!1}},QM={moduleName:"CheckboxCellRenderer",version:Me,userComponents:{agCheckboxCellRenderer:qF}},JM={moduleName:"SkeletonCellRenderer",version:Me,userComponents:{agSkeletonCellRenderer:ZM}};function eT(e,t){const r=e.colModel.getColDefCol(t);return r?r.getColDef():null}function tT(e){return e.colModel.getColumnDefs()}function rT(e,t,r){return e.colNames.getDisplayNameForColumn(t,r)||""}function nT(e,t){return e.colModel.getColDefCol(t)}function iT(e){return e.colModel.getColDefCols()}function sT(e,t){return Pn(e,t,"api")}function oT(e){return ud(e)}function aT(e){O4(e,"api")}function lT(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function cT(e){return e.visibleCols.isPinningLeft()}function uT(e){return e.visibleCols.isPinningRight()}function dT(e,t){return e.visibleCols.getColAfter(t)}function hT(e,t){return e.visibleCols.getColBefore(t)}function fT(e,t,r){e.colModel.setColsVisible(t,r,"api")}function pT(e,t,r){e.pinnedCols?.setColsPinned(t,r,"api")}function gT(e){return e.colModel.getCols()}function mT(e){return e.visibleCols.leftCols}function vT(e){return e.visibleCols.centerCols}function wT(e){return e.visibleCols.rightCols}function bT(e){return e.visibleCols.allCols}function yT(e){return e.colViewport.getViewportColumns()}function qp(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(i=>{if(t&&t.indexOf(i)>=0||NC.has(i))return;const s=r[i];typeof s=="object"&&s!==null&&s.constructor===Object?n[i]=qp(s):n[i]=s}),n}var CT=class extends fe{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,r,n){const i=e.slice();t?i.sort((a,l)=>r.indexOf(a)-r.indexOf(l)):r&&i.sort((a,l)=>n.indexOf(a)-n.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],r=[]){const n=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,r);let a=!0,l=o,c=s.getOriginalParent(),u=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const d=i[c.getGroupId()];if(d){d.children.push(l),a=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[l],i[h.groupId]=h,l=h,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&n.push(l)}),n}createDefFromGroup(e){const t=qp(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=qp(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},ST=class extends fe{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const r=this.flexViewportWidth;if(!r)return[];const{visibleCols:n}=this.beans,i=n.centerCols;let s=-1;if(e.resizingCols){const p=new Set(e.resizingCols);for(let m=i.length-1;m>=0;m--)if(p.has(i[m])){s=m;break}}let o=!1;const a=i.map((p,m)=>{const g=p.getFlex(),w=g!=null&&g>0&&m>s;return o||(o=w),{col:p,isFlex:w,flex:Math.max(0,g??0),initialSize:p.getActualWidth(),min:p.getMinWidth(),max:p.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((p,m)=>p+m.flex,0),u=r;const h=(p,m)=>{p.frozenSize=m,p.col.setActualWidth(m,t),u-=m,c-=p.flex,l-=1},d=p=>p.frozenSize!=null;for(const p of a)p.isFlex||h(p,p.initialSize);for(;l>0;){const p=Math.round(c<1?u*c:u);let m,g=0,w=0;for(const E of a){if(d(E))continue;m=E,w+=p*(E.flex/c);const P=w-g,A=Math.round(P);E.targetSize=A,g+=A}m&&(m.targetSize+=p-g);let v=0;for(const E of a){if(d(E))continue;const P=E.targetSize,A=Math.min(Math.max(P,E.min),E.max);v+=A-P,E.violationType=A===P?void 0:A<P?"max":"min",E.targetSize=A}const b=v===0?"all":v>0?"min":"max";for(const E of a)d(E)||(b==="all"||E.violationType===b)&&h(E,E.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const f=a.filter(p=>p.isFlex&&!p.violationType).map(p=>p.col);if(e.fireResizedEvent){const p=a.filter(g=>g.initialSize!==g.frozenSize).map(g=>g.col),m=a.filter(g=>g.flex).map(g=>g.col);ua(this.eventSvc,p,!0,t,m)}return f}initCol(e){const{flex:t,initialFlex:r}=e.colDef;t!==void 0?e.flex=t:r!==void 0&&(e.flex=r)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},xT=["dateTimeString","dateString","text","number","boolean","date"],RT=class extends fe{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===de.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:r}){return{cellEditorParams:{useFormatter:!0},comparator:(n,i)=>{const s=t.getColDefCol(r),o=s?.getColDef();if(!s||!o)return 0;const a=n==null?"":e({column:s,node:null,value:n}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},r={},n=u=>h=>{const{column:d,node:f,value:p}=h;let m=d.getColDef().valueFormatter;return m===u.groupSafeValueFormatter&&(m=u.valueFormatter),this.beans.valueSvc.formatValue(d,f,p,m)};for(const u of Object.keys(e)){const h=e[u],d={...h,groupSafeValueFormatter:pw(h,this.gos)};t[u]=d,r[u]=n(d)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const u of Object.keys(i)){const h=i[u],d=this.processDataTypeDefinition(h,i,[u],e);d&&(t[u]=d,h.dataTypeMatcher&&(s[u]=h.dataTypeMatcher),r[u]=n(d))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=r,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const r={...e};for(const n of xT)delete r[n],r[n]=e[n]??t[n].dataTypeMatcher;return r}processDataTypeDefinition(e,t,r,n){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[s];const a=t[s];if(o&&a&&(o=a),!fw(e,o,s))return;i=hw(o,e)}else{if(r.includes(s)){we(44);return}const o=t[s];if(!fw(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...r,s],n);if(!a)return;i=hw(a,e)}return{...i,groupSafeValueFormatter:pw(i,this.gos)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,r):!1),!n){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[n];if(!s){we(47,{cellDataType:n});return}return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,r),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){const{gos:r}=this;if(!er(r))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(lf(t,n))return!1;const i=t.type===null?e.type:t.type;if(i){const s=r.get("columnTypes")??{};if(cd(i).some(a=>{const l=s[a.trim()];return l&&lf(l,n)}))return!1}return!lf(e,n)}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=sl(n,e,s)}else this.initWaitForRowData(t);return r==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](r))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:r,eventSvc:n}=this.beans;t&&r&&(r.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&r?.processResizeOperations(),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=kT(a,o);u.rowGroup&&u.rowGroupIndex==null&&(n[s]=u),u.pivot&&u.pivotIndex==null&&(i[s]=u),r.push(u)}}t&&r.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,i)),r.length&&Pn(this.beans,{state:r},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},{rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;return n?.restoreColumnOrder(r,e),i?.restoreColumnOrder(r,t),Object.values(r)}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=Ip(this.beans,r,e.getColId());return e.setColDef(n,r,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const r=this.getDataTypeDefinition(e)?.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>we(48,{property:r});if(e.cellDataType==="object"){const{object:r}=this.dataTypeDefinitions;e.valueFormatter===r.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===r.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:r,beans:n,formatValueFuncs:i}=this,s=r[t];n.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,r,n){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[r.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:r,colId:n,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),r=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:n=>jr(n.newValue&&String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):Zr(n.value,r)??"",dataTypeMatcher:n=>n instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:r=>jr(r)??void 0,dateFormatter:r=>Zr(r??null,t)??void 0,valueParser:r=>yu(String(r.newValue))?r.newValue:null,valueFormatter:r=>yu(String(r.value))?String(r.value):"",dataTypeMatcher:r=>typeof r=="string"&&yu(r)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:xp(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&O5(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>xp(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function hw(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...cd(e.columnTypes),...cd(t.columnTypes)]),r}function fw(e,t,r){return t?t.baseDataType!==e.baseDataType?(we(46),!1):!0:(we(45,{parentCellDataType:r}),!1)}function pw(e,t){if(e.valueFormatter)return r=>{if(r.node?.group){const n=(r.colDef.pivotValueColumn??r.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(r);if(e.baseDataType==="number"&&n!=="count"){if(typeof r.value=="number")return e.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return e.valueFormatter({...r,value:r.value.toNumber()});if("value"in r.value)return e.valueFormatter({...r,value:r.value.value})}}return}}else if(t.get("groupHideOpenParents")&&r.column.isRowGroupActive()&&typeof r.value=="string"&&!e.dataTypeMatcher?.(r.value))return;return e.valueFormatter(r)}}function ET(e,t,r,n){if(!t[r])return!1;const i=e[r];return i===null?(t[r]=!1,!1):n===void 0?!!i:i===n}function lf(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>ET(e,t,r,n))}function kT(e,t){const r=L1(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}var FT={moduleName:"DataType",version:Me,beans:[RT],dependsOn:[QM]},PT={moduleName:"ColumnFlex",version:Me,beans:[ST]},NS={moduleName:"ColumnApi",version:Me,beans:[CT],apiFunctions:{getColumnDef:eT,getDisplayNameForColumn:rT,getColumn:nT,getColumns:iT,applyColumnState:sT,getColumnState:oT,resetColumnState:aT,isPinning:lT,isPinningLeft:cT,isPinningRight:uT,getDisplayedColAfter:dT,getDisplayedColBefore:hT,setColumnsVisible:fT,setColumnsPinned:pT,getAllGridColumns:gT,getDisplayedLeftColumns:mT,getDisplayedCenterColumns:vT,getDisplayedRightColumns:wT,getAllDisplayedColumns:bT,getAllDisplayedVirtualColumns:yT,getColumnDefs:tT}};function MT(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var TT=class extends fe{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return r&&i?i.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?.getColGroupDef();return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,i){const s=e.headerValueGetter;if(s){const o=Ue(this.gos,{colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return MT(e.field)}return""}},_T=class extends fe{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const{visibleCols:n}=this,i=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=n.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(r)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||AT(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,s=t<n&&r<n,o=t>i&&r>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return Ee(o)&&o>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,i=n.centerCols;return n.getColsForRow(e,i,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const r=n=>{const i=new Set,s={};for(const o of n){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const u=a.getProvidedColumnGroup().getLevel();s[u]??(s[u]=[]),s[u].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=r(e),this.rowsOfHeadersToRenderRight=r(t),this.rowsOfHeadersToRenderCenter=r(this.headerColsWithinViewport)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}};function AT(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var DT=class extends fe{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class r{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=bm("<span>"+s+"</span>");return}if(s==null){this.eGui=Jt({tag:"span"});return}this.eGui=s}}return r}},IT={moduleName:"CellRendererFunction",version:Me,beans:[DT]},OT=class extends fe{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:r,dynamicBeans:n,selectors:i}=e;if(r){const s=(o,a,l,c)=>{this.agGridDefaults[o]=a,(l||c)&&(this.agGridDefaultOverrides[o]={params:l,processParams:c})};for(const o of Object.keys(r)){let a=r[o];if(A6(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:c,processParams:u}=a;s(o,l,c,u)}else s(o,a)}}if(n){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(n))this.dynamicBeans[s]=n[s]}if(i?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const r=(a,l,c,u)=>({componentFromFramework:l,component:a,params:c,processParams:u}),{frameworkOverrides:n}=this.beans,i=n.frameworkComponent(t,this.gos.get("components"));if(i!=null)return r(i,!0);const s=this.jsComps[t];if(s){const a=n.isFrameworkComponent(s);return r(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return r(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...r){if(!this.dynamicBeans)throw new Error(Kn(279,{name:e}));const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??Kn(256));return}return new n(...r)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},LT=23,NT=class extends fe{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===LT&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},BT=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',Um=typeof window!="object"||!window?.document?.fonts?.forEach,fa=(e,t,r,n,i,s)=>{if(Um)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let o=Zo.map.get(t);if(o||(o=[],Zo.map.set(t,o)),o.find(u=>u.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=r,a.textContent=e;const l={css:e,el:a,priority:i};let c;for(const u of o){if(u.priority>i)break;c=u}if(c){c.el.insertAdjacentElement("afterend",a);const u=o.indexOf(c);o.splice(u+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},BS=(e,t,r)=>{fa(BT,e,"core",t,0,r),Array.from(k6()).sort((n,i)=>n.moduleName.localeCompare(i.moduleName)).forEach(n=>n.css?.forEach(i=>fa(i,e,`module-${n.moduleName}`,t,0,r)))},HT=e=>{Zo.grids.add(e)},VT=e=>{if(Zo.grids.delete(e),Zo.grids.size===0){Zo.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},gw,Zo=(gw=typeof window=="object"?window:{}).agStyleInjectionState??(gw.agStyleInjectionState={map:new WeakMap,grids:new Set}),Yn=e=>new HS(e),Ni="$default",GT=0,HS=class{constructor({feature:e,params:t,modeParams:r={},css:n,cssImports:i}){this.feature=e,this.css=n,this.cssImports=i,this.modeParams={[Ni]:{...r[Ni]??{},...t??{}},...r}}use(e,t,r){let n=this._inject;if(n==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++GT}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;n={css:i,class:s}}else n=!1;this._inject=n}return n&&e&&fa(n.css,e,n.class,t,1,r),n?n.class:!1}},zT=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),VS=e=>`--ag-${zT(e)}`,Zn=e=>`var(${VS(e)})`,jT=(e,t,r)=>Math.max(t,Math.min(r,e)),WT=e=>{const t=new Map;return r=>{const n=r;return t.has(n)||t.set(n,e(r)),t.get(n)}},Nn=e=>({ref:"accentColor",mix:e}),on=e=>({ref:"foregroundColor",mix:e}),dn=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),UT=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Br={ref:"backgroundColor"},yo={ref:"foregroundColor"},oi={ref:"accentColor"},bd={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:on(.15),chromeBackgroundColor:dn(.02),browserColorScheme:"light"},$T={...bd,textColor:yo,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Br,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:oi,rangeSelectionBackgroundColor:Nn(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Nn(.5),rangeHeaderHighlightColor:UT(.08),rowNumbersSelectedColor:Nn(.5),rowHoverColor:Nn(.08),columnHoverColor:Nn(.05),selectedRowBackgroundColor:Nn(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Br,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Br,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:on(.7),focusShadow:{spread:3,color:Nn(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:on(.1),iconButtonActiveColor:oi,iconButtonActiveBackgroundColor:Nn(.28),iconButtonActiveIndicatorColor:oi,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:oi,toggleButtonOffBackgroundColor:dn(.3),toggleButtonSwitchBackgroundColor:Br,toggleButtonSwitchInset:2,menuBorder:{color:on(.2)},menuBackgroundColor:dn(.03),menuTextColor:dn(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:on(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:oi},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:on(.2)},panelBackgroundColor:Br,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:on(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:on(.13)},selectCellBackgroundColor:on(.07),selectCellBorder:{color:on(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Br,filterPanelApplyButtonBackgroundColor:oi,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:yo,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:yo,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:on(.15),statusBarLabelColor:yo,statusBarLabelFontWeight:500,statusBarValueColor:yo,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},KT=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",GS={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},qT={...GS,cellBatchEditTextColor:"#f3d0b3"},XT=()=>Yn({feature:"batchEditStyle",params:GS,css:KT}),YT=XT(),ZT=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",QT={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},JT=()=>Yn({feature:"buttonStyle",params:{...QT,buttonBackgroundColor:Br,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:oi}},css:ZT}),e_=JT(),t_=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",r_=()=>Yn({feature:"columnDropStyle",css:t_}),zS=r_(),n_=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],i_=WT(e=>(e=e.toLowerCase(),n_.find(t=>e.endsWith(t.toLowerCase()))??"length")),Qd=e=>typeof e=="object"&&e?.ref?Zn(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,$m=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Zn(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Zn(e.onto):"transparent"}, ${t} ${jT(e.mix*100,0,100)}%)`}return!1},s_=Qd,Io=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,r=>r[0]==="-"?r:` ${Zn(r)} `)})`:e&&"ref"in e?Zn(e.ref):!1,o_=Qd,Xp=(e,t)=>typeof e=="string"?e:e===!0?Xp({},t):e===!1?t==="columnBorder"?Xp({color:"transparent"},t):"none":e&&"ref"in e?Zn(e.ref):jS(e.style??"solid")+" "+Io(e.width??{ref:"borderWidth"})+" "+$m(e.color??{ref:"borderColor"}),a_=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Zn(e.ref):[Io(e.offsetX??0),Io(e.offsetY??0),Io(e.radius??0),Io(e.spread??0),$m(e.color??{ref:"foregroundColor"})].join(" "),jS=Qd,WS=e=>typeof e=="string"?e.includes(",")?e:mw(e):e&&"googleFont"in e?WS(e.googleFont):e&&"ref"in e?Zn(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),mw(t))).join(", "):!1,mw=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),l_=Qd,US=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?US({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Zn(e.ref):!1,c_=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&kt(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Zn(e.ref):!1,u_={color:$m,colorScheme:s_,length:Io,scale:o_,border:Xp,borderStyle:jS,shadow:a_,image:US,fontFamily:WS,fontWeight:l_,duration:c_},d_=(e,t)=>{const r=i_(e);return u_[r](t,e)},h_=()=>new $S().withPart(e_).withPart(zS).withPart(YT),$S=class KS{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof HS?new KS([...this.parts,t]):($a(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Yn({feature:t}))}withParams(t,r=Ni){return this.withPart(Yn({modeParams:{[r]:t}}))}_startUse({styleContainer:t,cssLayer:r,nonce:n,loadThemeGoogleFonts:i}){if(Um)return;p_(),BS(t,r,n);const s=f_(this);if(s.length>0)for(const o of s)i&&m_(o,n);for(const o of this.parts)o.use(t,r,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=vw(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const r={[Ni]:{...$T}};for(const n of vw(this.parts))for(const i of Object.keys(n.modeParams)){const s=n.modeParams[i];if(s){const o=r[i]??(r[i]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(i===Ni)for(const l of Object.keys(r)){const c=r[l];if(l!==Ni)for(const u of a)delete c[u]}}}this._paramsCache=t=r}return t}_getPerGridCss(t){const r="##SELECTOR##";let n=this._paramsCssCache;if(!n){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==Ni){const h=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=h,s+=h}for(const u of Object.keys(c).sort()){const h=c[u],d=d_(u,h);if(d===!1)kt(107,{key:u,value:h});else{const f=VS(u),p=f.replace("--ag-","--ag-inherited-");i+=`	${f}: var(${p}, ${d});
`,s+=`	${p}: var(${f});
`}}l!==Ni&&(i+=`}
`,s+=`}
`)}let a=`${r} {
${i}}
`;a+=`:has(> ${r}):not(${r}) {
${s}}
`,this._paramsCssCache=n=a}return n.replaceAll(r,`:where(.${t})`)}},vw=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const r=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&r.push(n);return r},f_=e=>{const t=new Set,r=s=>{if(Array.isArray(s))s.forEach(r);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(r),Array.from(t).sort()},ww=!1,p_=()=>{if(!ww){ww=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},g_=new Set,m_=async(e,t)=>{g_.add(e);const r=`@import url('https://${v_}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;fa(r,document.head,`googleFont:${e}`,void 0,0,t)},v_="fonts.googleapis.com",w_='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',b_=()=>Yn({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Br,checkboxUncheckedBorderColor:dn(.3),checkboxCheckedBackgroundColor:oi,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Br,checkboxIndeterminateBackgroundColor:dn(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Br,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:w_}),y_=b_(),qS=()=>({...bd,...qT,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:dn(.05),rowHoverColor:Nn(.15),selectedRowBackgroundColor:Nn(.2),menuBackgroundColor:dn(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:yo,findMatchColor:Br,findActiveMatchColor:Br,checkboxUncheckedBorderColor:dn(.4),toggleButtonOffBackgroundColor:dn(.4),rowBatchEditBackgroundColor:dn(.1)}),C_=()=>({...qS(),backgroundColor:"#1f2836"}),S_=()=>Yn({feature:"colorScheme",params:bd,modeParams:{light:bd,dark:qS(),"dark-blue":C_()}}),x_=S_(),XS={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},YS={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},R_=(e={})=>{let t="";for(const r of[...Object.keys(XS),...Object.keys(YS)]){const n=E_(r,e.strokeWidth);t+=`.ag-icon-${r}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},E_=(e,t=1.5)=>{const r=YS[e];if(r)return r;const n=XS[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},k_=(e={})=>Yn({feature:"iconSet",css:()=>R_(e)}),F_=k_(),P_=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',M_=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",T_={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},__=()=>Yn({feature:"inputStyle",params:{...T_,inputBackgroundColor:Br,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:oi},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:dn(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>P_+M_}),A_=__(),D_='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',I_={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},O_=()=>Yn({feature:"tabStyle",params:{...I_,tabBarBorder:!0,tabBarBackgroundColor:on(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Br},css:D_}),L_=O_(),N_=()=>h_().withPart(y_).withPart(x_).withPart(F_).withPart(L_).withPart(A_).withPart(zS).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),B_=N_(),H_={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},V_={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},G_={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},bw={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},yw={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Cw={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},cf={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Sw={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},z_=0,j_=class extends fe{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++z_}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:r}=e;this.eGridDiv=t,this.eStyleContainer=r.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=r.themeCssLayer,this.styleNonce=r.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(bw),this.getSizeEl(yw),this.getSizeEl(Cw),this.getSizeEl(cf),this.getSizeEl(Sw),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>VT(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(Sw)}getRowBorderWidth(){return this.getCSSVariablePixelValue(cf)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(bw)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(yw)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(H_)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(V_),r=this.getCSSVariablePixelValue(G_);return e-1+r*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Cw)}applyThemeClasses(e){const{gridTheme:t}=this;let r="";if(t)r=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let i=!1;for(const s of Array.from(n.classList))s.startsWith("ag-theme-")&&(i=!0,r=r?`${r} ${s}`:s);i&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(r){const n=e.className;e.className=n+(n?" ":"")+r}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),r=this.gos.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${r}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),r):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?fa(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===uf?"no-styles":(this.sizesMeasured=!0,r)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Jt({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const r=this.getMeasurementContainer();t=Jt({tag:"div"});const{border:n,noWarn:i}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${uf}px)`)):t.style.width=`var(${e.cssName}, ${uf}px)`,r.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&we(9,{variable:e});const o=Ri(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(cf);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:r,gridTheme:n}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??B_;o instanceof $S?s=o:kt(240,{theme:o})}if(s!==n){if(s){HT(this),BS(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of r)fa(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);r.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=Jt({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}Um||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&kt(i?106:239)}},uf=15538,W_=class extends fe{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new Gs}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,r){this.globalSvc.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalSvc.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Ue(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Ue(this.gos,e))}};function ZS(e,t,r){const n=e.visibleCols.headerGroupRowCount;if(r>=n)return{column:t,headerRowIndex:r};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>r;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:n}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var U_=class extends fe{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,r=>{this.gridBodyCon=r.gridBodyCtrl});const t=hr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let r;const{colModel:n,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(r=n.getCol(e),r||(r=i?.getColumnGroup(e)??null)):r=e,!r)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Et(a||[]).type==="filter",c=zn(this.beans)-1;let u=-1,h=r;for(;h;)u++,h=h.getParent();let d=u;return t&&l&&d===c-1&&d++,d===-1?null:{headerRowIndex:d,column:r}}navigateVertically(e,t){const{focusSvc:r,visibleCols:n}=this.beans,{focusedHeader:i}=r;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=zn(this.beans),l=this.getHeaderRowType(s),c=n.headerGroupRowCount;let{headerRowIndex:u,column:h,headerRowIndexWithoutSpan:d}=e==="UP"?$_(l,o,s):K_(o,s,c),f=!1;return u<0&&(u=0,h=o,f=!0),u>=a?(u=-1,this.currentHeaderRowWithoutSpan=-1):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!f&&!h?!1:r.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:h},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,r){const{focusSvc:n,gos:i}=this.beans,s={...n.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=n.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:u}=n.focusedHeader||{};u!=null&&u!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=u)}return c}return o||!t?n.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(s,a,r)}focusNextHeaderRow(e,t,r){const n=this.beans,i=e.headerRowIndex;let s=null,o;const a=zn(n),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=Et(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:u}=ZS(this.beans,s,o);return u>=a&&(u=-1),n.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(Zt(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?Et(n):n[0]}else r=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(r)}findHeader(e,t){const{colGroupSvc:r,visibleCols:n}=this.beans;let i=e.column;if(i instanceof Vl){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?n.getColBefore(i):n.getColAfter(i);if(!s)return;const o=n.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=r?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:n.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof no&&s.isSpanHeaderHeight()?n.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function $_(e,t,r){const n=r-1;if(e!=="filter"){const i=t instanceof no&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>n||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:n}:{column:s,headerRowIndex:n,headerRowIndexWithoutSpan:n}}return{column:t,headerRowIndex:n,headerRowIndexWithoutSpan:n}}function K_(e,t,r){const n=t+1,i={column:e,headerRowIndex:n,headerRowIndexWithoutSpan:n};if(e instanceof Vl){if(n>=r)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:r,headerRowIndexWithoutSpan:n};let o=e.getDisplayedChildren()[0];if(o instanceof Vl&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof no&&o.isSpanHeaderHeight()&&(i.headerRowIndex=r,i.headerRowIndexWithoutSpan=n)}return i}var q_=class extends fe{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(t5(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Kt(this.beans),yS)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Kt(this.beans);return this.isDomDataPresentInHierarchy(e,md)?!0:this.isDomDataPresentInHierarchy(e,vd)}isDomDataPresentInHierarchy(e,t){let r=e;for(;r;){if(u1(this.gos,r,t))return!0;r=r.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:r,column:n}=e,i={rowIndex:t,rowPinned:r,column:n,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:r,rowPinned:n,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:r,rowPinned:di(n),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:K1(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:r,pinned:n}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&r===s&&n==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Is(this.beans))return!1;const{direction:t,fromTab:r,allowUserOverride:n,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(n){const l=this.focusedHeader,c=zn(this.beans);if(r){const u=this.gos.getCallback("tabToNextHeader");u&&(a=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{const u=this.gos.getCallback("navigateToNextHeader");if(u&&i){const h={key:i.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:i};a=u(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Is(this.beans))return!1;const{userFunc:t,headerPosition:r,direction:n,event:i}=e,s=this.focusedHeader,o=zn(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:s,headerPosition:r,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:r,currentPosition:n,headerPosition:i,headerRowCount:s}=e,a=t({backwards:r==="Before",previousHeaderPosition:n,nextHeaderPosition:i,headerRowCount:s});return a===!0?n:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:r,fromCell:n,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:u}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});u?.scrollToColumn(o,r);const d=c.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return u&&d&&(i!=null||n)&&(u.currentHeaderRowWithoutSpan=i??-1),d}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=ZS(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=zn(this.beans)-1,r=Et(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===di(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Ks(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:r=!0,event:n}=e;if(this.overlays?.isExclusive())return r&&this.focusOverlay(t);if(qd(this.beans))return t&&!Is(this.beans)?this.focusLastHeader():r&&this.focusOverlay(t)?!0:t?!1:ha(this.beans,t);const i=t?H6(this.beans):B6(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=bi(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const c=this.gos.get("enableRtl");let u;return!n||n.key===de.TAB?u=c?de.LEFT:de.RIGHT:u=n.key,this.beans.navigation?.navigateToNextCell(null,u,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:di(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(r&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const r=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:zn(this.beans)-1}}):this.focusGridView({column:r})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},X_=class extends fe{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:Dk();r!=null&&(this.scrollbarWidth=r,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Y_=class extends fe{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:r}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),r.destroy(),super.destroy()}},xu=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Z_=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Km=Z_.reduce((e,t)=>(e[t]=s4(t),e),{}),Ba=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),Q_={tag:"span",cls:"ag-sort-indicator-container",children:[Ba("Order","order"),Ba("Asc","ascending-icon"),Ba("Desc","descending-icon"),Ba("Mixed","mixed-icon"),Ba("None","none-icon")]},qm=class extends Dt{constructor(e){super(),this.eSortOrder=ze,this.eSortAsc=ze,this.eSortDesc=ze,this.eSortMixed=ze,this.eSortNone=ze,e||this.setTemplate(Q_)}attachCustomElements(e,t,r,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=fn(e,this.beans,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:r,column:n,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(n);if(e&&Wt(e,o==="asc",{skipAriaHidden:!0}),t&&Wt(t,o==="desc",{skipAriaHidden:!0}),r){const a=!n.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;Wt(r,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:r}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;Hn(r)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:r}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(r)==="mixed";Wt(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:r}}=this;if(!e)return;const n=r.getColumnsWithSortingOrdered(),i=r.getDisplaySortIndexForColumn(t)??-1,s=n.some(a=>r.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;Wt(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():en(e)}},J_={selector:"AG-SORT-INDICATOR",component:qm},zl=["asc","desc",null],e8=class extends fe{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=Hn(i);let a=[e];if(o&&e.getColDef().showRowGroup){const h=s?.getSourceColumnsForGroupColumn?.(e)?.filter(d=>d.isSortable());h&&(a=[e,...h])}a.forEach(u=>this.setColSort(u,t,n));const l=(r||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const u=this.clearSortBarTheseColumns(a,n);c.push(...u)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(n,c)}updateSortIndex(e){const{gos:t,colModel:r,showRowGroupCols:n}=this.beans,i=Hn(t),s=n?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();r.forAllCols(u=>this.setColSortIndex(u,null));const l=a.filter(u=>i&&u.getColDef().showRowGroup?!1:u!==o);(o.getSort()?[...l,o]:l).forEach((u,h)=>this.setColSortIndex(u,h))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventSvc.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSort()&&r.push(n),this.setColSort(n,void 0,t))}),r}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??zl,r=t.indexOf(e.getSort()),n=r<0,i=r==t.length-1;return n||i?t[0]:t[r+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:r,rowGroupColsSvc:n}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSort()&&i.push(c)}),t.isPivotMode()){const c=Hn(e);i=i.filter(u=>{const h=!!u.getAggFunc(),d=!u.isPrimary(),f=c?r?.getShowRowGroupCol(u.getId()):u.getColDef().showRowGroup;return h||d||f})}const s=n?.columns.filter(c=>!!c.getSort())??[],o={};i.forEach((c,u)=>o[c.getId()]=u),i.sort((c,u)=>{const h=c.getSortIndex(),d=u.getSortIndex();if(h!=null&&d!=null)return h-d;if(h==null&&d==null){const f=o[c.getId()],p=o[u.getId()];return f>p?1:-1}else return d==null?-1:1});const a=Hn(e)&&!!s.length;a&&(i=[...new Set(i.map(c=>r?.getShowRowGroupCol(c.getId())??c))]);const l=new Map;return i.forEach((c,u)=>l.set(c,u)),a&&s.forEach(c=>{const u=r.getShowRowGroupCol(c.getId());l.set(c,l.get(u))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Hn(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,r){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=Date.now()}}),r&&e.addManagedElementListeners(r,{click:s=>{const o=t.isMoving(),l=Date.now()-n<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:r,sortIndex:n,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(r==="asc"||r==="desc")&&(e.sort=r),n!==void 0?n!==null&&(e.sortIndex=n):i!==null&&(e.sortIndex=i)}updateColSort(e,t,r){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,r):this.setColSort(e,void 0,r))}setColSort(e,t,r){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",r)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new qm(e)}getSortIndicatorSelector(){return J_}},Qo={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},t8=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),r8={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?Qo[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:Qo[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?Qo[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(r=>t.includes(r))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},n8=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:r})=>r?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,r)=>r.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:r})=>r==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:r})=>r==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:r})=>r==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const r=t.headerValueGetter;return typeof r=="function"||typeof r=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Kn(262);if(t.smallLeft)return Kn(263);if(t.smallRight)return Kn(264)}return null}},sortingOrder:{validate:t=>{const r=t.sortingOrder;if(Array.isArray(r)&&r.length>0){const n=r.filter(i=>!zl.includes(i));if(n.length>0)return`sortingOrder must be an array with elements from [${zl.map(rd).join()}], currently it includes [${n.map(rd).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},type:{validate:t=>{const r=t.type;return r instanceof Array?r.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof r=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:r})=>r?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:r,cellSelection:n,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof r=="object"&&r?.mode==="singleRow"&&r?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),i8={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},s8=()=>Object.keys(i8),o8=()=>({objectName:"colDef",allProperties:s8(),docsUrl:"column-properties/",deprecations:t8(),validations:n8()}),a8=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],l8=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],c8=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],QS=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],u8=["theme","rowSelection"],d8=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],JS=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],h8=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],f8=()=>[...c8,...l8,...a8,...QS,...h8,...JS,...d8,...u8],p8=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function On(e,t,r){return typeof t=="number"||t==null?t==null||t>=r?null:`${e}: value should be greater than or equal to ${r}`:`${e}: value should be a number`}var g8={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},m8=()=>{const e={autoSizePadding:{validate({autoSizePadding:r}){return On("autoSizePadding",r,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:r}){return On("cacheBlockSize",r,1)}},cacheOverflowSize:{validate({cacheOverflowSize:r}){return On("cacheOverflowSize",r,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:r=>{const n=r.domLayout,i=["autoHeight","normal","print"];return n&&!i.includes(n)?`domLayout must be one of [${i.join()}], currently it's ${n}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:r,pinnedTopRowData:n,pinnedBottomRowData:i}){return r&&(n||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:r,isRowPinnable:n,pinnedTopRowData:i,pinnedBottomRowData:s}){return n&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!r&&n?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:r,isRowPinned:n,pinnedTopRowData:i,pinnedBottomRowData:s}){return n&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!r&&n?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:r})=>{if(r){if(r.smallDown)return Kn(262);if(r.smallLeft)return Kn(263);if(r.smallRight)return Kn(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:r}){return On("infiniteInitialRowCount",r,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:r}){return On("keepDetailRowsCount",r,1)}},paginationPageSize:{validate({paginationPageSize:r}){return On("paginationPageSize",r,1)}},paginationPageSizeSelector:{validate:r=>{const n=r.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:r}){return On("rowBuffer",r,0)}},rowClass:{validate:r=>typeof r.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:r}){return r&&typeof r=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':r&&typeof r!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":r&&r.mode!=="multiRow"&&r.mode!=="singleRow"?`Selection mode "${r.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:r=>{const n=r.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:r}){return On("serverSideInitialRowCount",r,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:r=>{const n=r.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(s=>!zl.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${zl.map(rd).join()}], currently it includes [${i.map(rd).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},tooltipHideDelay:{validate:r=>r.tooltipHideDelay&&r.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:r=>r.tooltipShowDelay&&r.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:r=>{const n=r.rowModelType??"clientSide";switch(n){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=r;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return r.isServerSideGroup&&r.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:r}){return On("viewportRowModelBufferSize",r,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:r}){return On("viewportRowModelPageSize",r,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:r,showOpenedGroup:n}){return r?.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":r?.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:r=>{const n=r.renderingMode,i=["default","legacy"];return n&&!i.includes(n)?`renderingMode must be one of [${i.join()}], currently it's ${n}`:null}}},t={};return JS.forEach(r=>{t[r]={expectedType:"boolean"}}),QS.forEach(r=>{t[r]={expectedType:"number"}}),Ar(t,e),t},v8=()=>({objectName:"gridOptions",allProperties:[...f8(),...Object.values(Km)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:p8(),validations:m8()}),w8=0,b8=0,y8=class extends fe{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=b8++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Gs,this.globalEventHandlerFactory=e=>(t,r)=>{if(!this.isAlive())return;const n=xu.has(t);if(n&&!e||!n&&e||!C8(t))return;const i=(s,o)=>{const a=Km[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,r);else if(t==="gridReady"){i(t,r),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:r})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??HC[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ee(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(r=>e(this.addGridCommonParams(r)))}updateGridOptions({options:e,force:t,source:r="api"}){const n={id:w8++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(r,a);const c=t||typeof l=="object"&&r==="api",u=s[a];if(c||u!==l){s[a]=l;const h={type:a,currentValue:l,previousValue:u,changeSet:n,source:r};i.push(h)}}this.validateGridOptions(this.gridOptions),n.properties=i.map(a=>a.type),i.forEach(a=>{js(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const r of Object.keys(e)){const n=e[r];if(n==null||n===!1)continue;let i=t[r];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,r)}}validateGridOptions(e){this.validateOptions(e,g8),this.validation?.processGridOptions(e)}validateColDef(e,t,r){(r||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,r8),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const r=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return r||kt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),r}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Fm(),rowModelType:this.get("rowModelType"),isUmd:M6()}}isModuleRegistered(e){return Op(e,this.gridId,this.get("rowModelType"))}};function C8(e){return!!Km[e]}function e2(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var S8=e2(!0),x8=e2(!1),R8=class extends Dt{constructor(){super(...arguments),this.eFilter=ze,this.eFilterButton=ze,this.eSortIndicator=ze,this.eMenu=ze,this.eLabel=ze,this.eText=ze,this.eSortOrder=ze,this.eSortAsc=ze,this.eSortDesc=ze,this.eSortMixed=ze,this.eSortNone=ze,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const r={...e};Ar(r,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(r)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const r=e.template;return r?r?.trim?r.trim():r:t?S8:x8}init(e){this.params=e;const{sortSvc:t,touchSvc:r,rowNumbersSvc:n,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),r?.setupForHeader(this),this.setMenu(),this.setupSort(),n?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const r=l6(e,t,t);r&&(this.isLoadingInnerComponent=!0,r.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText&&this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,r=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||r===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=wa(t))}addInIcon(e,t,r){const n=fn(e,this.beans,r);n&&t.appendChild(n)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){wi(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:r}=this,n=Xr(e);this.addInIcon(n?"menu":"menuAlt",t,r.column),t.classList.toggle("ag-header-menu-icon",!n);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:r}=this;t||this.toggleMenuAlwaysShow(!0),r.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:r,beans:n,eMenu:i,eFilterButton:s}=this,o=t.column,a=Xr(r);if(e&&!a){if(n.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:r}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;n.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(r),this.currentSort&&e.setupHeader(this,r,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const r=()=>{const n=t.column.isFilterActive();Wt(e,n,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,r,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,r,n){if(!e)return wi(t),!1;const i=this.params.column;return this.addInIcon(n,t,i),this.addManagedListeners(i,{filterChanged:r}),r(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:r}=this;return e?t??r??this.getGui():r??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},E8={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},k8=class extends Dt{constructor(){super(E8),this.agOpened=ze,this.agClosed=ze,this.agLabel=ze,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:r}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),r?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&we(89)}workOutInnerHeaderGroupComponent(e,t){const r=u6(e,t,t);r&&(this.isLoadingInnerComponent=!0,r.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:r},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(hi(l))return;const c=!r.isExpanded();n.colGroupSvc.setColumnGroupOpened(r.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,i),this.addTouchAndClickListeners(n,e,i);const s=l=>{Us(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=r.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,r){e.touchSvc?.setupForHeaderGroupElement(this,t,r),this.addManagedElementListeners(t,{click:r})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:r}}=this;if(r.isExpandable()){const n=r.isExpanded();Wt(e,n),Wt(t,!n)}else Wt(e,!1),Wt(t,!1)}addInIcon(e,t){const r=fn(e,this.beans,null);r&&t.appendChild(r)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:r}=this;Wt(t,!1),Wt(r,!1);return}}setupLabel(e){const{displayName:t,columnGroup:r}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Ee(t)&&!n&&(this.agLabel.textContent=wa(t)),this.toggleCss("ag-sticky-label",!r.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},F8={moduleName:"ColumnHeaderComp",version:Me,userComponents:{agColumnHeader:R8},icons:{menu:"menu",menuAlt:"menu-alt"}},P8={moduleName:"ColumnGroupHeaderComp",version:Me,userComponents:{agColumnGroupHeader:k8},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},M8=class extends fe{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&we(92)}createTask(e,t,r,n,i=!1){this.verify();let s=r;n&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.deferred!==n.deferred?r.deferred?-1:1:r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:r,f1:n,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=r.list,u=n.list,h=Date.now();let d=0;const f=e<=0,p=o.getScrollFeature();for(;f||d<e;){if(!p.scrollGridIfNeeded()){let g;if(l.length)this.sortTaskList(t),g=l.pop().task;else if(c.length)this.sortTaskList(r),g=c.pop().task;else if(u.length)a.wrapOutgoing(()=>{for(;(f||d<e)&&!p.scrollGridIfNeeded();){if(u.length)this.sortTaskList(n),g=u.pop().task,g();else break;d=Date.now()-h}}),g=()=>{};else if(i.length)g=i.pop();else break;g()}d=Date.now()-h}l.length||c.length||u.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Ei(this.beans,e)}isQueueEmpty(){return!this.ticking}},T8={moduleName:"AnimationFrame",version:Me,beans:[M8]},_8=class extends fe{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Ms())return;const t=(r,n,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Ms()||C1("dblclick"))return!1;const n=Date.now(),i=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:r,menuSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new ys(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&Ee(s)&&i.enableMenu,u=c?new ys(s,!0):a;if(i.enableMenu||n?.isHeaderContextMenuEnabled(i.column)){const h=c?"tap":"longTap",d=f=>i.showColumnMenuAfterMouseClick(f.touchStart);e.addManagedListeners(u,{[h]:d})}if(i.enableSorting){const h=d=>{const f=d.touchStart.target;l&&(s?.contains(f)||o?.contains(f))||r?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:h})}if(i.enableFilterButton&&o){const h=new ys(o,!0);e.addManagedListeners(h,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const r=new ys(t.eGridHeader,!0),n=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(r,{longTap:n}),e.addDestroyFunc(()=>r.destroy())}}setupForHeaderGroupElement(e,t,r){const n=new ys(t,!0);e.addManagedListeners(n,{tap:r}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,r){if(!Ms())return;const n=new ys(t),i=s=>{Hl(this.gos,s.touchEvent)&&r(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}},A8={moduleName:"Touch",version:Me,beans:[_8]},D8=class extends fe{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===de.UP,n=e===de.DOWN,i=e===de.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:u}=this.beans,{rowPinned:h}=t;if(r||n)h&&u?r?o=0:o=h==="top"?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:o=r?a.getFirstRow():a.getLastRow(),s=t.column;else{const d=l.get("enableRtl");o=t.rowIndex,s=(i!==d?c.allCols:[...c.allCols].reverse()).find(p=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:p}))}return s?{rowIndex:o,rowPinned:h,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case de.UP:r=this.getCellAbove(r);break;case de.DOWN:r=this.getCellBelow(r);break;case de.RIGHT:r=this.gos.get("enableRtl")?this.getCellToLeft(r):this.getCellToRight(r);break;case de.LEFT:r=this.gos.get("enableRtl")?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,we(8,{key:e});break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;const{pinnedRowModel:n,rowModel:i}=this.beans;switch(e.rowPinned){case"top":r=n?.getPinnedTopRow(e.rowIndex);break;case"bottom":r=n?.getPinnedBottomRow(e.rowIndex);break;default:r=i.getRow(e.rowIndex);break}return r?!this.isSuppressNavigable(t,r):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,r=G0(this.beans,t);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,r=hd(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:r}=this.beans,n=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=n[0];const a=G0(this.beans,e);if(Vt(a)||!a.rowPinned&&!(r?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:r,pagination:n}=t,i=r.allCols;let s=e.rowIndex,o=e.rowPinned,a=r.getColBefore(e.column);if(!a){a=Et(i);const l=hd(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Vt(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:r}=e.colDef;if(typeof r=="boolean")return r;if(typeof r=="function"){const n=e.createColumnFunctionCallbackParams(t);return r(n)}return!1}};function I8(e){return e.focusSvc.getFocusedCell()}function O8(e){return e.focusSvc.clearFocusedCell()}function L8(e,t,r,n){e.focusSvc.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function N8(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function B8(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function H8(e,t,r=!1){const n=e.headerNavigation?.getHeaderPositionForColumn(t,r);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var V8=class extends fe{constructor(){super(),this.beanName="navigation",this.onPageDown=A0(this.onPageDown,100),this.onPageUp=A0(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=b5(this.gos,e);let a=!1;switch(r){case de.PAGE_HOME:case de.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:if(!o)return!1;i&&!n&&!s&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case de.PAGE_DOWN:case de.PAGE_UP:!i&&!n&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===de.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:r,focusIndex:n,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;Ee(r)&&!r.isPinned()&&a.ensureColumnVisible(r),Ee(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(n);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:n,column:i,rowPinned:o,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:n,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,r=df(t),n=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=r.top+n,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,r=df(t),{pageBounds:n,rowModel:i,rowAutoHeight:s}=t,o=n.getPixelOffset(),a=r.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,r=!1){const{pageBounds:n,rowModel:i}=this.beans,s=this.getViewportHeight(),o=n.getFirstRow(),a=n.getLastRow(),l=n.getPixelOffset(),c=i.getRow(e.rowIndex),u=r?c?.rowHeight-s-l:s-l,h=c?.rowTop+u;let d=i.getRowIndexAtPixel(h+l);if(d===e.rowIndex){const p=r?-1:1;t=d=e.rowIndex+p}let f;r?(f="bottom",d<o&&(d=o),t<o&&(t=o)):(f="top",d>a&&(d=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(d))&&(t=d,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const u=c.rowHeight??0;if(a+u>n)break;a+=u}l+=r}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=df(e),r=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=r),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n,rowPinned:i}=r,s=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s,rowPinned:i})}onHomeOrEndKey(e){const t=e===de.PAGE_HOME,{visibleCols:r,pageBounds:n,rowModel:i}=this.beans,s=r.allCols,o=t?n.getFirstRow():n.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(n!==!1){n?t.preventDefault():n===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(r);return}if(r){const{rowIndex:c,rowPinned:u}=e.getRowPosition();(u?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||Is(i)?ha(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Xo&&e.focusCell(!0),(!r&&a.focusOverlay(!1)||ha(i,r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.beans,{focusSvc:n,rowRenderer:i}=r,s=n.getFocusedCell();if(!s)return!1;let o=qa(r,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,r,n="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof Xo?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,r,n):o=this.moveToNextCellNotEditing(e,t,r),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,r){const n=this.beans.visibleCols.allCols;let i;if(e instanceof wd){if(i={...e.getRowPosition(),column:t?n[0]:Et(n)},this.gos.get("embedFullWidthRows")&&r){const o=e.findFullWidthInfoForEvent(r);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Xo)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return Ee(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:r,skipToNextEditableCell:n}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:u}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const h=a.getCallback("tabToNextCell");if(Ee(h)){const m=h({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:i||null});if(m===!0)i=e;else{if(m===!1)return!1;i={rowIndex:m.rowIndex,column:m.column,rowPinned:m.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const p=zn(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:p+i.rowIndex,column:i.column},fromCell:!0}),null}const d=a.get("editType")==="fullRow";if(r&&(!d||n)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const f=qa(s,i);if(!f){const p=c.getRowByPosition(i);if(!p||!p.isFullWidth()||r)continue;return{...p.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(f.column,f.rowNode))return f.setFocusedCellPosition(i),u?.setRangeToCell(i),f}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:r,rowModel:n}=this.beans;return t==="top"?r?.getPinnedTopRow(e):t==="bottom"?r?.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,r,n){let i=r,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;i&&(i===r||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===de.LEFT&&(i=this.getLastCellOfColSpan(i)):t===de.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=Vt(i);if(s&&e&&e.key===de.UP&&(i={rowIndex:-1,rowPinned:null,column:r.column}),n){const h=c.getCallback("navigateToNextCell");if(Ee(h)){const f=h({key:t,previousCellPosition:r,nextCellPosition:i||null,event:e});Ee(f)?i={rowPinned:f.rowPinned,rowIndex:f.rowIndex,column:f.column}:i=null}}if(!i)return;if(i.rowIndex<0){const h=zn(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:h+i.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const u=this.getNormalisedPosition(i);u?this.focusPosition(u):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const r=qa(this.beans,e);return r?(e=r.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:r,rowRenderer:n,focusSvc:i,eventSvc:s}=this.beans,o=r.allCols,a=n.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Et(o):o[0])};this.focusPosition(c);const u=t??(l!=null&&L6(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:r}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),r?.setRangeToCell(e)}isValidNavigateCell(e){return!!bi(this.beans,e)}getLastCellOfColSpan(e){const t=qa(this.beans,e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Et(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=f1(this.gos),r=this.beans.rowModel.getRow(e.rowIndex),n=t&&r?.sticky,{scrollFeature:i}=this.gridBodyCon;!n&&Vt(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function df(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var G8={moduleName:"KeyboardNavigation",version:Me,beans:[V8,D8,U_],apiFunctions:{getFocusedCell:I8,clearFocusedCell:O8,setFocusedCell:L8,setFocusedHeader:H8,tabToNextCell:N8,tabToPreviousCell:B8}},z8=class extends fe{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:r}=this.beans;t?t.calculatePages():e.calculateBounds(0,r.getRowCount()-1)}},j8=class extends fe{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,r=e?.rowTop??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:r,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:r}=this.beans,n=r.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const i=r.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},W8=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",U8=class extends fe{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const r of this.elements)r&&(Wt(r,t),$n(r,e))}},$8=class extends fe{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:r}=this.beans,n=wr(e,"print"),i=n?0:t.getColsLeftWidth(),s=n?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,r.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,r.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Il(e);if(t<=50)return;const r=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=r;let o=i;!o.length&&!s||(n&&(o=n({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!Zi(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new U8(e,t)}setColsPinned(e,t,r){const{colModel:n,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!n.cols||!e?.length)return;if(wr(o,"print")){we(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const u=n.getCol(c);u&&u.getPinned()!==a&&(this.setColPinned(u,a),l.push(u))}),l.length&&(s.refresh(r),I1(this.eventSvc,l,r)),i?.finish()}initCol(e){const{pinned:t,initialPinned:r}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,r)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const r=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const i=()=>{const s=r?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),h=t.verticalScrollShowing&&(l&&r||!l&&n)?s+c:s;e.comp.setPinnedContainerWidth(`${h}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:i}=this,s=Il(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+i+e>s)if(s>n+i)e=s-n-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,r=this.leftWidth??0,n=t+r;let i=!1;if(n<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const u=0,h=[];let d=n-u-e;for(;(c<o.length||l<a.length)&&d>0;){if(l<a.length){const f=a[l++];if(f.colDef.lockPinned){i=!0;continue}d-=f.getActualWidth(),h.push(f)}if(c<o.length&&d>0){const f=o[c++];if(f.colDef.lockPinned){i=!0;continue}d-=f.getActualWidth(),h.push(f)}}return{columns:h,hasLockedPinned:i}}},K8={moduleName:"PinnedColumn",version:Me,beans:[$8],css:[W8]},q8=class extends fe{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=mr(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=hr(e),r=this.descriptionContainer=t.createElement("div");r.classList.add("ag-aria-description-container"),zC(r,"polite"),bk(r,"additions text"),wk(r,!0),e.eGridDiv.appendChild(r)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}​`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(en(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},X8={moduleName:"Aria",version:Me,beans:[q8]};function Y8(e){e.overlays?.showLoadingOverlay()}function Z8(e){e.overlays?.showNoRowsOverlay()}function Q8(e){e.overlays?.hideOverlay()}var J8=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",eA={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},t2=class extends Dt{constructor(){super(eA),this.eOverlayWrapper=ze,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(J8)}handleKeyDown(e){if(e.key!==de.TAB||e.defaultPrevented||hi(e))return;const t=this.beans;if(so(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:Et(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=ha(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:i,PRINT:s}=Cu;r.toggle(n,t.autoHeight),r.toggle(i,t.normal),r.toggle(s,t.print)}postConstruct(){this.createManagedBean(new Dm(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.isGridFocused()){const i=Kt(this.beans);i&&!h1(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,n)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:o})=>{s.refresh?.(Ue(this.gos,{...o??{}}))})}r&&this.isGridFocused()&&Ks(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),en(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Kt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},tA={selector:"AG-OVERLAY-WRAPPER",component:t2},rA=class extends fe{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=er(this.gos),this.isServerSide=!this.isClientSide&&ro(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){we(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return tA}getOverlayWrapperCompClass(){return t2}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:r,beans:{gos:n,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!n.get("suppressLoadingOverlay")&&(o=!n.get("columnDefs")||!i.ready||!n.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!r&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(v6(this.beans.userCompFactory,Ue(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(w6(this.beans.userCompFactory,Ue(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){const n=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},nA={moduleName:"Overlay",version:Me,userComponents:{agLoadingOverlay:LF,agNoRowsOverlay:BF},apiFunctions:{showLoadingOverlay:Y8,showNoRowsOverlay:Z8,hideOverlay:Q8},beans:[rA]},iA=class extends fe{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Ak(),js(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;js(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},sA=400,oA=class extends fe{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},r=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{rs(this.gos)?r():n()}),rs(this.gos)&&r()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:i})=>{(!i&&n||i&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:r}=this.beans;if(r&&this.addManagedPropertyListener("showOpenedGroup",()=>{const n=r.getShowRowGroupCols();n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=wr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new aA(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),r=this.cachedRowCtrls?.getEntries()??[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}isCellBeingRendered(e,t){const r=this.rowCtrlsByRowIndex[e];return!t||!r?!!r:r.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!r.getCellCtrl(t)||!r.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(r=>t.onFlashCells(r,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const r=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},n=()=>{r(l=>l.onLeftChanged())},i=()=>{r(l=>l.onWidthChanged())},s=()=>{r(l=>l.onFirstRightPinnedChanged())},o=()=>{r(l=>l.onLastLeftPinnedChanged())},a=()=>{r(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=wr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellCtrl(e,!0)?.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,r){const{pinnedRowModel:n,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));n?.forEachPinnedRow(t,(l,c)=>{const u=e[c];u&&n.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),l.id in o&&r?(e[c]=o[l.id],delete o[l.id]):e[c]=new wd(l,i,!1,!1,s)});const a=(t==="top"?n?.getPinnedTopRowCount():n?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const r=n=>{const i=n[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Wo(this.gos),i=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?r:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let r=this.pageBounds.getCurrentPageHeight();r===0&&(r=1),t.setModelHeight(r+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Kn(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,r=this.findPositionToFocus(e);if(!r){t.focusHeaderPosition({headerPosition:{headerRowIndex:zn(this.beans)-1,column:e.column}});return}if(e.rowIndex!==r.rowIndex||e.rowPinned!=r.rowPinned){t.setFocusedCell({...r,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Ue(this.gos,{...r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:r}=this.beans;let n=e;for(n.rowPinned==null&&t&&r&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:r.getFirstRow()});n;){if(n.rowPinned==null&&r)if(n.rowIndex<r.getFirstRow()){if(n=hd(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>r.getLastRow()&&(n={rowPinned:null,rowIndex:r.getLastRow()});const i=this.getRowByPosition(n);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};n=hd(this.beans,n)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const i=t[n].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),r=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...r,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}refreshCells({rowNodes:e,columns:t,force:r,suppressFlash:n}={}){const i={force:r,newData:!1,suppressFlash:n};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||(t=!0,this.redrawRow(r.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=Yp(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const i=n.rowNode;return Zp(i,t)})}getCellCtrls(e,t){let r;Ee(t)&&(r={},t.forEach(i=>{const s=this.colModel.getCol(i);Ee(s)&&(r[s.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();r&&!r[o]||n.push(s)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const r of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[r].rowNode.id==null&&e.push(r);this.removeRowCtrls(e);const t={};for(const r of Object.values(this.rowCtrlsByRowIndex)){const n=r.rowNode;t[n.id]=r}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:r}=this.beans,{afterScroll:n}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const u=s.extraTopHeight+s.extraBottomHeight;u&&this.updateContainerHeights(u)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(n&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!l),i!=null)){const u=t?.getFocusCellToUseAfterRefresh();i!=null&&u==null&&(r?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(s=>r[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!r[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const r=this.beans.pagination,n=this.beans.focusSvc?.getFocusedCell()?.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!r||r.isRowInPage(n))&&n<this.rowModel.getRowCount()&&t.push(n);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===n||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);if((this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,r)}),e){const{animationFrameSvc:i}=this.beans;i?.active&&r&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),r=e.isPinningRight();(this.pinningLeft!==t||r!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.rowNode.rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=Yp(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.rowNode;return!(t!=null&&!Zp(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),Ee(i)&&Ee(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),Ee(i))s=this.createRowCon(i,r,n);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const r=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const i=n.instanceId;this.zombieRowCtrls[i]=n,r.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[i]})}else n.destroySecondPass()}}t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>r.forEach(n=>n()),sA))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=As(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:r}=this;e.updateOffset();let n,i;if(!r.isRowsToRender())n=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),i=t.getLastRow();else{const u=this.getRowBufferInPixels(),h=this.ctrlsSvc.getScrollFeature(),d=this.gos.get("suppressRowVirtualisation");let f=!1,p,m;do{const E=t.getPixelOffset(),{pageFirstPixel:P,pageLastPixel:A}=t.getCurrentPagePixelRange(),L=e.divStretchOffset,T=h.getVScrollPosition(),B=T.top,H=T.bottom;d?(p=P+L,m=A+L):(p=Math.max(B+E-u,P)+L,m=Math.min(H+E+u,A)+L),this.firstVisibleVPixel=Math.max(B+E,P)+L,this.lastVisibleVPixel=Math.min(H+E,A)+L,f=this.ensureAllRowsInRangeHaveHeightsCalculated(p,m)}while(f);let g=r.getRowIndexAtPixel(p),w=r.getRowIndexAtPixel(m);const v=t.getFirstRow(),b=t.getLastRow();g<v&&(g=v),w>b&&(w=b),n=g,i=w}const s=wr(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-n>a&&(i=n+a);const l=n!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=n,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Ei(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const r=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||o||r?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,i=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),s=this.editSvc?.isEditing(e),o=n.detail;return i||s||o?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?.getRow(e)??null;if(n)return n;const i=r&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new wd(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),r=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...r]}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},aA=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],wn(this.entriesList,r)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],wn(this.entriesList,e)}getEntries(){return this.entriesList}};function Yp(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}function Zp(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}var lA=class extends fe{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Hn(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Hn(e))}doFullSort(e,t){const r=e.map((n,i)=>({currentPos:i,rowNode:n}));return r.sort(this.compareRowNodes.bind(this,t)),r.map(n=>n.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,i=r.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(n,a.column),u=this.getValue(i,a.column);let h;const d=this.getComparator(a,n);if(d?h=d(c,u,n,i,l):h=fk(c,u,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const i=!t.group&&r.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:r,colModel:n,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return r.getValue(t,e,!1);if(e.rowGroupColumn===t){if(g1(s,n.isPivotActive())){const c=e.allLeafChildren?.[0];return c?r.getValue(t,c,!1):void 0}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return r.getValue(t,e,!1)}};function cA(e){e.sortSvc?.onSortChanged("api")}var r2={moduleName:"Sort",version:Me,beans:[e8,lA],apiFunctions:{onSortChanged:cA},userComponents:{agSortIndicator:qm},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},uA=class extends fe{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:r}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),r.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),js(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,$o(e.source))}}};function dA(e){e.valueCache?.expire()}function hA(e,t){const{colKey:r,rowNode:n,useFormatter:i}=t,s=e.colModel.getColDefCol(r)??e.colModel.getCol(r);if(Vt(s))return null;const o=e.valueSvc.getValueForDisplay(s,n,i);return i?o.valueFormatted??wa(o.value):o.value}var fA="paste",pA=class extends fe{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;er(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:r}=this.beans;if(e.source===fA||t.get("suppressChangeDetection"))return;const n=e.node,i=[n],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!n.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Gl(a,o);l.addParentNode(n.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}r.refreshCells({rowNodes:i})}},gA=class extends fe{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);kt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return kt(16,{expression:e,params:t,e:r}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const r=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",r);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},mA=class extends fe{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){if(this.active){const n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=r}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},vA={moduleName:"ValueCache",version:Me,beans:[mA],apiFunctions:{expireValueCache:dA}},wA={moduleName:"Expression",version:Me,beans:[gA]},bA={moduleName:"ChangeDetection",version:Me,beans:[pA]},yA={moduleName:"CellApi",version:Me,apiFunctions:{getCellValue:hA}},zc={checkSiblings:!0},CA=class extends fe{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=ro(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,r=!1,n=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const m=s.getGroupValue(t,e);if(m==null)return{value:null,valueFormatted:null};if(!r)return{value:m.value,valueFormatted:null};const g=s.formatAndPrefixGroupColValue(m,e,n);return{value:m.value,valueFormatted:g}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!c,h=this.gos.get("groupSuppressBlankHeader")||!t.sibling,d=u&&!h,f=this.getValue(e,t,d,i),p=r&&!(n&&e.colDef.useValueFormatterForExport===!1);return{value:f,valueFormatted:p?this.formatValue(e,t,f):null}}getValue(e,t,r=!1,n="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId();let a=t.data;if(this.hasEdit&&n==="ui"){const m=this.editSvc;if(m.isRowEditing(t,zc)&&(a=m.getRowDataValue(t,zc)),m.isEditing()){const g=m.getCellDataValue({rowNode:t,column:e},!0);if(g!==void 0)return g}}let l;const c=i.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const u=typeof c!="string"||!t.group,h=t.groupData&&o in t.groupData,d=!r&&t.aggData&&t.aggData[o]!==void 0,f=this.isSsrm&&r&&!!i.aggFunc,p=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&d)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=sl(a,s,e.isFieldContainsDots());else if(h)l=t.groupData[o];else if(d)l=t.aggData[o];else if(i.valueGetter&&!f){if(!u)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(p)l=sl(a,t.field,e.isFieldContainsDots());else if(s&&a&&!f){if(!u)return l;l=sl(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const m=l.substring(1);l=this.executeValueGetter(m,a,e,t)}return l}parseValue(e,t,r,n){const i=e.getColDef(),s=i.valueParser;if(Ee(s)){const o=Ue(this.gos,{node:t,data:t?.data,oldValue:n,newValue:r,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return r}getDeleteValue(e,t){return Ee(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,r,n,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(n?a=n:i&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){const h={rowNode:t};if(this.hasEdit){const d=this.editSvc;d.isEditing(h,zc)&&(c=d.getRowDataValue(t,zc))}}const u=Ue(this.gos,{value:r,node:t,data:c,colDef:l,column:e});typeof a=="function"?o=a(u):o=s?s.evaluate(a,u):null}else if(l.refData)return l.refData[r]||"";return o==null&&Array.isArray(r)&&(o=r.join(", ")),o}setValue(e,t,r,n){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Vt(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(Vt(s)&&Vt(o))return we(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,r))return we(135),!1;const a=Ue(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,n),newValue:r,colDef:i.getColDef(),column:i});a.newValue=r;let l;if(Ee(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,r,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,c,n),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,n),!0}dispatchCellValueChangedEvent(e,t,r,n){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:r,value:r,source:n})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===r,i||(e[t]=r);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===r,i||(o[a]=r)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,r,n){const i=r.getColId(),s=this.valueCache.getValue(n,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,r,n);return this.valueCache.setValue(n,i,o),o}executeValueGetterWithoutValueCache(e,t,r,n){const i=Ue(this.gos,{data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const r=this.colModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let i=r;if(n){const s=Ue(this.gos,{value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&we(121)),i}},SA={moduleName:"CommunityCore",version:Me,beans:[Y_,TP,OT,z4,iA,KM,W_,y8,H4,j8,z8,oA,CA,q_,j_,X_,NT,uA,TT,_T],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:_P,destroy:AP,isDestroyed:DP,getGridOption:IP,setGridOption:OP,updateGridOptions:MS,isModuleRegistered:LP},dependsOn:[FT,EM,AM,r2,F8,XM,P8,nA,bA,T8,G8,K8,X8,A8,IT,PT,wA,JM]};function Qp(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:i}=e;let s=(r??[]).map((l,c)=>({value:l,relevance:xA(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),n&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(u=>c-u.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function xA(e,t){e.length<t.length&&([e,t]=[t,e]);let r=[],n=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)r[a]=a;let o=0;for(let a=1;a<=i;a++){n[0]=a;for(let l=1;l<=s;l++){const c=e[a-1],u=t[l-1];if(c.toLocaleLowerCase()===u.toLocaleLowerCase())++o,c===u&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,n[l]=r[l-1];else{const h=n[l-1],d=r[l],f=r[l-1];n[l]=1+Math.min(h,d,f)}}[r,n]=[n,r]}return r[s]/(o+1)}var n2={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},hf=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],RA={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:hf,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...hf,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...hf,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},EA={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function kA(e,t){const r=[];return(Array.isArray(e)?e:[e]).forEach(n=>{const i=RA[n];i?i.forEach(s=>{const o=EA[s];(!o||o===t)&&r.push(s)}):r.push(n)}),r}var i2=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,FA=e=>{const t=e.map(n=>`import { ${ul(n)} } from '${n2[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>ul(n,!0)).join(", ")} ]); 

For more info see: ${jo}/modules/`};function ul(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function PA(e,t){const r=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let n="";return!globalThis?.agCharts&&r.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>n2[s])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}function s2({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var xw=({reasonOrId:e,moduleName:t,gridScoped:r,gridId:n,rowModelType:i,additionalText:s,isUmd:o})=>{const a=kA(t,i),l=typeof e=="string"?e:AA[e];if(o)return PA(l,a);const c=a.filter(d=>d==="IntegratedCharts"||d==="Sparklines"),u=c.length>0?`${c.map(d=>ul(d)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(d=>ul(d)).join(", "):ul(a[0])} is not registered${r?" for gridId: "+n:""}. ${u} Check if you have registered the module:
`}
${FA(a)}`+(s?` 

${s}`:"")},Rw=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,MA=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,TA={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:r})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",r],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${MA(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:r,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${r?"":" the default"} paginationPageSizeSelector=[${n?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:r,jsComps:n})=>{const i=[],s=[...Object.keys(r??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(n??[]).filter(a=>!!n[a])],o=Qp({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${jo}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const r=Qp({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,r.length>0?`         Did you mean: [${r.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:r})=>["duplicate group keys for row data, keys should be unique",e,t,...r??[]],187:({rowId:e,firstData:t,secondData:r})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",r],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:xw,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${jo}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>Rw("IntegratedChartsModule"),258:()=>Rw("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:r,gridId:n,rowModelType:i})=>xw({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Qo[t],gridId:n,gridScoped:r,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${jo}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>i2(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:s2,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function _A(e,t){const r=TA[e];if(!r)return[`Missing error text for error id ${e}!`];const n=r(t),s=`
See ${a1(e,t)}`;return Array.isArray(n)?n.concat(s):[n,s]}var AA={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},Ew=new WeakMap,kw=new WeakMap,DA=1,IA=class{create(e,t,r,n,i,s){const o=BC.applyGlobalGridOptions(t),a=o.gridId??String(DA++),l=this.getRegisteredModules(i,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),u=this.createProvidedBeans(e,o,i);if(!c)return;const d={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:kP,beanDestroyComparator:FP,derivedBeans:[RP],destroyCallback:()=>{kw.delete(p),Ew.delete(e),s?.()}},f=new D6(d);this.registerModuleFeatures(f,l),r(f),f.getBean("syncSvc").start(),n?.(f);const p=f.getBean("gridApi");return Ew.set(e,p),kw.set(p,e),p}getRegisteredModules(e,t,r){return Bl(SA,void 0,!0),e?.modules?.forEach(n=>Bl(n,t)),E6(t,Fw(r))}registerModuleFeatures(e,t){const r=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(i=>{r.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(a=>{n?.addFunction(a,s[a])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;Vt(n)&&(n=new FS);const i={gridOptions:t,eGridDiv:e,globalListener:r?r.globalListener:null,globalSyncListener:r?r.globalSyncListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i}createBeansList(e,t,r){const n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=Fw(e),s=n[i];if(!s){$a(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!P6()){$a(272,void 0,i2());return}if(!e){const a=Object.entries(n).filter(([l,c])=>Op(c,r,l));if(a.length==1){const[l,c]=a[0];if(l!==i){const u={moduleName:c,rowModelType:l};$a(275,u,s2(u));return}}}if(!Op(s,r,i)){$a(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:Fm(),gridId:r,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function Fw(e){return e??"clientSide"}function Jn(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Jd(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function o2(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var OA=class extends fe{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,i,s)=>t({key:n,defaultValue:i,variableValues:s});const r=e.get("localeText");return(n,i,s)=>{let o=r&&r[n];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??i}}};function LA(e,t=!1){const r=[],n=[],i=[],s=[],o=[],a=[],l=[],c=[],u=[];let h=0;for(let d=0;d<e.length;d++){const{colId:f,sort:p,sortIndex:m,rowGroup:g,rowGroupIndex:w,aggFunc:v,pivot:b,pivotIndex:E,pinned:P,hide:A,width:L,flex:T}=e[d];u.push(f),p&&(r[m??h++]={colId:f,sort:p}),g&&(n[w??0]=f),typeof v=="string"&&i.push({colId:f,aggFunc:v}),b&&(s[E??0]=f),P&&(P==="right"?a:o).push(f),A&&l.push(f),(T!=null||L)&&c.push({colId:f,flex:T??void 0,width:L})}return{sort:r.length?{sortModel:r}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function NA(e){const t=[];return e.forEach(({groupId:r,open:n})=>{n&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}var BA=class{wrap(e,t,r,n){const i=this.createWrapper(e,n);return t?.forEach(s=>{this.createMethod(i,s,!0)}),r?.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&we(49,{methodName:t}),null)}}},HA={tag:"div",cls:"ag-tooltip"},VA=class extends Vm{constructor(){super(HA)}init(e){const{value:t}=e,r=this.getGui();r.textContent=wa(t);const n=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();r.classList.add(`ag-${n}-tooltip`)}},GA=1e3,zA=1e3,Pw=100,Mw,jc=!1,jA=class extends fe{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ms()&&(jc?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},Pw):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,r=this.tooltipCtrl.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||r.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||jc)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-Mw<GA}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ee(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const r=t.getRowNode?.(),n=Ue(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:r,data:r?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);b6(this.userCompFactory,n)?.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Mw=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(hr(this.beans),{keydown:o=>{n.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Kt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,r=this.tooltipTrigger===0?zA:0;window.setTimeout(()=>{e(),this.destroyBean(t)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){jc=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Pw)}unlockService(){jc=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function ff(e){return e.get("tooltipShowMode")==="whenTruncated"}var WA=class extends fe{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const r="title",n=this.ctrl.getGui();n&&(e!=null&&(e!=""||t)?n.setAttribute(r,e):n.removeAttribute(r))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new jA(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function UA(e,t){if(typeof e!="number")return"";const r=t(),n=r("thousandSeparator",","),i=r("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var $A=class extends fe{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},KA=class{constructor(e){const{colModel:t,rowGroupColsSvc:r,colNames:n,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=r,this.colNames=n,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,i){const s=t===0&&m1(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(Ue(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Ue(this.gos,{accumulatedRowIndex:r,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:n,parseValue:d=>this.valueSvc.parseValue(e,i,d,this.valueSvc.getValue(e,i,void 0)),formatValue:d=>this.valueSvc.formatValue(e,i,d)??d}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,c=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||c)){let d="",f=i;for(;f&&f.level!==-1;){const{value:p,valueFormatted:m}=a.getValueForDisplay(s?void 0:e,f,!0,!0);d=` -> ${m??p??""}${d}`,f=f.parent}return{value:d,valueFormatted:d}}const{value:u,valueFormatted:h}=a.getValueForDisplay(e,i,!0,!0);return{value:u??"",valueFormatted:h}}getHeaderName(e,t){return e?e(Ue(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function qA(e,t){const r=document.defaultView||window;if(!r){we(52);return}const n=document.createElement("a"),i=r.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(i)},0)}var XA={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Lr="clientSide",Mr="serverSide",fo="infinite",YA={onGroupExpandedOrCollapsed:[Lr],refreshClientSideRowModel:[Lr],isRowDataEmpty:[Lr],forEachLeafNode:[Lr],forEachNodeAfterFilter:[Lr],forEachNodeAfterFilterAndSort:[Lr],resetRowHeights:[Lr],applyTransaction:[Lr],applyTransactionAsync:[Lr],flushAsyncTransactions:[Lr],getBestCostNodeSelection:[Lr],getServerSideSelectionState:[Mr],setServerSideSelectionState:[Mr],applyServerSideTransaction:[Mr],applyServerSideTransactionAsync:[Mr],applyServerSideRowData:[Mr],retryServerSideLoads:[Mr],flushServerSideAsyncTransactions:[Mr],refreshServerSide:[Mr],getServerSideGroupLevelState:[Mr],refreshInfiniteCache:[fo],purgeInfiniteCache:[fo],getInfiniteRowCount:[fo],isLastRowIndexKnown:[fo,Mr],expandAll:[Lr,Mr],collapseAll:[Lr,Mr],onRowHeightChanged:[Lr,Mr],setRowCount:[fo,Mr],getCacheBlockState:[fo,Mr]},ZA={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function QA(e,t,r){const n=ZA[e];if(n){const{version:s,new:o,old:a,message:l}=n,c=a??e;return(...u)=>{const h=o?`Please use ${o} instead. `:"";return al(`Since ${s} api.${c} is deprecated. ${h}${l??""}`),t.apply(t,u)}}const i=YA[e];return i?(...s)=>{const o=r.rowModel.getType();if(!i.includes(o)){zo(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var JA={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},eD={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},tD={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},rD=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),nD=class extends fe{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Hk(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&XA[t]&&we(22,{key:t})}processGridOptions(e){this.processOptions(e,v8())}validateApiFunction(e,t){return QA(e,t,this.beans)}missingUserComponent(e,t,r,n){const i=Qo[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):we(101,{propertyName:e,componentName:t,agGridDefaults:r,jsComps:n})}missingDynamicBean(e){const t=JA[e];return t?Kn(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){sD.has(e)&&we(10,{eventType:e})}validateIcon(e){if(rD.has(e)&&we(43,{iconName:e}),eD[e])return;const t=tD[e];if(t){kt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Fm(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}we(134,{iconName:e})}isProvidedUserComp(e){return!!Qo[e]}validateColDef(e){this.processOptions(e,o8())}processOptions(e,t){const{validations:r,deprecations:n,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(n)],i,o,a);const l=new Set;Object.keys(e).forEach(u=>{const h=n[u];if(h){const{message:v,version:b}=h;l.add(`As of v${b}, ${String(u)} is deprecated. ${v??""}`)}const d=e[u];if(d==null||d===!1)return;const f=r[u];if(!f)return;const{dependencies:p,validate:m,supportedRowModels:g,expectedType:w}=f;if(w){const v=typeof d;if(v!==w){l.add(`${String(u)} should be of type '${w}' but received '${v}' (${d}).`);return}}if(g){const v=this.gridOptions.rowModelType??"clientSide";if(!g.includes(v)){l.add(`${String(u)} is not supported with the '${v}' row model. It is only valid with: ${g.join(", ")}.`);return}}if(p){const v=this.checkForRequiredDependencies(u,p,e);if(v){l.add(v);return}}if(m){const v=m(e,this.gridOptions,this.beans);if(v){l.add(v);return}}}),l.size>0&&l.forEach(u=>{al(u)})}checkForRequiredDependencies(e,t,r){const i=Object.entries(t).filter(([s,o])=>{const a=r[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,r,n,i){const s=["__ob__","__v_skip","__metadata__"],o=iD(Object.getOwnPropertyNames(e),[...s,...t,...r],r),a=Object.keys(o);for(const l of a){const c=o[l];let u=`invalid ${n} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;r.includes("context")&&(u+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),al(u)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);al(`to see all the valid ${n} properties please check: ${l}`)}}getConsoleMessage(e,t){return _A(e,t)}};function iD(e,t,r){const n={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>n[s]=Qp({inputValue:s,allSuggestions:r}).values),n}var sD=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),oD={moduleName:"Validation",version:Me,beans:[nD]};function a2(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var aD=class extends fe{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const r=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,a2(n)};if(this.doingTreeDataFiltering()){const n=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(s.childrenAfterGroup[a],c):r(l,c)}r(s,o)},i=s=>n(s,!1);t.executeFromRootNode(i)}else{const n=i=>r(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},lD=class extends Hm{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,r,n,i){this.comp=e;const s=ec(this,this.beans.context,i);this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,r=e.colDef;return Ue(t.gos,{colDef:r,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=fn("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new ya(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();la(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Kt(t)===this.eGui)return;const i=so(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case de.UP:case de.DOWN:case de.LEFT:case de.RIGHT:if(t)return;Us(e);case de.ENTER:t&&Ks(this.eGui)&&e.preventDefault();break;case de.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Ts(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===de.TAB);if(i&&s){const o=i.shiftKey;Ks(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Bm(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Xr(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:r,gos:n}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(n.get("enableFilterHandlers")){const u=s;let h="filter";u?.afterFloatingFilter?h="ui":u?.afterDataChange?h="dataChanged":s?.source==="api"&&(h="api"),this.updateFloatingFilterParams(this.userCompDetails,h);return}const l=t?.getCurrentFloatingFilterParentModel(r),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(r,{filterChanged:i}),t?.isFilterActive(r)&&i(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.beans.colFilter,i=this.active?n?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,r):s.then(o=>{!o||n?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,r):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let r=e.params;this.comp.getFloatingFilterComp()?.then(n=>{typeof n?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(r={...r,model:ur(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),n.refresh(r))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function cD(e,t){const r=e.colModel.getCol(t);if(!r){kt(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:r,positionBy:"auto"})}function uD(e){e.menuSvc?.hidePopupMenu()}var dD={moduleName:"SharedMenu",version:Me,beans:[IF],apiFunctions:{showColumnMenu:cD,hidePopupMenu:uD}},Wc=0,hD=200,fD=class extends fe{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r,column:n,node:i,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,r);let l=!1;const c=()=>{const u=this.keepXYWithinBounds(r,o.top-a.top,0),h=r.clientWidth>0?r.clientWidth:200;l||(r.style.minWidth=`${h}px`,l=!0);const f=a.right-a.left-h;let p;return this.gos.get("enableRtl")?(p=g(),p<0&&(p=m(),this.setAlignedStyles(r,"left")),p>f&&(p=0,this.setAlignedStyles(r,"right"))):(p=m(),p>f&&(p=g(),this.setAlignedStyles(r,"right")),p<0&&(p=0,this.setAlignedStyles(r,"left"))),{x:p,y:u};function m(){return o.right-a.left-2}function g(){return o.left-a.left-h}};this.positionPopup({ePopup:r,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",r,t,s instanceof MouseEvent?s:void 0,n,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,h=s.getBoundingClientRect(),d=this.getParentRect();this.setAlignedTo(s,t);const f=()=>{let p=h.left-d.left;o==="right"&&(p-=t.offsetWidth-h.width);let m;return a==="over"?(m=h.top-d.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,d,e.nudgeY||0)==="under"?m=h.top-d.top+h.height:m=h.top-t.offsetHeight-(n||0)*2-d.top),{x:p,y:m}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,updatePosition:f,postProcessCallback:()=>this.callPostProcessPopup(u,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,r,n){const i=r.bottom-t.bottom,s=t.top-r.top,o=e.offsetHeight+n;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:i}=n;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const r=this.getPopupIndex(t);if(r!==-1){const n=this.popupList[r];n.alignedToElement=e}}callPostProcessPopup(e,t,r,n,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:h}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(u+=n),i&&(h+=i),r&&(u=this.keepXYWithinBounds(t,u,1),h=this.keepXYWithinBounds(t,h,0)),t.style.left=`${u}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=Ri(this.beans,t,()=>l(!0));setTimeout(()=>c(),hD)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=hr(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),QC(t)}keepXYWithinBounds(e,t,r){const n=r===0,i=n?"clientHeight":"clientWidth",s=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=hr(this.beans),c=l.documentElement,u=this.getPopupParent(),h=e.getBoundingClientRect(),d=u.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),p=u===l.body,m=Math.ceil(h[o]);let w=p?(n?ZC:Qu)(c)+c[a]:u[i];p&&(w-=Math.abs(f[s]-d[s]));const v=w-m;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=hr(this.beans),{eChild:r,ariaLabel:n,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return we(122),{hideFunc:()=>{}};const l=this.getPopupIndex(r);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(r);const c=this.createPopupWrapper(r,!!s,n,i),u=this.addEventListenersToPopup({...e,wrapperEl:c});return o&&o(),this.addPopupToPopupList(r,c,u,a),{hideFunc:u}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();Ee(e.style.top)||(e.style.top=`${r.top*-1}px`),Ee(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r,n){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=Jt({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||zs(e,"dialog"),r?la(e,r):n&&(e.id||(e.id=`popup-component-${Wc}`),M0(n,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const r of this.popupList)t.applyThemeClasses(r.wrapper)}}addEventListenersToPopup(e){const t=this.beans,r=hr(t),n=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c,ariaOwns:u}=e;let h=!1;const d=g=>{if(!i.contains(Kt(t)))return;g.key===de.ESCAPE&&!hi(g)&&m({keyboardEvent:g})},f=g=>m({mouseEvent:g}),p=g=>m({touchEvent:g}),m=(g={})=>{const{mouseEvent:w,touchEvent:v,keyboardEvent:b,forceHide:E}=g;!E&&(this.isEventFromCurrentPopup({mouseEvent:w,touchEvent:v},s)||h)||(h=!0,n.removeChild(i),r.removeEventListener("keydown",d),r.removeEventListener("mousedown",f),r.removeEventListener("touchstart",p),r.removeEventListener("contextmenu",f),this.eventSvc.removeEventListener("dragStarted",f),o&&o(w||v||b),this.removePopupFromPopupList(s,u))};return a&&a({hidePopup:m}),window.setTimeout(()=>{l&&r.addEventListener("keydown",d),c&&(r.addEventListener("mousedown",f),this.eventSvc.addEventListener("dragStarted",f),r.addEventListener("touchstart",p),r.addEventListener("contextmenu",f))},0),m}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:Wc,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n),Wc=Wc+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&M0(t,null),this.popupList=this.popupList.filter(r=>r.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:i}=e,s=n.getBoundingClientRect(),o=h=>parseInt(h.substring(0,h.length-1),10),a=(h,d)=>{const f=r[h]-s[h],p=o(i.style[h]);return{initialDiff:f,lastDiff:f,initial:p,last:p,direction:d}},l=a("top",0),c=a("left",1),u=this.beans.frameworkOverrides;return new gt(h=>{u.wrapIncoming(()=>{u.setInterval(()=>{const d=t.getBoundingClientRect(),f=n.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}const m=(g,w)=>{const v=o(i.style[w]);g.last!==v&&(g.initial=v,g.last=v);const b=d[w]-f[w];if(b!=g.lastDiff){const E=this.keepXYWithinBounds(i,g.initial+g.initialDiff-b,g.direction);i.style[w]=`${E}px`,g.last=E}g.lastDiff=b};m(l,"top"),m(c,"left")},200).then(d=>{h(()=>{d!=null&&window.clearInterval(d)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,i=r||n;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(u4(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=hr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,i=this.getWrapper(e);if(!i||n<=1||!t.contains(e))return;const s=[],o=[];for(const d of r)d!==i&&(d.classList.contains("ag-always-on-top")?o.push(d):s.push(d));const a=[],l=o.length,h=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let d=0;d<=n;d++){const f=h[d];if(r[d]===h[d]||f===i)continue;f.querySelectorAll("div").forEach(m=>{m.scrollTop!==0&&a.push([m,m.scrollTop])}),d===0?t.insertAdjacentElement("afterbegin",f):h[d-1].insertAdjacentElement("afterend",f)}for(;a.length;){const d=a.pop();d[0].scrollTop=d[1]}}},eh={moduleName:"Popup",version:Me,beans:[fD]},pD=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function gD(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function mD(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function vD(e,t){const r=e.colModel.getColDefCol(t);if(r)return e.colFilter?.destroyFilter(r,"api")}function wD(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function bD(e){return e.filterManager?.getFilterModel()??{}}function yD(e,t,r){const{gos:n,colModel:i,colFilter:s}=e;r&&!n.get("enableFilterHandlers")&&(we(288),r=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,r)??null:null}function CD(e,t,r){return e.filterManager?.setColumnFilterModel(t,r)??Promise.resolve()}function SD(e,t){const r=e.colModel.getCol(t);if(!r){kt(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function xD(e){e.menuSvc?.hideFilterMenu()}function RD(e,t){const r=e.colModel.getCol(t);if(!r){kt(12,{colKey:t});return}return e.colFilter?.getHandler(r,!0)}function ED(e,t){const{colModel:r,colFilter:n,gos:i}=e;if(!i.get("enableFilterHandlers")){we(287);return}const{colId:s,action:o}=t;if(s){const a=r.getColById(s);a&&n?.updateModel(a,o)}else n?.updateAllModels(o)}var kD={filterHandler:()=>({doesFilterPass:()=>!0})},FD=class extends fe{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...lS},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:r,dataTypeSvc:n,filterManager:i}=this.beans;if(n?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const u=e[c];s.push(this.setModelOnFilterWrapper(l,u)),a.delete(c)}),a.forEach(l=>{const c=r.getColDefCol(l)||r.getCol(l);if(!c){we(62,{colId:l});return}if(!c.isFilterAllowed()){we(63,{colId:l});return}const u=this.getOrCreateFilterWrapper(c,!0);if(!u){we(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(u,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});gt.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,u)=>{const h=o?o[u]:null,d=a?a[u]:null;_l(h,d)||l.push(c.column)}),l.length>0&&i?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:r,initialModel:n,beans:{colModel:i}}=this;if(r.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);Ee(a)&&(t[o]=a)}),!e)for(const s of Object.keys(n)){const o=n[s];Ee(o)&&!r.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,r="api"){if(this.state.clear(),t)for(const n of Object.keys(t)){const i=t[n];this.state.set(n,{model:ur(this.model,n),state:i})}this.setModel(e,r)}getState(){const e=this.state;if(!e.size)return;const t={};let r=!1;return e.forEach((n,i)=>{const s=n.state;s!=null&&(r=!0,t[i]=s)}),r?t:void 0}getModelFromFilterWrapper(e){const r=e.column.getColId();if(e.isHandler)return ur(this.model,r);const n=e.filter;return n?typeof n.getModel!="function"?(we(66),null):n.getModel():ur(this.initialModel,r)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(we(67),!1):!1,{colModel:t,gos:r}=this.beans,n=!!Ap(r),i=c=>{if(!c.isPrimary())return!0;const h=!t.isPivotActive();return!c.isValueActive()||!h?!1:t.isPivotMode()?!0:n},s=[],o=[],a=(c,u,h)=>{u&&(i(c)?s.push(h):o.push(h))},l=[];return this.allColumnFilters.forEach(c=>{const u=c.column,h=u.getColId();if(c.isHandler)l.push(gt.resolve().then(()=>{a(u,this.isHandlerActive(u),{colId:h,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const d=Ti(c);d&&l.push(d.then(f=>{a(u,e(f),{colId:h,isHandler:!1,comp:f})}))}}),gt.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const r=[];return this.allColumnFilters.forEach(n=>{const i=n.column;if(n.isHandler)r.push(gt.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=Ti(n);s&&r.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),gt.all(r)}doFiltersPass(e,t,r){const{data:n,aggData:i}=e,s=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?i:n,a=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:u,isHandler:h}=c;if(u!==t)if(h){const{handler:d,handlerParams:f}=c;if(!d.doesFilterPass({node:e,data:o,model:ur(a,u),handlerParams:f}))return!1}else{const d=c.comp;if(typeof d.doesFilterPass!="function"){kt(91);continue}if(!d.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:r}=this.beans,n=()=>{this.isAlive()&&r?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:r}=e,n=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;n!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),Ti(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(r=>{const n=r.isHandler;n&&r.handler.onNewRowsLoaded?.();const i=Ti(r,n);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),gt.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:r,colModel:n}=this.beans;return(i,s)=>{const o=s?n.getCol(s):e;return o?r.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const r=t?.filter;return r?r.isFilterActive():ur(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Ee(ur(this.model,e.getColId()));if(t)return t;const r=this.beans.groupFilter;return r?.isGroupFilter(e)?r.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Ti(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const r=Ti(t);return r?r.then(n=>({comp:n,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const r=this.getOrCreateFilterWrapper(e,t);return r?.isHandler?r.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let r=this.cachedFilter(e);return!r&&t&&(r=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,r)),r}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return n4(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":V5(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,r,n,i,s){const o=()=>{const c=this.createFilterCompParams(e,i,s),u=n(c,i);return g6(this.beans.userCompFactory,t,u,r)},a=o();return a?{compDetails:a,createFilterUi:c=>(c?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,r,n){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,r)??{},l=this.createFilterComp(e,t,r,n,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:c,createFilterUi:u}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||we(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:u}}createBaseFilterParams(e,t){const{filterManager:r,rowModel:n}=this.beans;return Ue(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>r?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:n})}createFilterCompParams(e,t,r,n){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,n);if(s.filterChangedCallback=i,s.filterModifiedCallback=n?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=ur(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(c,u)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{i({...u,source:"columnFilter"})})},o.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},o.onAction=(c,u,h)=>{this.updateModel(e,c,u),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:h})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=c=>this.filterUiChanged(e,c),o.source=r}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,r){const n=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:n};return n.then(r),i}createFilterWrapper(e){const{compDetails:t,handler:r,handlerGenerator:n,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(r)return delete this.initialModel[o],r.init?.({...i,source:"init",model:ur(this.model,o)}),{column:e,isHandler:!0,handler:r,handlerGenerator:n,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:r,frameworkOverrides:n,registry:i}=this.beans;let s;const o=h=>{const d=h.filter;if(B1(d)){const f=d.handler;return f||(s=d.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof d=="string"?d:void 0},a=r.get("enableFilterHandlers")?o(e):void 0,l=h=>()=>this.createBean(i.createDynamicBean(h,!0));let c,u;if(typeof a=="string"){const h=r.get("filterHandlers")?.[a];h!=null?c=h:k5.has(a)&&(c=l(a),u=a)}else c=a;if(!c){let h;const{compName:d,jsComp:f,fwComp:p}=G1(n,e);d?h=d:f==null&&p==null&&e.filter===!0&&(h=t),u=this.handlerMap[h],u&&(c=l(u))}if(c)return{filterHandler:c,handlerNameOrCallback:s??u}}createHandler(e,t,r){let n=this.createHandlerFunc(t,r);if(!n){const c=this.gos;if(!c.get("enableFilterHandlers"))return;er(c)&&we(277,{colId:e.getColId()}),n=kD}const i=qh(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=n,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,r){const n=e.getColDef(),i=t(Ue(this.gos,{column:e,colDef:n})),s=this.createHandlerParams(e,r);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const r=e.getColDef(),n=e.getColId(),i=this.filterChangedCallbackFactory(e);return Ue(this.gos,{colDef:r,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(n,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(n,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:r,groupFilter:n}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=n&&e.every(s=>n.isGroupFilter(s));e.length>0&&!i&&r?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const r=this.beans.groupFilter;return r?.isGroupFilter(e)?r.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:r,frameworkOverrides:n,selectableFilter:i}=this.beans,s=d=>{const f=this.getOrCreateFilterUi(e);f?.then(p=>{d(Nl(p))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=$5(n,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),u=qh(r,a,this.createFilterCompParams(e,c,"init",!0)),h=Ue(this.gos,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(c){const d=h,f=e.getColId(),p=this.filterChangedCallbackFactory(e);d.onUiChange=m=>this.floatingFilterUiChanged(e,m),d.model=ur(this.model,f),d.onModelChange=(m,g)=>{this.updateStoredModel(f,m),this.refreshHandlerAndUi(e,m,"floating",!0).then(()=>{p({...g,source:"columnFilter"})})},d.getHandler=()=>this.getHandler(e,!0),d.source="init"}return y6(r,o,h,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,r,n){if(e.isHandler){const i=t.getColId();delete this.initialModel[i],this.state.delete(i);const s=e.filterUi,o=this.createFilterUiForHandler(r,n);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialModel[r],n&&this.disposeFilterWrapper(n,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let r=!1;const{column:n,isHandler:i,filterUi:s}=e,o=n.getColId();i&&(r=this.isHandlerActive(n),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(n,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:n})};if(s){if(s.created)return s.promise.then(l=>(r=i?r:!!l?.isFilterActive(),this.destroyBean(l),a(),r));a()}return gt.resolve(r)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const r=this.allColumnFilters.get(e);if(!r)return;const n=this.beans,i=r.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=n.selectableFilter,c=l?.isSelectable(s)?l.getFilterDef(i,s):s,u=o?this.createHandlerFunc(c,this.getDefaultFilter(i)):void 0,h=!!u,d=r.isHandler;if(d!=h){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:f,createFilterUi:p}=(o?this.createFilterComp(i,c,a,g=>g,h,"colDef"):null)??{compDetails:null,createFilterUi:null},m=f?.params??qh(n.userCompFactory,c,this.createFilterCompParams(i,h,"colDef"));if(d){const g=u?.handlerNameOrCallback??u?.filterHandler,w=ur(this.model,e);if(r.handlerGenerator!=g){const v=r.handler,{handler:b,handlerParams:E}=this.createHandlerFromFunc(i,u.filterHandler,m);r.handler=b,r.handlerParams=E,r.handlerGenerator=g,delete this.model[e],b.init?.({...E,source:"init",model:null}),this.destroyBean(v),w!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const v=this.createHandlerParams(i,f?.params);r.handlerParams=v,r.handler.refresh?.({...v,source:"colDef",model:w})}}if(this.areFilterCompsDifferent(r.filterUi?.compDetails??null,f)||!r.filterUi||!f){this.destroyFilterUi(r,i,f,p);return}r.filterUi.filterParams=m,Ti(r,d)?.then(g=>{(g?.refresh?g.refresh(m):!0)===!1?this.destroyFilterUi(r,i,f,p):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:m})})}refreshHandlerAndUi(e,t,r,n){const i=this.cachedFilter(e);if(!i)return n&&this.getOrCreateFilterWrapper(e,!0),gt.resolve();if(!i.isHandler)return gt.resolve();const{filterUi:s,handler:o,handlerParams:a}=i;return F5(()=>{if(s){const{created:l,filterParams:c}=s;if(l)return s.promise.then(u=>u?{filter:u,filterParams:c}:void 0);s.refreshed=!0}return gt.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},r)}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||r?.render&&n?.render&&r.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const r=this.getOrCreateFilterUi(t);return r?new Promise(n=>{r.then(i=>{n(Nl(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:r})=>{this.setModelForColumn(e,t).then(()=>r())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:n,model:i}=this,s=e.getColId(),o=n.get(s);return o?o.model??null:ur(i,s)}const r=this.cachedFilter(e);return r?this.getModelFromFilterWrapper(r):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let r=()=>{};const n=new Promise(i=>{r=i});return this.columnModelUpdates.push({key:e,model:t,resolve:r}),n}return new Promise(r=>{this.setModelForColumnLegacy(e,t).then(n=>r(n))})}getStateForColumn(e){return this.state.get(e)??{model:ur(this.model,e)}}setModelForColumnLegacy(e,t){const r=this.beans.colModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r,!0):null;return n?this.setModelOnFilterWrapper(n,t):gt.resolve()}setColDefPropsForDataType(e,t,r){const n=e.filter,i=n===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):n;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,c,t,r)??{}:{filterParams:s,filterValueGetter:o}=N5(i,l,c,t,r,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,r,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",r)),e.dispatchColEvent("filterChanged",r,n)}setModelOnFilterWrapper(e,t,r){return new gt(n=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),r&&t===a){n();return}this.refreshHandlerAndUi(s,t,"api").then(()=>n());return}const i=Ti(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){we(65),n();return}(s.setModel(t)||gt.resolve()).then(()=>n())});return}n()})}updateStoredModel(e,t){Ee(t)?this.model[e]=t:delete this.model[e];const r=this.state.get(e),n={model:t,state:r?.state};this.state.set(e,n)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(r=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:r,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,r){const n=e.getColId(),i=()=>this.cachedFilter(e)?.filterUi;U0(t,i,()=>ur(this.model,n),()=>this.state.get(n),s=>this.updateState(e,s),s=>i()?.filterParams?.onModelChange(s,r))}updateAllModels(e,t){const r=[];this.allColumnFilters.forEach((n,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&U0(e,()=>n.filterUi,()=>ur(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),r.push(this.refreshHandlerAndUi(s,o,"ui"))})}),r.length&&gt.all(r).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();uS(()=>this.cachedFilter(e)?.filterUi,()=>ur(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:r}=this;for(const i of r)if(i.source==="COLUMN_MENU")return!1;let n=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==ur(t,i)&&(n=!0)}return n}hasUnappliedModel(e){const{model:t,state:r}=this;return(r.get(e)?.model??null)!==ur(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const r=this.beans.filterPanelSvc;return r?.isActive?!!r.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function PD(e){return!!e.filterManager?.isAnyFilterPresent()}function MD(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var TD=class extends fe{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:r}=this;this.alwaysPassFilter=r.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=r.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,r="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,r)}setFilterModel(e,t="api",r){if(this.isAdvFilterEnabled()){r||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){Ap(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):gt.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:n};r&&Ar(i,r),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!Ap(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){we(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},_D=class extends fe{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,r,n){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:i})},r,t.target,Xr(this.gos),n)}showMenuAfterButtonClick(e,t,r,n){if(e&&!e.isColumn)return;let i=-1,s="left";const o=Xr(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:r,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,t,o,n)}showPopup(e,t,r,n,i,s){const o=e?this.createBean(new D5(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){kt(57);return}const a=Jt({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:m=>this.trapFocusWithin(m,a)}),a.appendChild(o?.getGui());let l;const c=()=>o?.afterGuiDetached(),u=i4(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,h=m=>{J0(e,!1,"contextMenu");const g=m instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),g&&n&&Xn(n)&&tS(n)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e),s?.()},d=this.getLocaleTextFunc(),f=i&&r!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),p=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(a),anchorToElement:u,ariaLabel:f});p&&(this.hidePopup=l=p.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:r,hidePopup:l})}),J0(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==de.TAB||e.defaultPrevented||so(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Ks(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},AD=class extends fe{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,r){if(!t)return;const n=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=r??i?.getFilterValueGetter(e.getColId())??n.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,n):s.getValue(e,t)}executeFilterValueGetter(e,t,r,n,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=Ue(this.gos,{data:t,node:n,column:r,colDef:i,getValue:o.getValueCallback.bind(o,n)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},DD={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},ID=class extends Dt{constructor(){super(DD,[Zd]),this.eFloatingFilterText=ze}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const r=e,n=r.getHandler();if(n.getModelAsString){const i=n.getModelAsString(r.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}refresh(e){this.init(e)}},Xm=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const r=e.filterOptions??t;this.filterOptions!==r&&(this.filterOptions=r,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const r=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(s=>t[s]!=null)?!0:(we(72,{keys:i}),!1);if(!r.every(n)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const r=t[0];if(typeof r=="string")return r;if(r.displayKey)return r.displayKey;we(73)}else we(74)}getCustomOption(e){return this.customFilterOptions[e]}};function dl(e,t,r){return r==null?e.splice(t):e.splice(t,r)}function yd(e){return e==null||typeof e=="string"&&e.trim().length===0}function OD(e){return e==="AND"||e==="OR"?e:"AND"}function LD(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(i=>i==null))return n(t,r)}function ND(e,t){let r=e.length;return r>t&&(e.splice(t),we(78),r=t),r}function jl(e,t){const r=t.getCustomOption(e);if(r){const{numberOfInputs:i}=r;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var Ym=class extends W5{constructor(e,t,r){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=r,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new Xm;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=OD(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{const n=r===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let s;if(r){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&io(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),gt.resolve();if(e.operator){const n=e;let i=n.conditions;i==null&&(i=[],we(77));const s=ND(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=n.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),gt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(we(79),t=1),this.maxNumConditions=t;let r=e.numAlwaysVisibleConditions??1;r<1&&(we(80),r=1),r>t&&(we(81),r=t),this.numAlwaysVisibleConditions=r}createOption(){const e=this.getGui(),t=this.createManagedBean(new Wm);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const r=this.createEValue();this.eConditionBodies.push(r),e.appendChild(r),this.putOptionsIntoDropdown(t),this.resetType(t);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){const e=Jt({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),r=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const n=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(r,n,i),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new uP);e.push(n);const i="ag-filter-condition-operator";return n.addCss(i),n.addCss(`${i}-${r}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(r=>{e.addOption(r)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,i=r-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,i)=>{const s=this.isConditionDisabled(i,e);n.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Dl(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((n,i)=>{Wt(n,this.isConditionBodyVisible(i))});const r=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOrs.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,i,s,o)=>{this.setElementDisplayed(n,i<o),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:r,eConditionBodies:n,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(r,e,t),this.removeElements(n,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,r){dl(e,t,r).forEach(i=>wi(i))}removeComponents(e,t,r){dl(e,t,r).forEach(i=>{wi(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const r=this.getInputs(0)[0];r instanceof ks&&this.isConditionBodyVisible(0)?t=r.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,r=-1,n=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,r=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&r--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(r,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let r=this.translate(e);if(typeof this.filterPlaceholder=="function"){const n=this.eTypes[t].getValue(),i=this.translate(n);r=this.filterPlaceholder({filterOptionKey:n,filterOption:i,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,r,n,i)=>{if(!(t instanceof ks))return;const s=r===0&&i>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",o=r===0&&i>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,r){e instanceof ks&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Dt&&Wt(e.getGui(),t)}setElementDisabled(e,t){e instanceof Dt&&Dl(e.getGui(),t)}attachElementOnChange(e,t){e instanceof ks&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=jl(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&r(o,s,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return jl(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOrs.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const r=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,i){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){const e=(t,r)=>this.updateJoinOperatorDisabled(t,r);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((n,i,s)=>{s===t&&this.setElementValue(n,r[i]!=null?r[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},l2=class{constructor(e,t,r,n,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=m6(t,r,n);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Wt(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Zm=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function c2(e,t){const{dateFrom:r,dateTo:n,type:i}=e||{};return[r&&jr(r)||null,n&&jr(n)||null].slice(0,jl(i,t))}var Tw=1e3,_w=1/0,BD=class extends Ym{constructor(){super("dateFilter",c2,Zm),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Tw,this.maxValidYear=_w,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const u=e[l];if(u!=null)if(isNaN(u))we(82,{param:l});else return u==null?c:Number(u);return c},r=t("minValidYear",Tw),n=t("maxValidYear",_w);this.minValidYear=r,this.maxValidYear=n,r>n&&we(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:jr(i);this.minValidDate=o;const a=s instanceof Date?s:jr(s);this.maxValidDate=a,o&&a&&o>a&&we(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:r,gos:n},params:i}=this,s=new l2(r,t,i.colDef,Ue(n,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Jt({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,r,n){const i=Jt({tag:"div",cls:`ag-filter-${n} ag-filter-date-${n}`});t.push(i),e.appendChild(i),r.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),dl(this.eConditionPanelsFrom,e,t),dl(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){dl(e,t,r).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:r,minValidYear:n,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(r){if(e>r)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,i,s)=>{i!==e||!t||n>=s||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Zr(n[0])),n.length>1&&(r.dateTo=Zr(n[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...r}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,s)=>{n<s&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},u2=class extends fe{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,r=new Xm;this.optionsFactory=r,r.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(r,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,r=this.optionsFactory;r.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:r,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:r}=t,n=[];if(r){const o=t;n.push(...o.conditions??[])}else n.push(t);const i=r&&r==="OR"?"some":"every",s=this.params.getValue(e.node);return n[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:r,maxNumConditions:n}}=e;if(t==null)return;let s=U5(t)?t.conditions:[t];const o=r?.map(u=>typeof u=="string"?u:u.displayKey)??this.defaultOptions;if(!(!s||s.every(u=>o.find(h=>h===u.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(u=>u.filterType===c)||t.filterType!==c)&&(s=s.map(u=>({...u,filterType:c})),l=!0),typeof n=="number"&&s&&s.length>n&&(s=s.slice(0,n),l=!0),l){const u=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:u},e.onModelChange(u);return}}individualConditionPasses(e,t,r){const n=this.optionsFactory,i=this.mapValuesFromModel(t,n),s=n.getCustomOption(t.type),o=LD(s,i,r);return o??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,r,t,e))}},d2=class extends u2{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:r,includeBlanksInGreaterThan:n,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(r)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=r.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(n){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return yd(t);case"notBlank":return!yd(t);default:return we(76,{filterModelType:n}),!0}}},h2={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},HD={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},Qm=class extends fe{constructor(e,t,r){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=r}getModelAsString(e,t){const r=this.getLocaleTextFunc(),n=t==="filterToolPanel";if(!e)return n?Vi(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Vi(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return n?Vi(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):r(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:c}=o||{};return a&&l&&c===0?r(a,l):this.conditionToString(s,n,s.type==="inRange"||c===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:r}=e;this.optionsFactory=t,this.filterParams=r}conditionForToolPanel(e,t,r,n,i,s){let o;const a=this.getTypeKey(e);return a&&(o=Vi(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${Vi(this,"filterSummaryInRangeValues",[r(),n()])}`:`${o} ${r()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},f2=class extends Qm{constructor(e,t){super(e,t,r=>{const{dataTypeSvc:n,valueSvc:i}=this.beans,s=t.column,a=n?.getDateFormatterFunction(s)?.(r??void 0);return i.formatValue(s,null,a)}),this.filterTypeKeys=h2}conditionToString(e,t,r,n,i){const{type:s}=e,o=jr(e.dateFrom),a=jr(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):d=>Vp(d,l),u=()=>o!==null?c(o):"null",h=()=>a!==null?c(a):"null";if(t){const d=this.conditionForToolPanel(s,r,u,h,n,i);if(d!=null)return d}return r?`${u()}-${h()}`:o!=null?c(o):`${s}`}};function VD(e,t){const r=t;return r<e?-1:r>e?1:0}var GD=class extends d2{constructor(){super(c2,Zm),this.filterType="date",this.FilterModelFormatterClass=f2}comparator(){return this.params.filterParams.comparator??VD}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},p2=class extends Dt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const r=e;this.onModelUpdated(r.model)}}setParams(e){const t=new Xm;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const r=this.optionsFactory.defaultOption;t||(this.lastType=r),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(r);this.setEditable(n)}refresh(e){this.params=e;const t=e,r=this.reactive;if((!r||t.source==="colDef")&&this.updateParams(e),r){const{source:n,model:i}=t;if(n==="dataChanged"||n==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},zD={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},jD=class extends p2{constructor(){super(zD,[Zd]),this.eReadOnlyText=ze,this.eDateWrapper=ze,this.FilterModelFormatterClass=f2,this.filterType="date",this.defaultOptions=Zm}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const r=e?jr(e.dateFrom):null;this.dateComp.setDate(r),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Wt(this.eDateWrapper,e),Wt(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const r=t.model,n=Zr(e),i=n==null?null:{...r??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:n};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=_m(e,this.defaultDebounceMs);return Ue(this.gos,{onDateChanged:mr(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:r,params:n}=this;this.dateComp=new l2(e,t,n.column.getColDef(),this.getDateComponentParams(),r,i=>{i.setInputAriaLabel(this.getAriaLabel(n))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},WD={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},UD=class extends Dt{constructor(){super(WD,[Zd]),this.eDateInput=ze,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&eo();const{minValidYear:n,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},u=this.beans.dataTypeSvc,h=l??u?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(r?h?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&n&&we(85),o&&i&&we(86),s&&o){const[d,f]=[s,o].map(p=>p instanceof Date?p:jr(p));d&&f&&d.getTime()>f.getTime()&&we(87)}s?s instanceof Date?t.min=Vp(s):t.min=s:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=Vp(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return jr(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,r=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Zr(e,r))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},Jm=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function Jp(e){const{allowedCharPattern:t}=e??{};return t??null}function eg(e){return e==null||isNaN(e)?null:e}function g2(e,t){const{filter:r,filterTo:n,type:i}=e||{};return[eg(r),eg(n)].slice(0,jl(i,t))}var $D=class extends Ym{constructor(){super("numberFilter",g2,Jm),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,r){const{numberFormatter:n}=this.params,i=!r&&n?n(t??null):t;super.setElementValue(e,i)}createEValue(){const e=Jp(this.params),t=Jt({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const i=this.createManagedBean(n?new oo({allowedCharPattern:n}):new jm);i.addCss(`ag-filter-${r}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const r=n=>this.removeComponents(n,e,t);r(this.eValuesFrom),r(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,s)=>{n<s&&t.push(eg(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=di(e);t!=null&&t.trim()===""&&(t=null);const r=this.params.numberParser;return r?r(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){const{eValuesFrom:t,eValuesTo:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},m2=class extends Qm{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=h2}conditionToString(e,t,r,n,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(a,r,()=>l(s),()=>l(o),n,i);if(c!=null)return c}return r?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},KD=class extends d2{constructor(){super(g2,Jm),this.filterType="number",this.FilterModelFormatterClass=m2}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},v2=class extends fe{constructor(e){super(),this.params=e,this.eInput=ze,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new oo(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const r=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:r}=this;r.setInputAriaLabel(e),t!==void 0&&r.setAutoComplete(t)}};function w2(e){const t=e?.trim();return t===""?e:t}function b2(e,t){const{filter:r,filterTo:n,type:i}=e||{};return[r||null,n||null].slice(0,jl(i,t))}var qD={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},y2=class extends p2{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ze,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(qD)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:r,defaultDebounceMs:n,readOnly:i}=this;if(r.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Xd(e.filterParams),!i){const s=_m(e.filterParams,n),o=mr(this,this.syncUpWithParentFilter.bind(this),s);r.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,r=t.getValue();en(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(r,!0)}syncUpWithParentFilter(e){const t=e.key===de.ENTER,r=this.reactive;if(r&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:n,params:i,lastType:s}=this;let o=n.getValue();if(i.filterParams.trimInput&&(o=w2(o),n.setValue(o,!0)),r){const a=i,l=a.model,c=this.convertValue(o),u=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};a.onModelChange(u,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},XD=class extends fe{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new jm),this.eTextInput=this.createManagedBean(new oo),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),r=this.eTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(r,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},YD=class extends y2{constructor(){super(...arguments),this.FilterModelFormatterClass=m2,this.filterType="number",this.defaultOptions=Jm}updateParams(e){Jp(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=Jp(e.filterParams),this.allowedCharPattern?this.createManagedBean(new v2({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new XD)}convertValue(e){return e?Number(e):null}},ev=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],ZD=class extends Ym{constructor(){super("textFilter",b2,ev),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),r={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:r}=this;return e>=t.length?[null,null]:[t[e],r[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,i,s,o)=>{if(i<o){let a=di(n.getValue());t&&this.params.trimInput&&(a=w2(a)??null,n.setValue(a,!0)),r.push(a)}}),r}createEValue(){const e=Jt({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:r}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,r,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new oo);n.addCss(`ag-filter-${r}`),n.addCss("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeEValues(e,t){const r=s=>this.removeComponents(s,e,t),{eValuesFrom:n,eValuesTo:i}=this;r(n),r(i)}},C2=class extends Qm{constructor(){super(...arguments),this.filterTypeKeys=HD}conditionToString(e,t,r,n,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=u=>()=>Vi(this,"filterSummaryTextQuote",[u]),c=this.conditionForToolPanel(a,r,l(s),l(o),n,i);if(c!=null)return c}return r?`${s}-${o}`:s!=null?`${s}`:`${a}`}},QD=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},JD=e=>e,eI=e=>e==null?null:e.toString().toLowerCase(),tI=class extends u2{constructor(){super(b2,ev),this.filterType="text",this.FilterModelFormatterClass=C2}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??QD,this.formatter=t.textFormatter??(t.caseSensitive?JD:eI)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const i=e.map(d=>this.formatter(d))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,filterParams:{textFormatter:u}}=this.params;if(r.type==="blank")return yd(t);if(r.type==="notBlank")return!yd(t);const h={api:o,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:r.type,value:s,textFormatter:u};return i.some(d=>this.matcher({...h,filterText:d}))}},rI=class extends y2{constructor(){super(...arguments),this.FilterModelFormatterClass=C2,this.filterType="text",this.defaultOptions=ev}createFloatingFilterInputService(){return this.createManagedBean(new v2)}};function nI(e){return!!e.quickFilter?.isFilterPresent()}function iI(e){return e.quickFilter?.getText()}function sI(e){e.quickFilter?.resetCache()}var oI=class extends fe{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",r=>this.setFilter(r.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:r,pivotResultCols:n}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!r.get("applyQuickFilterBeforePivotOrAgg")?n?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=r.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassCache(e,r):this.doesRowPassNoCache(e,r))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ee(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){we(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(r=>{const n=this.getTextForColumn(r,e);return Ee(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let r;e?(this.checkGenerateAggText(t),r=t.quickFilterAggregateText):r=this.getAggText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,r)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let r=this.beans.filterValueSvc.getValue(e,t);const n=e.getColDef();if(n.getQuickFilterText){const i=Ue(this.gos,{value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(i)}return Ee(r)?r.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(r=>{const n=this.getTextForColumn(r,e);Ee(n)&&t.push(n)}),t.join(`
`)}},aI={moduleName:"ClientSideRowModelFilter",version:Me,rowModels:["clientSide"],beans:[aD]},tv={moduleName:"FilterCore",version:Me,beans:[TD],apiFunctions:{isAnyFilterPresent:PD,onFilterChanged:MD},css:[pD],dependsOn:[aI]},S2={moduleName:"FilterValue",version:Me,beans:[AD]},th={moduleName:"ColumnFilter",version:Me,beans:[FD,_D],dynamicBeans:{headerFilterCellCtrl:lD},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:gD,getColumnFilterInstance:mD,destroyFilter:vD,setFilterModel:wD,getFilterModel:bD,getColumnFilterModel:yD,setColumnFilterModel:CD,showColumnFilter:SD,hideColumnFilter:xD,getColumnFilterHandler:RD,doFilterAction:ED},dependsOn:[tv,eh,S2,dD]},lI={moduleName:"CustomFilter",version:Me,userComponents:{agReadOnlyFloatingFilter:ID},dependsOn:[th]},cI={moduleName:"TextFilter",version:Me,dependsOn:[th],userComponents:{agTextColumnFilter:{classImp:ZD,params:{useForm:!0}},agTextColumnFloatingFilter:rI},dynamicBeans:{agTextColumnFilterHandler:tI}},uI={moduleName:"NumberFilter",version:Me,dependsOn:[th],userComponents:{agNumberColumnFilter:{classImp:$D,params:{useForm:!0}},agNumberColumnFloatingFilter:YD},dynamicBeans:{agNumberColumnFilterHandler:KD}},dI={moduleName:"DateFilter",version:Me,dependsOn:[th],userComponents:{agDateColumnFilter:{classImp:BD,params:{useForm:!0}},agDateInput:UD,agDateColumnFloatingFilter:jD},dynamicBeans:{agDateColumnFilterHandler:GD}},hI={moduleName:"QuickFilterCore",version:Me,rowModels:["clientSide"],beans:[oI],dependsOn:[tv,S2]},fI={moduleName:"QuickFilter",version:Me,apiFunctions:{isQuickFilterPresent:nI,getQuickFilter:iI,resetQuickFilter:sI},dependsOn:[hI]},pI={moduleName:"ExternalFilter",version:Me,dependsOn:[tv]},gI=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",pf=(e,t,r)=>{const{editModelSvc:n}=e,i=n?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=n?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o&&o.length?o.join(r("tooltipValidationErrorSeparator",". ")):void 0},mI=class extends fe{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,r,n){e&&t.destroyBean(e);const i=ff(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!n&&i&&!a.headerComponent&&(n=fu(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>r??s.getColDef().headerTooltip,shouldDisplayTooltip:n};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,r,n){e&&t.destroyBean(e);const i=ff(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!n&&i&&!a?.headerGroupComponent&&(n=fu(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>r??(a&&a.headerTooltip),shouldDisplayTooltip:n};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,r){const{beans:n}=this,{gos:i,editSvc:s}=n,{column:o,rowNode:a}=e;let l="cell";const c=()=>{const f=!!!s?.isEditing(e)&&pf(n,e,this.getLocaleTextFunc());if(f)return l="cellEditor",f;l="cell";const p=o.getColDef(),m=a.data;if(p.tooltipField&&Ee(m))return sl(m,p.tooltipField,o.isTooltipFieldContainsDots());const g=p.tooltipValueGetter;return g?g(Ue(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},u=ff(i);r||(u&&!e.isCellRenderer()?r=()=>{const d=!!s?.isEditing(e);if(!d&&pf(n,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const m=fu(()=>{const g=e.eGui;return g.children.length===0?g:g.querySelector(".ag-cell-value")});return!d&&m()}:r=()=>!s?.isEditing(e));const h={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:r};return this.createTooltipFeature(h,n)}setupFullWidthRowTooltip(e,t,r,n){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>r,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:r}=this,{context:n}=r,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>pf(r,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=r,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),u=!!l&&l.size>0,h=!!c&&c.size>0;return u||h}},o=this.createTooltipFeature(s,r);if(o)return e.createBean(o,n)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Ee(t.tooltipField)||Ee(t.tooltipValueGetter)||Ee(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},x2={moduleName:"Tooltip",version:Me,beans:[mI],dynamicBeans:{tooltipFeature:WA},userComponents:{agTooltipComponent:VA},dependsOn:[eh],css:[gI]},Co=class{constructor(e){this.cellValueChanges=e}},gf=class extends Co{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},vI=10,Aw=class{constructor(e){this.actionStack=[],this.maxStackSize=e||vI,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},wI=class extends fe{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&K1(this.activeCellEdit,t),n=this.activeRowEdit!==null&&N6(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const r=e.get("undoRedoCellEditingLimit");if(r<=0)return;this.undoStack=new Aw(r),this.redoStack=new Aw(r),this.addListeners();const n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:r,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(r,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:r,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(n,r,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,r,n,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[n],i),s instanceof gf?this.processRange(s.ranges||[s[r]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:i,rowPinned:s,columnId:o}=n,a={rowIndex:i,rowPinned:s},l=bi(this.beans,a);l.displayed&&l.setDataValue(o,t(n),r)})}processRange(e){let t;const r=this.beans.rangeSvc;r.removeAllCellRanges(!0),e.forEach((n,i)=>{if(!n)return;const s=n.startRow,o=n.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};r.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,i={rowIndex:r,rowPinned:n},s=bi(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:r,rowPinned:n}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(r);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:n};s.setFocusedCell({...c,forceBrowserFocus:!0}),o?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Co(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new Co(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Co(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new gf(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:r}=this.beans;t&&rs(r)?e=new gf(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Co(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const r=new Co(t??[]);this.pushActionsToUndoStack(r),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},bI=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",yI={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},CI=class extends Yd{constructor(){super(yI,[zm]),this.eEditor=ze}initialiseEditor(e){const t=e.value??void 0,r=this.eEditor;r.setValue(t),r.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(r,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),r=$d(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${n} (${r})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,r=this.getValue();return t?t({value:r,internalErrors:null,cellEditorParams:e}):null}},rh=class extends Yd{constructor(e){super(),this.cellEditorInput=e,this.eEditor=ze}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:r}=this,{cellStartedEdit:n,eventKey:i,suppressPreventDefault:s}=e;r.getInputElement().setAttribute("title",""),t.init(r,e);let o,a=!0;n?(this.focusAfterAttached=!0,i===de.BACKSPACE||i===de.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==de.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&r.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===de.PAGE_UP||c===de.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;eo()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},SI={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},xI=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return SI}getAgComponents(){return[ES]}init(e,t){this.eEditor=e,this.params=t;const{min:r,max:n,step:i,colDef:s}=t;r!=null&&e.setMin(r),n!=null&&e.setMax(n),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:r}=this,{min:n,max:i,getValidationErrors:s}=r;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(n){const l=n instanceof Date?n:new Date(n);if(t<l){const c=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:r,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,r=e.getDate();return!Ee(r)&&!Ee(t.value)?t.value:r??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Zr(e,this.includeTime??!1)}},RI=class extends rh{constructor(){super(new xI(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},EI={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},kI=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return EI}getAgComponents(){return[ES]}init(e,t){this.eEditor=e,this.params=t;const{min:r,max:n,step:i,colDef:s}=t;r!=null&&e.setMin(r),n!=null&&e.setMax(n),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,r=e.getInputElement().value,n=this.formatDate(this.parseDate(r??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(n){const l=new Date(n),c=this.getLocaleTextFunc();if(i){const u=new Date(i);if(l<u){const h=u.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${h}`,[h]))}}if(s){const u=new Date(s);if(l>u){const h=u.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${h}`,[h]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,r=this.formatDate(t.getDate());return!Ee(r)&&!Ee(e.value)?e.value:e.parseValue(r??"")}getStartValue(){return Zr(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):jr(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Zr(e??null,this.includeTime??!1)??void 0}},FI=class extends rh{constructor(){super(new kI(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},PI={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},MI=class extends Yd{constructor(){super(PI,[hP]),this.eEditor=ze}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:r,eventKey:n,maxLength:i,cols:s,rows:o}=e;this.focusAfterAttached=r,t.getInputElement().setAttribute("title",""),t.setMaxLength(i||200).setCols(s||60).setRows(o||10);let a;r?(this.focusAfterAttached=!0,n===de.BACKSPACE||n===de.DELETE?a="":n&&n.length===1?a=n:(a=this.getStartValue(e),n!==de.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=this.getStartValue(e)),a!=null&&t.setValue(a,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===de.LEFT||t===de.UP||t===de.RIGHT||t===de.DOWN||e.shiftKey&&t===de.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:r}=this,n=this.getLocaleTextFunc();e.setInputAriaLabel(n("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),r&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:r}=t,n=e.getValue();return!Ee(n)&&!Ee(r)?r:t.parseValue(n)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:r}=e,n=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(n("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),r?r({value:i,internalErrors:s,cellEditorParams:e}):s}},TI={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},_I=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return TI}getAgComponents(){return[fP]}init(e,t){this.eEditor=e,this.params=t;const{max:r,min:n,precision:i,step:s}=t;r!=null&&e.setMax(r),n!=null&&e.setMin(n),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:r,getValidationErrors:n}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),r!=null&&s>r&&a.push(o("maxValueValidation",`Must be less than or equal to ${r}.`,[String(r)]))),a.length||(a=null),n?n({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===de.UP||e.key===de.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,r=e.getValue();if(!Ee(r)&&!Ee(t.value))return t.value;let n=t.parseValue(r);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){eo()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},AI=class extends rh{constructor(){super(new _I(()=>this.getLocaleTextFunc()))}},DI={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},II=class extends Yd{constructor(){super(DI,[yP]),this.eEditor=ze,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:r,gos:n}=this,{values:i,value:s,eventKey:o}=e;if(Vt(i)){we(58);return}this.startedByEnter=o!=null?o===de.ENTER:!1;let a=!1;i.forEach(h=>{const d={value:h},f=r.formatValue(e.column,null,h),p=f!=null;d.text=p?f:h,t.addOption(d),a=a||s===h}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:r}=e,n=this.getValue();let i=[];if(t&&!t.includes(n)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return r?r({value:n,internalErrors:i,cellEditorParams:e}):i}},OI={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},LI=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return OI}getAgComponents(){return[Zd]}init(e,t){this.eEditor=e,this.params=t;const r=t.maxLength;r!=null&&e.setMaxLength(r)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:r}=e,n=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof n=="string"&&n.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),r?r({value:n,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,r=e.getValue();return!Ee(r)&&!Ee(t.value)?t.value:t.parseValue(r)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),r=Ee(t)&&t.length||0;r&&e.getInputElement().setSelectionRange(r,r)}},Dw=class extends rh{constructor(){super(new LI(()=>this.getLocaleTextFunc()))}};function NI(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function BI(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function R2(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function E2(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function HI(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function VI(e){e.undoRedo?.undo("api")}function GI(e){e.undoRedo?.redo("api")}function zI(e){const t=e.editModelSvc?.getEditMap(),r=[];return t?.forEach((n,i)=>{const{rowIndex:s,rowPinned:o}=i;n.forEach((a,l)=>{const{editorValue:c,pendingValue:u,sourceValue:h,state:d}=a,f=Qi(a);let p=c??u;p===bn&&(p=void 0);const m={newValue:p,oldValue:h,state:d,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(d==="editing"||d==="changed"&&f)&&r.push(m)})}),r}function jI(e,t=!1){const{editSvc:r}=e;r?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(n=>{n.state==="editing"&&r.revertSingleCellEdit(n)}):Es(e,!0),Ko(e)):r?.stopEditing(void 0,{cancel:t,source:"api"})}function WI(e,t){const r=Bt(e,t);return e.editSvc?.isEditing(r)??!1}function UI(e,t){const{key:r,colKey:n,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(n);if(!l){we(12,{colKey:n});return}const u=bi(e,{rowIndex:i,rowPinned:s||null});if(!u){we(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(u))return;s==null&&E2(e,i),R2(e,n),o?.startEditing({rowNode:u,column:l},{event:r?new KeyboardEvent("keydown",{key:r}):void 0,source:"api"})}function $I(e){return e.editSvc?.validateEdit()||null}function KI(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function qI(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var XI={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},YI=class extends Vm{constructor(e){super(XI),this.params=e}postConstruct(){Ws(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{jp(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},Cd=(e,t=!1)=>{if(e!==void 0)return Qi(e)||t&&e.state==="editing"};function k2(e,t,r=!1){return Cd(e.editModelSvc?.getEdit(t),r)}function F2(e,t){const{editModelSvc:r}=e,{column:n,rowNode:i}=t;if(e.gos.get("groupTotalRow")&&!i?.footer)return!1;for(const s of i?.allLeafChildren??[])if(Cd(r?.getEdit({rowNode:s,column:n}))||Cd(r?.getEdit({rowNode:s.pinnedSibling,column:n})))return!0}function P2(e,{rowNode:t,column:r}){if(t=t.pinnedSibling,!!t)return Cd(e.editModelSvc?.getEdit({rowNode:t,column:r}))}var ZI=class extends fe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:r}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=k2(r,e)||F2(r,e)||P2(r,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const n=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",n)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},QI=class extends fe{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:r}=this;let n=e.rowNode,i=t?.getEditRow(n);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:n});if(!i&&n.pinnedSibling&&(n=n.pinnedSibling,i=t?.getEditRow(n)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:n,column:a};return k2(r,l,!0)||F2(r,l)||P2(r,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const r=this.editSvc?.isBatchEditing()??!1,n=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",n&&t),i.toggleCss("ag-row-batch-edit",n&&t&&r),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",n&&t&&e)})}},JI=({rowModel:e,pinnedRowModel:t,editModelSvc:r},n)=>{const i=new Set;return e.forEachNode(s=>n.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>n.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>n.has(s)&&i.add(s)),n.forEach(s=>{i.has(s)||r.removeEdits({rowNode:s})}),i},e7=({editModelSvc:e},t,r)=>{t.forEach(n=>e?.getEditRow(n)?.forEach((i,s)=>!r.has(s)&&e.removeEdits({rowNode:n,column:s})))},t7=e=>()=>{const t=new Set(e.colModel.getCols()),r=e.editModelSvc.getEditMap(!0),n=new Set(r.keys());e7(e,JI(e,n),t)},r7=new Set(["undo","redo","paste","bulk"]),M2={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},n7=new Set(Object.keys(M2)),i7=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),Uc={cancel:!0,source:"api"},s7={cancel:!1,source:"api"},po={checkSiblings:!0},Ha={force:!0,suppressFlash:!0},o7=class extends fe{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:n})=>{this.stopEditing(void 0,Uc),this.createStrategy(n)});const t=t7(e),r=()=>{const n=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return n||i?this.stopEditing(void 0,Uc):this.isEditing()&&(this.isBatchEditing()?Ko(e,this.model.getEditPositions()):this.stopEditing(void 0,s7)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:r,filterChanged:r,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,Uc)):(this.stopEditing(void 0,Uc),this.batch=!1)}createStrategy(e){const{beans:t,gos:r,strategy:n}=this,i=e??r.get("editType")??"singleCell";if(n){if(n.beanName===i)return n;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,r,n="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,r,n)??null}shouldStopEditing(e,t,r="ui"){return this.strategy?.shouldStop(e,t,r)??null}shouldCancelEditing(e,t,r="ui"){return this.strategy?.shouldCancel(e,t,r)??null}validateEdit(){return q6(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??po)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:r=!0,event:n=null,source:i="ui",ignoreEventKey:s=!1,silent:o}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const a=Bt(this.beans,e);if(a&&!a.comp){a.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const l=this.shouldStartEditing?.(e,n,r,i);if(l===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&this.stopEditing(void 0,{source:i}),l&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:n,source:i,ignoreEventKey:s,startedEdit:r,silent:o})}stopEditing(e,t){const{event:r,cancel:n,source:i="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(n7.has(i)&&this.isBatchEditing())return this.bulkRefresh(e),!1;const l=this.committing?M2[i]:i;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,po))||!this.strategy)return!1;const u=Bt(o,e);u&&(u.onEditorAttachedFuncs=[]);let h=a.getEditMap(!0),d=!1;const f=!n&&(!!this.shouldStopEditing(e,r,l)||this.committing&&!this.batch),p=n&&!!this.shouldCancelEditing(e,r,l);if(f||p){Es(o,!0);const m=a.getEditMap();this.processEdits(m,n,i),this.strategy?.stop(n,r),this.bulkRefresh(void 0,h),h=m,d||(d=f)}else if(r instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const m=r.key,g=m===de.ENTER,w=m===de.ESCAPE,v=m===de.TAB;(g||v||w)&&(g||v?Es(o,!0):w&&this.revertSingleCellEdit(u),this.isBatchEditing()?this.strategy?.cleanupEditors():Ko(o,a.getEditPositions(),{event:r}),r.preventDefault(),this.bulkRefresh(e,h,{suppressFlash:!0}),h=a.getEditMap())}else Es(o,!0),h=a.getEditMap();return d&&e&&this.model.removeEdits(e),!s&&u&&this.navigateAfterEdit(r instanceof KeyboardEvent&&r.shiftKey,u.cellPosition),Np(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),p&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(h.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),d&&f&&this.dispatchBatchEvent("batchEditingStopped",h)),d}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?de.UP:de.DOWN;this.beans.navigation?.navigateToNextCell(null,n,t,!1)}}processEdits(e,t=!1,r){const n=Array.from(e.keys()),{beans:i}=this,s=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,o=[];for(const a of n){const l=e.get(a);for(const c of l.keys()){const u=l.get(c),h={rowNode:a,column:c},d=Bt(i,h),f=Qi(u),p=d?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!p&&f&&!s&&(this.setNodeDataValue(a,c,u.pendingValue,void 0,r)||o.push(h)),d?.refreshCell(Ha)}}o.forEach(a=>{this.model.clearEditValue(a)})}setNodeDataValue(e,t,r,n,i){const{beans:s}=this,o=Bt(s,{rowNode:e,column:t});o&&(o.suppressRefreshCell=!0),this.commitNextEdit();const a=e.setDataValue(t,r,i==="ui"?"edit":i);return o&&(o.suppressRefreshCell=!1),n&&o?.refreshCell(Ha),a}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(Ha)}dispatchEditValuesChanged({rowNode:e,column:t},r={}){if(!e||!t||!r)return;const{pendingValue:n,sourceValue:i}=r,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:n,oldValue:i,value:n,colDef:t.getColDef()})}bulkRefresh(e={},t,r={}){const{beans:n,gos:i}=this,{editModelSvc:s,rowModel:o}=n;er(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),r):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),r)}))}refCell({rowNode:e,column:t},r,n={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const c=e.sibling;c&&a.add(c);let u=e.parent;for(;u;)u.sibling?.footer&&s.get("groupTotalRow")||!u.parent&&u.sibling&&s.get("grandTotalRow")?a.add(u.sibling):a.add(u),u=u.parent;o.forEach(h=>this.dispatchEditValuesChanged({rowNode:h,column:t},r)),o.forEach(h=>Bt(i,{rowNode:h,column:t})?.refreshCell(n)),a.forEach(h=>Bt(i,{rowNode:h,column:t})?.refreshCell(n))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:r}=e;if(r.group){if(this.gos.get("treeData")){if(!r.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,r=!0){if(this.hasValidationErrors(e)){const n=Bt(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),r&&(!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const r=Bt(this.beans,e);r?.comp?.getCellEditor()&&(Ko(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),da(this.beans,e,{silent:!0}),$s(this.beans),r?.refreshCell(Ha),r.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){$s(this.beans);const t=Bt(this.beans,e);t&&(t.refreshCell(Ha),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let r=!1;return e?.rowNode?(r||(r=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(r||(r=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(r||(r=this.model.getCellValidationModel().getCellValidationMap().size>0),r||(r=this.model.getRowValidationModel().getRowValidationMap().size>0)),r}moveToNextCell(e,t,r,n="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,r)==="block-stop";return e instanceof Xo&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,r,n,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},r=!0){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(n=o)}const s=r?n?.editorValue??n?.pendingValue:n?.pendingValue;return s===bn||!n?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){z6(this,this.beans,e)}createPopupEditorWrapper(e){return new YI(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,r){try{if((!this.isEditing()||this.committing)&&!i7.has(r))return;const{beans:n}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":this.committing?r??"api":"api";if(!r||r7.has(r))return bu(n,e,!0,t,r),this.setNodeDataValue(e.rowNode,e.column,t,!0,r);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return bu(n,e,!0,t,r),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return n.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return bu(n,e,!0,t,r),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){U6(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,po))return;const{rowNode:n,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(n,po),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,po);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,n)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,r,n){this.strategy?.dispatchCellEvent(e,t,r,n)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Ue(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},r){if(!r||r.length===0)return;const{beans:n,rangeSvc:i,valueSvc:s}=this;Es(n,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),r.forEach(c=>{if(i?.forEachRowInRange(c,u=>{const h=bi(n,u);if(h===void 0)return;const d=o.get(h)??new Map;for(const f of c.columns)if(f&&this.isCellEditable({rowNode:h,column:f},"api")){const p=s.getValue(f,h,!0,"api");let m=s.parseValue(f,h??null,a,p);Number.isNaN(m)&&(m=null),d.set(f,{editorValue:void 0,pendingValue:m,sourceValue:p,state:"changed"})}d.size>0&&o.set(h,d)}),this.setEditMap(o),this.batch){this.cleanupEditors(),Np(n),this.bulkRefresh();return}this.commitNextEdit(),this.stopEditing(void 0,{source:"bulk"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=Bt(n,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new ZI(e,t)}createRowStyleFeature(e,t){return new QI(e,t)}setEditingCells(e,t){const{beans:r}=this,{colModel:n,valueSvc:i}=r,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:c,rowPinned:u,newValue:h,state:d})=>{const f=o?n.getCol(o):l?n.getCol(l):a;if(!f)return;const p=bi(r,{rowIndex:c,rowPinned:u});if(!p)return;const m=i.getValue(f,p,!0,"api");if(!Qi({pendingValue:h,sourceValue:m})&&d!=="editing")return;let g=s.get(p);g||(g=new Map,s.set(p,g)),h===void 0&&(h=bn),g.set(f,{editorValue:void 0,pendingValue:h,sourceValue:m,state:d??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=Bt(this.beans,e);if(!t||!this.isEditing(t,po))return;const r=this.model.getEdit(t);if(!r||!Qi(r))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return Bt(this.beans,e)}},T2=class extends fe{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const r=e.previousParams,{editSvc:n,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;r&&(t=Bt(i,r));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(n.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:u,rowPinned:h}=e,d={column:c,rowNode:bi(i,{rowIndex:u,rowPinned:h})},f=o.get("invalidEditValueMode")==="block";if(f)return;const p=!f,m=!!a?.getCellValidationModel().hasCellValidation(d),g=p&&m;(r||l?n.stopEditing(void 0,{cancel:g,source:l&&p?"api":void 0,event:s}):!0)||(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},r="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const r=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};if(r.forEach(s=>{if(n.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){n.fail.push(s);return}n.pass.push(s)}),e)return r.forEach(s=>{fd(this.beans,s),this.model.stop(s)}),!0;const i=this.processValidationResults(n);return i.destroy.length>0&&i.destroy.forEach(s=>{fd(this.beans,s,{event:t}),this.model.stop(s)}),i.keep.length>0&&i.keep.forEach(s=>{const o=Bt(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Es(this.beans,!1);const r=this.model.getEditPositions(),n=[];e?r.forEach(i=>{!e||i.rowNode===e||n.push(i)}):r.forEach(i=>{n.push(i)}),Ko(this.beans,n),Np(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,r=t?.getCellEditor();if(r?.focusIn)r.focusIn();else{const n=this.beans.gos.get("editType")==="fullRow";e.focusCell(n),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:r=!1,startedEdit:n,position:i,cells:s=this.model.getEditPositions()}=e,o=t instanceof KeyboardEvent&&!r&&t.key||void 0;W6(this.beans,s,i,o,t,n)}dispatchCellEvent(e,t,r,n){const i=Bt(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,r),...n})}dispatchRowEvent(e,t,r){if(r)return;const n=Pm(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,r,n="ui"){if(t instanceof KeyboardEvent&&(t.key===de.TAB||t.key===de.ENTER||t.key===de.F2||t.key===de.BACKSPACE&&r))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:n==="api"?r??!1:!1}shouldStop(e,t,r="ui"){const n=this.editSvc.isBatchEditing();return n&&r==="api"?!0:n&&r==="ui"?!1:r==="api"?!0:t instanceof KeyboardEvent&&!n?t.key===de.ENTER:null}shouldCancel(e,t,r="ui"){const n=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!n&&t.key===de.ESCAPE||n&&r==="api"||r==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const r=[];if(e.forEach((n,i)=>{n.forEach((s,o)=>{s.state==="editing"&&r.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),r.length>0){const n=r.at(-1),i=n.pendingValue===bn?void 0:n.pendingValue;this.start({position:n,event:new KeyboardEvent("keydown",{key:i}),source:"api"});const s=Bt(this.beans,n);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},a7=class extends T2{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const r=super.isCellEditable(e,t);return r===!0||t==="ui"?r:this.beans.colModel.getCols().some(i=>super.isCellEditable({rowNode:e.rowNode,column:i},t))}shouldStop(e,t,r="ui"){const{rowNode:n}=e||{};if(!Pm(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,r);return s!==null?s:this.rowNode?n!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:r,startedEdit:n,event:i,ignoreEventKey:s}=e,{rowNode:o}=t;this.rowNode!==o&&super.cleanupEditors(t),this.dispatchRowEvent({rowNode:o},"rowEditingStarted",r),this.startedRows.push(o);const a=this.beans.visibleCols.allCols,l=[];a.forEach(c=>{if(!c.isCellEditable(o))return;const u={rowNode:o,column:c};l.push(u),this.model.hasEdits(u)||this.model.start(u)}),this.rowNode=o,this.setupEditors({cells:l,position:t,startedEdit:n,event:i,ignoreEventKey:s})}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:r}=this;if(r&&!this.model.hasRowEdits(r))return!1;const n=[];return e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(Qi(o)){n.push(s);break}}}),$s(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:r})==="block-stop"?!1:(super.stop(e,t),n.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowValueChanged")),this.cleanupEditors({rowNode:r},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,r=e.previousParams;if(r?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const n=Bt(this.beans,r);this.gos.get("invalidEditValueMode")==="block"&&n&&(this.model.getCellValidationModel().getCellValidation(n)||this.model.getRowValidationModel().getRowValidation(n))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(r=>this.dispatchRowEvent({rowNode:r},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,r,n="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),c=o.isCellEditable(),u=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const h=this.gos.get("suppressStartEditOnTab");return c&&!i?h?o.focusCell(!0,r):(o.comp?.getCellEditor()||da(this.beans,o,{event:r,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,r)):(c&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,r)),!u&&!i&&(this.cleanupEditors(o,!0),h?o.focusCell(!0,r):this.editSvc.startEditing(o,{startedEdit:!0,event:r,source:n,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:r},n)=>{if(r!=="editing")return;const i=Bt(this.beans,{rowNode:t,column:n});i&&!i.comp?.getCellEditor()&&da(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},l7=class extends T2{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,r="ui"){const n=super.shouldStop(e,t,r);if(n!==null)return n;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:r,event:n,ignoreEventKey:i}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:r,event:n,ignoreEventKey:i})}dispatchRowEvent(e,t,r){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:r}=this.beans,{rowIndex:n,column:i,rowPinned:s}=e,o=bi(this.beans,{rowIndex:n,rowPinned:s}),a=Lp(i),l=t.getCol(a),c=e.previousParams;if(c){const u=Lp(c.column);if(c?.rowIndex===n&&u===a&&c?.rowPinned===s)return}r?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,r,n="ui",i=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:r}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,c=e.isCellEditable(),u=o.isCellEditable(),h=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;c&&!i&&this.setFocusOutOnEditor(e);const d=this.gos.get("suppressStartEditOnTab");return!h&&!i&&(super.cleanupEditors(o,!0),d?o.focusCell(!0,r):this.editSvc.startEditing(o,{startedEdit:!0,event:r,source:n,ignoreEventKey:!0})),u&&!i?(o.focusCell(!1,r),d?o.focusCell(!0,r):o.comp?.getCellEditor()||(da(this.beans,o,{event:r,cellStartedEdit:!0,silent:!0}),this.setFocusInOnEditor(o),this.cleanupEditors(o))):(u&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,r)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},ds={moduleName:"EditCore",version:Me,beans:[I6,o7],apiFunctions:{getEditingCells:zI,getCellEditorInstances:j6,startEditingCell:UI,stopEditing:jI,isEditing:WI,validateEdit:$I},dynamicBeans:{singleCell:l7,fullRow:a7},dependsOn:[eh,x2],css:[bI]},c7={moduleName:"UndoRedoEdit",version:Me,beans:[wI],apiFunctions:{undoCellEditing:VI,redoCellEditing:GI,getCurrentUndoSize:KI,getCurrentRedoSize:qI},dependsOn:[ds]},u7={moduleName:"TextEditor",version:Me,userComponents:{agCellEditor:Dw,agTextCellEditor:Dw},dependsOn:[ds]},d7={moduleName:"NumberEditor",version:Me,userComponents:{agNumberCellEditor:{classImp:AI}},dependsOn:[ds]},h7={moduleName:"DateEditor",version:Me,userComponents:{agDateCellEditor:RI,agDateStringCellEditor:FI},dependsOn:[ds]},f7={moduleName:"CheckboxEditor",version:Me,userComponents:{agCheckboxCellEditor:CI},dependsOn:[ds]},p7={moduleName:"SelectEditor",version:Me,userComponents:{agSelectCellEditor:II},dependsOn:[ds]},g7={moduleName:"LargeTextEditor",version:Me,userComponents:{agLargeTextCellEditor:MI},dependsOn:[ds]},m7={moduleName:"CustomEditor",version:Me,dependsOn:[ds]},v7=class extends fe{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,$o(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),x4(e))}createColumns(e,t){const r=()=>{ld(this.beans,this.columns?.tree),this.columns=null},n=e.treeDepth,s=(this.columns?.treeDepth??-1)==n,o=this.generateSelectionCols();if(S4(o,this.columns?.list??[])&&s)return;r();const{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,u=l?.balanceTreeForAutoCols(o,c)??[];this.columns={list:o,tree:u,treeDepth:c,map:{}},t(d=>{if(!d)return null;const f=d.filter(p=>!us(p));return[...o,...f]})}updateColumns(e){const t=$o(e.source);this.columns?.list.forEach(r=>{const n=this.createSelectionColDef(e.currentValue);r.setColDef(n,null,t),Pn(this.beans,{state:[{...n,colId:r.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>P1(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,r=e.get("rowSelection");if(typeof r!="object"||!_s(e))return!1;const n=(t.autoColSvc?.getColumns()?.length??0)>0;if(r.checkboxLocation==="autoGroupColumn"&&n)return!1;const i=!!Uo(r),s=pu(r);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,r=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=r??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(a,l,c,u){const h=c.isSelected(),d=u.isSelected();return h===d?0:h?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:E1,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const r=new no(e,null,t,!1);return this.createBean(r),[r]}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?Uo(t):void 0,i=e&&typeof e!="string"?Uo(e):void 0,s=n!==i,o=t&&typeof t!="string"?pu(t):void 0,a=e&&typeof e!="string"?pu(e):void 0,l=o!==a,c=nd(e),u=nd(t);(s||l||c!==u)&&this.beans.colModel.refreshAll(r)}destroy(){ld(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,r){if(!this.columns?.list.length)return;const n=e.length+t.length+r.length;if(n===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=r;break;default:l=t}l&&wn(l,i)};(this.beans.rowNumbersSvc?.getColumn(k1)?2:1)===n&&s()}};function w7(e,t){if(!t.nodes.every(o=>o.rowPinned&&!rc(o)?(we(59),!1):o.id===void 0?(we(60),!1):!0))return;const{nodes:n,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:i??"api",newValue:s})}function b7(e,t,r="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:r,selectAll:t})}function y7(e,t,r="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:r,selectAll:t})}function C7(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function S7(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function x7(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function R7(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function E7(e){return e.selectionSvc?.getSelectedNodes()??[]}function k7(e){return e.selectionSvc?.getSelectedRows()??[]}var F7=class extends cP{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=id(e),this.groupSelectsDescendants=Ll(e),this.groupSelectsFiltered=od(e)==="filteredDescendants",this.masterSelectsDetail=O0(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Ll(e),r=id(e),n=od(e)==="filteredDescendants";this.masterSelectsDetail=O0(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||r!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=r)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,r){if(this.isRowSelectionBlocked(t))return 0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,r);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,r),this.selectRange(n.select,!0,r)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,keepDescendants:n.keepDescendants,event:e,source:r}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:r,nodes:n,event:i,source:s,keepDescendants:o=!1}){if(!_s(this.gos)&&e)return we(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return we(130),0;let a=0;for(let l=0;l<n.length;l++){const c=n[l],u=go(c),h=this.groupSelectsFiltered&&u.group;if(u.rowPinned&&!rc(u)){we(59);continue}if(u.id===void 0){we(60);continue}h||this.selectRowNode(u,e,i,s)&&(this.detailSelection.delete(u.id),a++),this.groupSelectsDescendants&&u.childrenAfterGroup?.length&&(a+=this.selectChildren(u,e,s))}return r||(n.length===1&&s==="api"&&this.selectionCtx.setRoot(go(n[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(go(n[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,r){let n=0;return e.forEach(i=>{const s=go(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r){const n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:r,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:r,rowModel:n}=this.beans;if(!er(r))return!1;const i=n.rootNode;if(!i)return!1;t||(t=new Gl(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,r){const n=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!M7(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),this.groupSelectsDescendants&&s.parent&&n.set(s.parent.id,s.parent)}}),n.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,r)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new qs(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!er(e))return;const r=t.getTopLevelNodes();if(r===null)return;const n=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?n.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(r),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const r=er(this.gos);let n=!1;const i=s=>{const o=this.selectRowNode(go(s),!1,void 0,e);n||(n=o)};if(t==="currentPage"||t==="filtered"){if(!r){kt(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,r&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);n||(n=s)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,r=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&r++)}),{selectedCount:t,notSelectedCount:r}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:r}=this.getSelectedCounts(e);return _2(t,r)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],r=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){r(i);return}if(!i.expanded&&!i.footer){const s=o=>{r(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||r(i)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(r),t):(n.forEachNode(r),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:r}=this.beans,n=t.getFirstRow(),i=t.getLastRow();for(let s=n;s<=i;s++){const o=r.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:r}=this;if(!_s(t)){we(132);return}if(Jk(t)&&!sd(t)){we(130);return}if(!this.canSelectAll())return;const{source:n,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(go(o),!0,void 0,n);s||(s=a)}),r.selectAll=!0,er(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(n);s||(s=o)}s&&this.dispatchSelectionChanged(n)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,r){if(e||(e=[]),!Array.isArray(e)){kt(103);return}const n=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{n.has(s.id)&&i.push(s)}),r&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!er(e)}updateSelectable(e){const{gos:t,rowModel:r}=this.beans;if(!_s(t))return;const n="selectableChanged",i=e!==void 0,s=er(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const u=l.childrenAfterGroup?.some(h=>h.selectable)??!1;this.setRowSelectable(l,u,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=r.rootNode;e=l?new Gl(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else r.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:n}),!i&&s&&this.updateGroupsFromChildrenSelections?.(n)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const r=e.detailNode?.detailGridInfo?.api;if(!r)return;const n=P7(r);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){const s=this.detailSelection.get(e.id)??new Set;for(const o of r.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,r){if(this.masterSelectsDetail){if(!sd(t)){we(269);return}switch(e.isSelected()){case!0:{r.selectAll();break}case!1:{r.deselectAll();break}case void 0:{const n=this.detailSelection.get(e.id);if(n){const i=[];for(const s of n){const o=r.getRowNode(s);o&&i.push(o)}r.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function go(e){return rc(e)?e.pinnedSibling:e.footer?e.sibling:e}function P7(e){let t=0,r=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&r++}),_2(t,r)}function _2(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function M7(e,t){let r=t.parent;for(;r;){if(r===e)return!0;r=r.parent}return!1}var T7={moduleName:"SharedRowSelection",version:Me,beans:[v7],apiFunctions:{setNodesSelected:w7,selectAll:b7,deselectAll:y7,selectAllFiltered:C7,deselectAllFiltered:S7,selectAllOnCurrentPage:x7,deselectAllOnCurrentPage:R7,getSelectedNodes:E7,getSelectedRows:k7}},_7={moduleName:"RowSelection",version:Me,rowModels:["clientSide","infinite","viewport"],beans:[F7],dependsOn:[T7]};function A7(e){e.expansionSvc?.expandAll(!0)}function D7(e){e.expansionSvc?.expandAll(!1)}function I7(e){const t=Jn(e),r=o2(e);t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function O7(e,t,r){const n=o2(e);if(n){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){kt(238);return}n.setRowCount(t,r);return}kt(28);return}const i=Jd(e);if(i){i.setRowCount(t,r);return}}function L7(e){return ro(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function N7(e){return e.rowModel.isLastRowIndexKnown()}var B7={moduleName:"CsrmSsrmSharedApi",version:Me,apiFunctions:{expandAll:A7,collapseAll:D7,onRowHeightChanged:I7}},H7={moduleName:"SsrmInfiniteSharedApi",version:Me,apiFunctions:{setRowCount:O7,getCacheBlockState:L7,isLastRowIndexKnown:N7}},V7=class extends fe{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{if(!n){kt(18),t||kt(20);return}if(this.isGridApi(n))return n;const i=n;return"current"in i?i.current?.api:(i.api||kt(19),i.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":we(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let r=null;const n=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=n;if(t&&(r=o.getColDefCol(t.getColId())),t&&!r)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const h=e.api.getColumnState().map(d=>({colId:d.colId}));Pn(n,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=e.api.getColumnState().map(d=>({colId:d.colId,hide:d.hide}));Pn(n,{state:h},"alignedGridChanged")}break;case"columnPinned":{const h=e.api.getColumnState().map(d=>({colId:d.colId,pinned:d.pinned}));Pn(n,{state:h},"alignedGridChanged")}break;case"columnResized":{const u=e,h={};a.forEach(d=>{h[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),u.flexColumns?.forEach(d=>{h[d.getId()]&&delete h[d.getId()]}),i?.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",c)})}},G7={moduleName:"AlignedGrids",version:Me,beans:[V7],dependsOn:[NS]},z7=class extends iP{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},mf=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function j7(e){if(Vt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],i=r===0,s=r===e.childrenAfterSort.length-1;n.setFirstChild(i),n.lastChild!==s&&(n.lastChild=s,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==r&&(n.childIndex=r,n.dispatchRowEvent("childIndexChanged"))}}function A2(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),j7(e)}var W7=class extends fe{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,r=t.sortSvc.getSortOptions(),n=Ee(r)&&r.length>0,i=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=r.some(({column:o})=>Hn(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,r,n,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,r,n,i,s,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:u,rowRenderer:h,showRowGroupCols:d}=e,f=a.get("groupMaintainOrder"),p=l.getCols().some(b=>b.isRowGroupActive()),m=l.isPivotMode(),g=a.getCallback("postSortRows");let w=!1;const v=b=>{const E=m&&b.leafGroup,P=f&&p&&!b.leafGroup&&!o;let A;if(P){const T=c?.columns?.[b.level+1]?.getSort()===null,B=b.childrenAfterAggFilter.slice(0);if(b.childrenAfterSort&&!T){const H={};b.childrenAfterSort.forEach((G,D)=>{H[G.id]=D}),B.sort((G,D)=>(H[G.id]??0)-(H[D.id]??0))}A=B}else!r||E?A=b.childrenAfterAggFilter.slice(0):n&&i?A=U7(u,b,i,s,t):A=u.doFullSort(b.childrenAfterAggFilter,t);if(w||(w=b.childrenAfterSort?.[0]!==A[0]),b.childrenAfterSort=A,A2(b),g){const L={nodes:b.childrenAfterSort};g(L)}};if(s?.forEachChangedNodeDepthFirst(v),w&&this.gos.get("groupHideOpenParents")){const b=d?.getShowRowGroupCols();b?.length&&h.refreshCells({columns:b,force:!0})}}};function U7(e,t,r,n,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:c,adds:u}=r;for(let d=0,f=s.length;d<f;++d){const p=s[d];c.has(p)||u.has(p)||n&&!n.canSkip(p)?l.push({currentPos:l.length,rowNode:p}):a.add(p.id)}const h=o.filter(d=>a.has(d.id)).map((d,f)=>({currentPos:f,rowNode:d}));return l.sort((d,f)=>e.compareRowNodes(i,d,f)),$7(e,i,l,h)}function $7(e,t,r,n){const i=[];let s=0,o=0;const a=r.length,l=n.length;for(;s<a&&o<l;){const c=r[s],u=n[o],h=e.compareRowNodes(t,c,u);let d;h<0?(d=c,++s):(d=u,++o),i.push(d.rowNode)}for(;s<a;)i.push(r[s++].rowNode);for(;o<l;)i.push(n[o++].rowNode);return i}var K7=class extends fe{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=mr(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new qs(this.beans);const r=this.getNewNodeManager();this.nodeManager=r,r.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return b1(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const r=t.changeSet?.properties;r&&this.onPropChange(r)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,r,n){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,r),c=Math.min(a,n);for(let u=l;u<=c;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const d=ts(this.beans,h);h.setRowHeight(d.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,r=new Set(e),n={step:"nothing",changedProps:r},i=r.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||i&&r.has("treeData")&&t.get("treeData")||r.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,we(1))),a&&(i||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new mf,o.setImmutableRowData(n,l);else{n.rowDataUpdated=!0,n.newData=!0;const{selectionSvc:u,pinnedRowModel:h}=this.beans;u?.reset("rowDataChanged"),h?.isManual()&&h.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(n.rowDataUpdated)n.step="group";else if(n.step==="nothing"){for(const{refreshProps:c,step:u}of this.orderedStages)if(e.some(h=>c.has(h))){n.step=u;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,r=e.environment.getDefaultRowHeight();let n=0;const i=new Set,s=wr(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const c=ts(e,l,s,r);l.setRowHeight(c.height,c.estimated)}l.setRowTop(n),l.setRowIndex(o),n+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const r=e.active,n=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;r&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const r=e.childrenAfterSort,n=e.sibling&&e.sibling.displayed?1:0;return(r?r.length:0)+n}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:r}=this;if(!t||!r.length||r[0]===t)return e;const{childrenAfterSort:i}=t,s=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(r,e,i,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:r}=this;if(!t||!r.length||r[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const s=t.childrenAfterSort?.findIndex(o=>o===i);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Wo(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Wo(this.gos),n=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Wo(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Gl(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:r,rowDataUpdated:n}=e;return!(!t||r||!n||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let r=!!e.rowDataUpdated;const n=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&r));if(this.started&&r&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=r),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=r=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),r&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||r)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(e.changedRowNodes,n);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const i=[],s=Ll(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(r&&(o===t||o===e)&&(n=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let r=0,n=t.length-1;if(e<=0)return 0;if(Et(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((r+n)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?r=a+1:l.rowTop>e&&(n=a-1),s===r&&o===n))return a;s=r,o=n}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,r=>r.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,r=>r.childrenAfterSort)}forEachPivotNode(e,t=!1,r=!1){const{colModel:n,rowGroupColsSvc:i}=this.beans;if(!n.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=r?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,r=s=>s.childrenAfterGroup,n=this.rootNode,i=0){let s=i;if(!n)return s;const o=n===this.rootNode;o||e(n,s++);const{footerSvc:a}=this.beans;if(n.hasChildren()&&!n.footer){const l=r(n);if(l){s=a?.addTotalRows(s,n,e,t,o,"top")??s;for(const c of l)s=this.depthFirstSearchRowNodes(e,t,r,c,s);return a?.addTotalRows(s,n,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(r=>{r.childrenAfterSort=r.childrenAfterAggFilter.slice(0),A2(r)})}doRowGrouping(e){const t=this.rootNode,r=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(r!==void 0)return r;const n=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,n&&(n.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,a2(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(Hp)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],r=new mf;let n=!1;this.rowDataTransactionBatch?.forEach(i=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction,r);o&&(n=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commitTransactions(n,r),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new mf,{rowNodeTransaction:r,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(n,t),r}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let r;if(e)r=e.execute({rowNode:t});else{r=t?.childrenAfterSort??[];for(const n of r)n.setUiLevel(0)}this.rowsToDisplay=r}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=ad,this.rowsToDisplay=ad}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function q7(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function X7(e,t){const r=Jn(e);r&&((!t||t==="everything")&&(t="group"),r.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function Y7(e){return Jn(e)?.isEmpty()??!0}function Z7(e,t){Jn(e)?.forEachLeafNode(t)}function Q7(e,t){Jn(e)?.forEachNodeAfterFilter(t)}function J7(e,t){Jn(e)?.forEachNodeAfterFilterAndSort(t)}function e9(e){if(e.rowAutoHeight?.active){we(3);return}Jn(e)?.resetRowHeights()}function t9(e,t){return e.frameworkOverrides.wrapIncoming(()=>Jn(e)?.updateRowData(t))}function r9(e,t,r){e.frameworkOverrides.wrapIncoming(()=>Jn(e)?.batchUpdateRowData(t,r))}function n9(e){e.frameworkOverrides.wrapIncoming(()=>Jn(e)?.flushAsyncTransactions())}function i9(e){return e.selectionSvc?.getBestCostNodeSelection()}var s9={moduleName:"ClientSideRowModel",version:Me,rowModels:["clientSide"],beans:[z7,K7,W7],dependsOn:[r2]},o9={moduleName:"ClientSideRowModelApi",version:Me,apiFunctions:{onGroupExpandedOrCollapsed:q7,refreshClientSideRowModel:X7,isRowDataEmpty:Y7,forEachLeafNode:Z7,forEachNodeAfterFilter:Q7,forEachNodeAfterFilterAndSort:J7,resetRowHeights:e9,applyTransaction:t9,applyTransactionAsync:r9,flushAsyncTransactions:n9,getBestCostNodeSelection:i9},dependsOn:[B7]},a9=class extends fe{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:r,skipRowGroups:i,columnKeys:n,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,r,n){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?n.leafGroup:!n.group,c=!!n.footer,u=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&Zk(this.gos,n);if(!l&&!c&&(t.skipRowGroups||u||a)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.stub||n.level===-1&&!l&&!c||i(Ue(this.gos,{node:n})))return;const f=e.onNewBodyRow(n);if(r.forEach((p,m)=>{f.onColumn(p,m,n)}),t.getCustomContentBelowRow){const p=t.getCustomContentBelowRow(Ue(this.gos,{node:n}));p&&e.addCustomContent(p)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new N1,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((i,s)=>{n.onColumn(i,s,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,i=er(this.gos),s=ro(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(a),r;if(this.colModel.isPivotMode())return i?n.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a),r;if(e.onlySelectedAllPages||o){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?n.forEachNode(a):i||s?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return r}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:r}=this.beans;if(!t||!r)return;const n=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?r.compareRowNodes(n,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:r=!1,exportRowNumbers:n=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=d=>us(d)?!1:!Zi(d)||n;if(i&&i.length)return s.getColsForKeys(i).filter(c);const u=o.get("treeData");let h=[];return t&&!l?h=s.getCols():h=a.allCols,h=h.filter(d=>c(d)&&(r&&!u?!Em(d):!0)),h}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>n.push(o))}),e.length>0&&Zt(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;r?a=r(Ue(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,h,d)=>{let f=Et(c);return u.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[h],c.push(f)):f&&f[1]==null&&(f[1]=h-1),h===d.length-1&&f&&f[1]==null&&(f[1]=h),c},[]);n.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},l9={moduleName:"SharedExport",version:Me,beans:[a9]},Iw=`\r
`,c9=class extends KA{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Iw),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(we(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Iw),this.isFirstLine=!1}},u9=class extends $A{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){we(51);return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(Ue(this.gos,{})):t.fileName;qA(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:r,rowGroupColsSvc:n,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:h}=e;return new c9({colModel:t,colNames:r,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:h||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function d9(e,t){return e.csvCreator?.getDataAsCsv(t)}function h9(e,t){e.csvCreator?.exportDataAsCsv(t)}var f9={moduleName:"CsvExport",version:Me,beans:[u9],apiFunctions:{getDataAsCsv:d9,exportDataAsCsv:h9},dependsOn:[l9]},p9=class extends fe{constructor(e,t,r){super(),this.id=e,this.parentCache=t,this.params=r,this.state="needsLoading",this.version=0,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:r,beans:n,rowNodes:i}=this;for(let s=0;s<e;s++){const o=r+s,a=new qs(n);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:r,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:r,pageStatus:n}}}setDataAndId(e,t,r){Ee(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Vt(this.params.datasource.getRows)){we(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:r,params:{sortModel:n,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,r),failCallback:this.pageLoadFailed.bind(this,r),sortModel:n,filterModel:i,context:Ue(s,{}).context}}forEachNode(e,t,r){this.rowNodes.forEach((n,i)=>{this.startRow+i<r&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const r=e-this.startRow;return this.rowNodes[r]}processServerResult(e){const{rowNodes:t,beans:r}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new qs(r),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},g9=2,m9=class extends fe{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.params,r=this.createBean(new p9(e,this,t));return this.blocks[r.id]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),t.rowNodeBlockLoader.addBlock(r),r}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(js(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),r=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(r);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null,s=g9-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=n?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:r,endRow:n}=e;return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:r}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,r-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:r,overflowSize:n}=this.params,s=(e.id+1)*r+n;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,Ee(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&n+1!==l.id){o=!0;return}n=l.id,l.forEachNode(c=>{const u=c===e||c===t;(i||u)&&r.push(c),u&&(i=!i)},s,this.rowCount)}}),o||i?[]:r}},v9=class extends fe{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=As(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=As(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!_l(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;ca(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:r,rowNodeBlockLoader:n,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:r?.getSortModel()??[],rowNodeBlockLoader:n,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:As(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new m9(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function w9(e){Jd(e)?.refreshCache()}function b9(e){Jd(e)?.purgeCache()}function y9(e){return Jd(e)?.getRowCount()}var C9=class extends fe{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Qk(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=mr(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){wn(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){js(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(r=>r.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){js(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},S9={moduleName:"InfiniteRowModelCore",version:Me,rowModels:["infinite"],beans:[v9,C9]},x9={moduleName:"InfiniteRowModel",version:Me,apiFunctions:{refreshInfiniteCache:w9,purgeInfiniteCache:b9,getInfiniteRowCount:y9},dependsOn:[S9,H7]},R9="↑",E9="↓",k9={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},F9=class extends Dt{constructor(){super(k9),this.eValue=ze,this.eDelta=ze,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),i=Ee(n)?n:r,s=t>=0,o=this.eDelta;s?o.textContent=R9+i:o.textContent=E9+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),en(this.eDelta)}refresh(e,t=!1){const{value:r,valueFormatted:n}=e,{eValue:i,lastValue:s,beans:o}=this;if(r===s||(Ee(n)?i.textContent=n:Ee(r)?i.textContent=r:en(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=r&&typeof r=="object"&&"toNumber"in r?r.toNumber():r,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const c=a-l;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},P9=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",M9={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},T9=class extends Dt{constructor(){super(M9),this.eCurrent=ze,this.refreshCount=0,this.registerCSS(P9)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:r}=this,n=Jt({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=n,n.textContent=r.textContent,this.getGui().insertBefore(n,r),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let r=e.value;if(Vt(r)&&(r=""),r===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=r;const n=this.eCurrent;return Ee(e.valueFormatted)?n.textContent=e.valueFormatted:Ee(e.value)?n.textContent=r:en(n),!0}},_9=class extends fe{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,r=this.beans.gos.get("cellFlashDuration"),n=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+r,a=s+r+n,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const c=`ag-cell-${t}`,u=`${c}-animation`,{comp:h,eGui:{style:d}}=e;h.toggleCss(c,!0),h.toggleCss(u,!1),d.removeProperty("transition"),d.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),r)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const r of Object.keys(this.animations)){const n=this.animations[r],i=`ag-cell-${r}`,s=`${i}-animation`;for(const[o,a]of n){if(!o.isAlive()||!o.comp){n.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:u}=a,h=l==="flash"?c:u;if(!(e+15>=h)){t=Math.min(h,t??1/0);continue}const{comp:f,eGui:{style:p}}=o;switch(l){case"flash":f.toggleCss(i,!1),f.toggleCss(s,!0),p.transition=`background-color ${u-c}ms`,p.transitionDelay=`${c-e}ms`,t=Math.min(u,t??1/0),a.phase="fade";break;case"fade":f.toggleCss(i,!1),f.toggleCss(s,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),n.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const r=O6(e.cellPosition);t.cells[r]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function A9(e,t={}){const{cellFlashSvc:r}=e;r&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>r.flashCell(n,t))})}var D9={moduleName:"HighlightChanges",version:Me,beans:[_9],userComponents:{agAnimateShowChangeCellRenderer:F9,agAnimateSlideCellRenderer:T9},apiFunctions:{flashCells:A9}};function I9(e){return e.stateSvc?.getState()??{}}function O9(e,t,r){return e.stateSvc?.setState(t,r)}function Ow(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=L9(e)}return e.version=Me,e}function L9(e){return e.cellSelection=N9(e,"rangeSelection"),e}function N9(e,t){if(e&&typeof e=="object")return e[t]}var B9=class extends fe{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=mr(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=mr(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=mr(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=er(this.gos);const e=Ow(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const r=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>r(()=>this.setupStateOnGridReady(e)));const[n,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(n(),r(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{i?.(),r(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),r(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const r=Ow(e);delete r.partialColumnState,this.cachedState=r,this.startSuppressEvents();const n="api",i=t?new Set(t):void 0;this.setGridReadyState(r,n,i),this.setColumnsInitialisedState(r,n,!1,i),this.setRowCountState(r,n,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(r,n,i),this.stopSuppressEvents(n)})}setGridReadyState(e,t,r){t==="api"&&!r?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,r,n){this.setColumnState(e,t,r,n),this.setColumnGroupState(e,t,n),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const r=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:r("aggregation"),columnMoved:r("columnOrder"),columnPinned:r("columnPinning"),columnResized:r("columnSizing"),columnVisible:r("columnVisibility"),columnPivotChanged:r("pivot"),columnPivotModeChanged:r("pivot"),columnRowGroupChanged:r("rowGroup"),sortChanged:r("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,r){const{filter:n,rowGroupExpansion:i,rowSelection:s,pagination:o}=e,a=(c,u)=>!r?.has(c)&&(u||t==="api");a("filter",n)&&this.setFilterState(n),a("rowGroupExpansion",i)&&this.setRowGroupExpansionState(i,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),r=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},n=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:n,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(r)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:n})}setFirstDataRenderedState(e,t,r){const{scroll:n,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(h,d)=>!r?.has(h)&&(d||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",n)&&this.setScrollState(n),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const u=this.getRangeSelectionState();c("rangeSelection",u),c("cellSelection",u),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){const n=this.getRangeSelectionState();t("rangeSelection",n),t("cellSelection",n)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return LA(ud(e),e.colModel.isPivotMode())}setColumnState(e,t,r,n){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:u,columnOrder:h}=e,d=(H,G)=>!n?.has(H)&&(G||t==="api"),f={},p=H=>{let G=f[H];return G||(G={colId:H},f[H]=G,G)},m={},g=d("sort",i);g&&i?.sortModel.forEach(({colId:H,sort:G},D)=>{const k=p(H);k.sort=G,k.sortIndex=D}),(g||!r)&&(m.sort=null,m.sortIndex=null);const w=d("rowGroup",s);w&&s?.groupColIds.forEach((H,G)=>{const D=p(H);D.rowGroup=!0,D.rowGroupIndex=G}),(w||!r)&&(m.rowGroup=null,m.rowGroupIndex=null);const v=d("aggregation",o);v&&o?.aggregationModel.forEach(({colId:H,aggFunc:G})=>{p(H).aggFunc=G}),(v||!r)&&(m.aggFunc=null);const b=d("pivot",a);b&&(a?.pivotColIds.forEach((H,G)=>{const D=p(H);D.pivot=!0,D.pivotIndex=G}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(b||!r)&&(m.pivot=null,m.pivotIndex=null);const E=d("columnPinning",l);E&&(l?.leftColIds.forEach(H=>{p(H).pinned="left"}),l?.rightColIds.forEach(H=>{p(H).pinned="right"})),(E||!r)&&(m.pinned=null);const P=d("columnVisibility",c);P&&c?.hiddenColIds.forEach(H=>{p(H).hide=!0}),(P||!r)&&(m.hide=null);const A=d("columnSizing",u);A&&u?.columnSizingModel.forEach(({colId:H,flex:G,width:D})=>{const k=p(H);k.flex=G??null,k.width=D}),(A||!r)&&(m.flex=null);const L=h?.orderedColIds,T=!!L?.length&&!n?.has("columnOrder"),B=T?L.map(H=>p(H)):Object.values(f);B.length&&(this.columnStates=B,Pn(this.beans,{state:B,applyOrder:T,defaultState:m},t))}setColumnPivotState(e,t){const r=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(r){const a=[];for(const l of r)s.getPivotResultCol(l.colId)&&a.push(l);Pn(i,{state:a,applyOrder:e},t)}n&&o?.setColumnGroupState(n,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return NA(t)}setColumnGroupState(e,t,r){const n=this.beans.colGroupSvc;if(!n||r?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=n.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});i.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),n.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const r=e?.getFilterState(),n=e?.getAdvFilterModel()??void 0;return t||n||r?{filterModel:t,columnFilterState:r,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:r,columnFilterState:n,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(r!==void 0||n!==void 0)&&t?.setFilterState(r??null,n??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:r,type:n,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:r,type:n,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:r,colModel:n,visibleCols:i}=this.beans;if(!rs(t)||!r)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const u=n.getCol(c);u&&a.push(u)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){const c=i.allCols,u=new Set(a);l=c.find(h=>u.has(h))}s.push({...o,columns:a,startColumn:l})}),r.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:r}=e?.getVScrollPosition()??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:r}=e??{top:0,left:0},{frameworkOverrides:n,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;n.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(r),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:r}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:n,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:r.getCol(n),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const r=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!r&&!n))return{page:r,pageSize:n}}setPaginationState(e,t){const{pagination:r,gos:n}=this.beans;if(!r)return;const{pageSize:i,page:s}=e??{page:0,pageSize:n.get("paginationPageSize")},o=t==="gridInitializing";i&&!n.get("paginationAutoPageSize")&&r.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?r.setPage(s):r.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const r=[];return t.forEachNode(({expanded:n,id:i})=>{n&&i&&r.push(i)}),r.length?{expandedRowGroupIds:r}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const r=this.beans.expansionSvc;if(!r)return;const n=e?.expandedRowGroupIds??[];let i;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of n)o.delete(a);i=Array.from(o)}}r.expandRows(n,i)}updateColumnState(e){const t=this.getColumnState();let r=!1;const n=this.cachedState;for(const i of Object.keys(t)){const s=t[i];_l(s,n[i])||(r=!0)}this.cachedState={...n,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),_l(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},H9={moduleName:"GridState",version:Me,beans:[B9],apiFunctions:{getState:I9,setState:O9}};function V9(e){return e.rowModel.isLastRowIndexKnown()}function G9(e){return e.pagination?.getPageSize()??100}function z9(e){return e.pagination?.getCurrentPage()??0}function j9(e){return e.pagination?.getTotalPages()??1}function W9(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function U9(e){e.pagination?.goToNextPage()}function $9(e){e.pagination?.goToPreviousPage()}function K9(e){e.pagination?.goToFirstPage()}function q9(e){e.pagination?.goToLastPage()}function X9(e,t){e.pagination?.goToPage(t)}var Y9=class extends fe{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,r=()=>{const n=Math.max(As(t),1),i=Math.floor(e/n);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?mr(this,r,50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Va="paginationPageSizeSelector",Z9={tag:"span",cls:"ag-paging-page-size"},Q9=class extends Dt{constructor(){super(Z9),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Va,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){en(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Va)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),r=!t||!e.includes(t);if(r){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(Va)!==!0;we(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||we(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Va}),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(io(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),i=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Wm).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Va);return!Array.isArray(t)||!t?.length?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},J9={selector:"AG-PAGE-SIZE-SELECTOR",component:Q9},eO=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",tO=class extends SP{constructor(){super(),this.btFirst=ze,this.btPrevious=ze,this.btNext=ze,this.btLast=ze,this.lbRecordCount=ze,this.lbFirstRowOnPage=ze,this.lbLastRowOnPage=ze,this.lbCurrent=ze,this.lbTotal=ze,this.pageSizeComp=ze,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(eO)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[J9]);const{btFirst:t,btPrevious:r,btNext:n,btLast:i}=this;this.activateTabIndex([t,r,n,i]),t.insertAdjacentElement("afterbegin",fn(e?"last":"first",this.beans)),r.insertAdjacentElement("afterbegin",fn(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",fn(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",fn(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):i5(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===de.ENTER||n.key===de.SPACE)&&(n.preventDefault(),r())}})}),n5(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):UA(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===r-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Ck(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),r=this.pagination.getMasterRowCount(),n=e?r:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>n&&(a=n));const l=o+s-1,c=!e&&r<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let h;const d=this.getLocaleTextFunc();c?h=d("pageLastRowUnknown","?"):h=this.formatNumber(a),this.lbLastRowOnPage.textContent=h;const p=t>0?i+1:0,m=this.formatNumber(p);this.lbCurrent.textContent=m;let g,w;if(e)g=this.formatNumber(t),w=this.formatNumber(n);else{const v=d("more","more");g=v,w=v}this.lbTotal.textContent=g,this.lbRecordCount.textContent=w,this.announceAriaStatus(u,h,w,m,g)}announceAriaStatus(e,t,r,n,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${r}`,u=`${o} ${n} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,"paginationPage"))}},rO={selector:"AG-PAGINATION",component:tO},nO=class extends fe{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return rO}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:r}=this.beans;r?.isEditing()&&(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ee(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ee(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ee(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ee(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const r=this.pageSize,n=t-1;this.totalPages=Math.floor(n/r)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=r*i;let o=r*(i+1)-1;if(o>n&&(o=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:r}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*r,this.bottomDisplayedRowIndex=t*(r+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},iO={moduleName:"Pagination",version:Me,beans:[nO,Y9],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:V9,paginationGetPageSize:G9,paginationGetCurrentPage:z9,paginationGetTotalPages:j9,paginationGetRowCount:W9,paginationGoToNextPage:U9,paginationGoToPreviousPage:$9,paginationGoToFirstPage:K9,paginationGoToLastPage:q9,paginationGoToPage:X9},dependsOn:[eh]};function sO(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function D2(e,t,r,n,i){t&&(n&&t.parent&&t.parent.level!==-1&&D2(e,t.parent,r,n,i),t.setExpanded(r,void 0,i))}function oO(e,t){return e.rowModel.getRowNode(t)}function aO(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function lO(e){return e.rowRenderer.getRenderedNodes()}function cO(e,t,r){e.rowModel.forEachNode(t,r)}function uO(e){return e.rowRenderer.firstRenderedRow}function dO(e){return e.rowRenderer.lastRenderedRow}function hO(e,t){return e.rowModel.getRow(t)}function fO(e){return e.rowModel.getRowCount()}var pO={moduleName:"RowApi",version:Me,apiFunctions:{redrawRows:sO,setRowNodeExpanded:D2,getRowNode:oO,addRenderedRowListener:aO,getRenderedNodes:lO,forEachNode:cO,getFirstDisplayedRowIndex:uO,getLastDisplayedRowIndex:dO,getDisplayedRowAtIndex:hO,getDisplayedRowCount:fO}},gO={moduleName:"ScrollApi",version:Me,apiFunctions:{getVerticalPixelRange:NI,getHorizontalPixelRange:BI,ensureColumnVisible:R2,ensureIndexVisible:E2,ensureNodeVisible:HI}};function mO(e,t,r){if(!t)return;const n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;r===null?n.removeAttribute(i):n.setAttribute(i,r)}function vO(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function wO(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function bO(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function yO(e){e.animationFrameSvc?.flushAllFrames()}function CO(e){return{rowHeight:As(e),headerHeight:ic(e)}}function SO(e,t={}){const r=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&r.push(Nl(o))}),t.columns?.length)return r;const n=[],i=Yp(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!Zp(s.rowNode,i)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&n.push(Nl(l))}}),[...n,...r]}var xO={moduleName:"RenderApi",version:Me,apiFunctions:{setGridAriaProperty:mO,refreshCells:vO,refreshHeader:wO,isAnimationFrameQueueEmpty:bO,flushAllAnimationFrames:yO,getSizesForCurrentTheme:CO,getCellRendererInstances:SO}};function RO(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function I2({colAutosize:e,visibleCols:t},r,n){Array.isArray(r)?e?.autoSizeCols({colKeys:r,skipHeader:n,source:"api"}):e?.autoSizeCols({colKeys:r.colIds??t.allCols,skipHeader:r.skipHeader,defaultMaxWidth:r.defaultMaxWidth,defaultMinWidth:r.defaultMinWidth,columnLimits:r.columnLimits,source:"api"})}function EO(e,t){t&&typeof t=="object"?I2(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var kO=class extends fe{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:i,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:u,colModel:h,autoWidthCalc:d,visibleCols:f}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&u&&!u.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const p=[];let m=-1;const g=Object.fromEntries(a.map(({colId:b,maxWidth:E,minWidth:P})=>[b,{maxWidth:E,minWidth:P}])),w=r??this.gos.get("skipHeaderOnAutoSize"),v=n??w;for(;m!==0;){m=0;const b=[];t.forEach(E=>{if(!E||C4(E))return;const P=h.getCol(E);if(!P||p.indexOf(P)>=0)return;const A=d.getPreferredWidthForColumn(P,w);if(A>0){const L=g[P.colId]??{};L.minWidth??(L.minWidth=o),L.maxWidth??(L.maxWidth=s);const T=FO(P,A,L);P.setActualWidth(T,l),p.push(P),m++}b.push(P)}),b.length&&f.refresh(l)}v||this.autoSizeColumnGroupsByColumns(t,l,i),ua(this.eventSvc,p,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const{colModel:n,ctrlsSvc:i}=this.beans,s=new Set;n.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=r;)u.isPadding()||s.add(u),u=u.getParent()});let a;const l=[];for(const c of s){for(const u of i.getHeaderRowContainerCtrls())if(a=u.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const r=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",r)};e.addEventListener("dblclick",n);const i=new ys(e);return i.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),i.removeEventListener("doubleTap",n),i.destroy()}}addColumnGroupResize(e,t,r){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),r()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:r,scrollVisibleSvc:n}=this.beans,i=r.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?n.getScrollbarWidth():0,l=Il(i.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):we(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const i={};n&&n?.columnLimits?.forEach(({key:f,...p})=>{i[typeof f=="string"?f:f.getColId()]=p});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===si(s)&&s.every(p=>{if(p.colDef.suppressSizeToFit)return!0;const m=i?.[p.getId()],g=m?.minWidth??n?.defaultMinWidth,w=m?.maxWidth??n?.defaultMaxWidth,v=p.getActualWidth();return(g==null||v>=g)&&(w==null||v<=w)}))return;const a=[],l=[];s.forEach(f=>{f.getColDef().suppressSizeToFit===!0?l.push(f):a.push(f)});const c=a.slice(0);let u=!1;const h=f=>{wn(a,f),l.push(f)};for(a.forEach(f=>{f.resetActualWidth(t);const p=i?.[f.getId()],m=p?.minWidth??n?.defaultMinWidth,g=p?.maxWidth??n?.defaultMaxWidth,w=f.getActualWidth();typeof m=="number"&&w<m?f.setActualWidth(m,t,!0):typeof g=="number"&&w>g&&f.setActualWidth(g,t,!0)});!u;){u=!0;const f=e-si(l);if(f<=0)a.forEach(p=>{const m=i?.[p.getId()]?.minWidth??n?.defaultMinWidth;if(typeof m=="number"){p.setActualWidth(m,t,!0);return}p.setActualWidth(p.minWidth,t)});else{const p=f/si(a);let m=f;for(let g=a.length-1;g>=0;g--){const w=a[g],v=i?.[w.getId()],b=v?.minWidth??n?.defaultMinWidth,E=v?.maxWidth??n?.defaultMaxWidth,P=w.getMinWidth(),A=w.getMaxWidth(),L=typeof b=="number"&&b>P?b:P,T=typeof E=="number"&&E<A?E:A;let B=Math.round(w.getActualWidth()*p);B<L?(B=L,h(w),u=!1):B>T?(B=T,h(w),u=!1):g===0&&(B=m),w.setActualWidth(B,t,!0),m-=B}}}c.forEach(f=>{f.fireColumnWidthChangedEvent(t)});const d=this.beans.visibleCols;d.setLeftValues(t),d.updateBodyWidths(),!r&&ua(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:i}=e,s=r?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:r,defaultMaxWidth:n,defaultMinWidth:i,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:r,source:"autosizeColumns",defaultMaxWidth:n,defaultMinWidth:i,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function FO(e,t,r={}){const n=r.minWidth??e.getMinWidth();t<n&&(t=n);const i=r.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}var PO={moduleName:"ColumnAutoSize",version:Me,beans:[kO],apiFunctions:{sizeColumnsToFit:RO,autoSizeColumns:I2,autoSizeAllColumns:EO},dependsOn:[LS]},MO=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function TO(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function _O(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function AO(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function DO(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function IO(e,t,r){return e.pinnedRowModel?.forEachPinnedRow(t,r)}var OO={moduleName:"PinnedRow",version:Me,beans:[rP],css:[MO],apiFunctions:{getPinnedTopRowCount:TO,getPinnedBottomRowCount:_O,getPinnedTopRow:AO,getPinnedBottomRow:DO,forEachPinnedRow:IO},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},LO=class extends Xo{constructor(e,t,r){super(e.col,e.firstNode,r,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,r,n,i,s,o){this.eWrapper=r,super.setComp(e,t,r,n,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&WC(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){Ek(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(qd(t)){this.focusedCellPosition=void 0;return}const r=this.isCellFocused();r||(this.focusedCellPosition=void 0),e&&r&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},NO=class extends wd{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new LO(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},BO=class extends fe{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,r=`${e}Ctrls`,n=this[r],i=n.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of s)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(u,h)=>{if(o.has(h.firstNode))return;const d=n.get(h.firstNode);if(d){o.set(h.firstNode,d),n.delete(h.firstNode);return}a=!0;const f=new NO(h.firstNode,this.beans,!1,!1,!1);o.set(h.firstNode,f)});this[r]=o;const l=o.size===i;if(!(!a&&l)){for(const c of n.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,r=t?.getCellSpanByPosition(e);if(!r)return;const n=`${O2(e.rowPinned)}Ctrls`,i=this[n].get(r.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const r of this[t].values())r.destroyFirstPass(!0),r.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},O2=e=>e??"center",HO=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(r=>{r!==this.lastNode&&(t+=r.rowHeight)}),e-t}},VO=class extends fe{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:r,pinnedRowModel:n,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,u=r.getCallback("isFullWidthRow"),h=a.equals,d=a.spanRows,f=typeof d=="function";let p=null,m=null,g;const w=(b,E)=>{p=b,m=null,g=E},v=b=>{const E=!b.isExpandable()&&!b.group&&!b.detail&&(u?!u({rowNode:b}):!0);if(b.rowIndex==null||!E){w(null,null);return}if(p==null||b.level!==p.level||b.footer||m&&b.rowIndex-1!==m?.getLastNode().rowIndex){w(b,s.getValue(t,b));return}const P=s.getValue(t,b);if(f){const A=Ue(r,{valueA:g,nodeA:p,valueB:P,nodeB:b,column:t,colDef:a});if(!d(A)){w(b,P);return}}else if(h?!h(g,P):g!==P){w(b,P);return}if(!m){const A=l?.get(p);A?.firstNode===p?(A.reset(),m=A):m=new HO(t,p),c.set(p,m)}m.addSpannedNode(b),c.set(b,m)};switch(e){case"center":i.forEachDisplayedNode?.(b=>{(!o||o.isRowInPage(b.rowIndex))&&v(b)});break;case"top":n?.forEachPinnedRow("top",v);break;case"bottom":n?.forEachPinnedRow("bottom",v);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${O2(e.rowPinned)}ValueNodeMap`].get(e)}},GO=class extends fe{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=mr(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=mr(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const r=this.createManagedBean(new VO(e));this.spanningColumns.set(e,r),r.buildCache("top"),r.buildCache("bottom"),r.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const r=this.spanningColumns.get(e);return r?r.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:r}=this.beans,n=e.column,i=e.rowIndex,s=this.spanningColumns.get(n);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=r.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const r=this.spanningColumns.get(e);if(r)return r.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[r,n]of this.spanningColumns)if(n.isCellSpanning(e)){const i=n.getCellSpan(e);t(r,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},zO={moduleName:"CellSpan",version:Me,beans:[GO,BO]},jO=class extends fe{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,r=e.colDef,n=r.cellClassRules,i=this.getCellClassParams(e,r);Om(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=n}applyUserStyles(){const e=this.column,t=e.colDef,r=t.cellStyle;if(!r)return;let n;if(typeof r=="function"){const i=this.getCellClassParams(e,t);n=r(i)}else n=r;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,r=e.colDef,n=this.getCellClassParams(e,r);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(r,n);this.staticClasses=i,i.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:r,rowNode:n}=this.cellCtrl;return Ue(this.beans.gos,{value:r,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},WO=class extends fe{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,r,n){Om(this.beans.expressionSvc,void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new jO(e,t)}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(i=>{r(i)})}},UO={moduleName:"CellStyle",version:Me,beans:[WO]},$O={moduleName:"RowStyle",version:Me,beans:[X5]};function KO(e,t){return!!e.colHover?.isHovered(t)}var qO=class extends fe{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=r=>{const{beans:n,gos:i,element:s,columns:o}=this,a=n.colHover;r??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},XO="ag-column-hover",YO=class extends fe{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,r){const n=()=>{const i=this.isHovered(r);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t)return;const r=this.isHovered(e);t.toggleCss(XO,r)}addHeaderFilterColumnHoverListener(e,t,r,n){this.createHoverFeature(e,[r],n);const i=()=>{const s=this.isHovered(r);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,r){e.createManagedBean(new qO(t,r))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},ZO={moduleName:"ColumnHover",version:Me,beans:[YO],apiFunctions:{isColumnHovered:KO}},QO=class extends fe{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const r=this.wrapSvc?.wrap(e,t)??t,n=!xu.has(e),i=n?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(r),this.eventSvc.addEventListener(e,r,n)}removeEventListener(e,t){const r=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(r);i||this.syncListeners.get(e)?.delete(r),this.eventSvc.removeEventListener(e,r,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,r=(s,o)=>{xu.has(s)&&t(s,o)},n=(s,o)=>{xu.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:r,asyncListener:n});const i=this.eventSvc;i.addGlobalListener(r,!1),i.addGlobalListener(n,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:r,globalListenerPairs:n}=this,i=r?.unwrapGlobal(e)??e;if(n.has(i)){const{syncListener:o,asyncListener:a}=n.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),n.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(i=>this.eventSvc.removeEventListener(n,i,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventSvc.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:r,asyncListener:n})=>{t.removeGlobalListener(r,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function JO(e,t,r){e.apiEventSvc?.addEventListener(t,r)}function eL(e,t,r){e.apiEventSvc?.removeEventListener(t,r)}function tL(e,t){e.apiEventSvc?.addGlobalListener(t)}function rL(e,t){e.apiEventSvc?.removeGlobalListener(t)}var nL={moduleName:"EventApi",version:Me,apiFunctions:{addEventListener:JO,addGlobalListener:tL,removeEventListener:eL,removeGlobalListener:rL},beans:[QO]},iL={moduleName:"Locale",version:Me,beans:[OA]},sL=class extends fe{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=mr(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:r,pinnedRowModel:n}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let c=ts(this.beans,a).height;for(const u of i){let h=l?.[u.getColId()];const d=r?.getCellSpan(u,a);if(d){if(d.getLastNode()!==a)continue;if(h=r?.getCellSpan(u,a)?.getLastNodeAutoHeight(),!h)return}if(h==null){if(this.colSpanSkipCell(u,a))continue;return}c=Math.max(h,c)}c!==a.rowHeight&&(a.setRowHeight(c),s=!0)};n?.forEachPinnedRow?.("top",o),n?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,r){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[r.getId()];return}const n=e.__autoHeights[r.getId()];e.__autoHeights[r.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:r,colViewport:n,visibleCols:i}=this.beans;if(!r.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=n.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,r){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const n=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=u=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!r.isAlive())return;const{paddingTop:h,paddingBottom:d,borderBottomWidth:f,borderTopWidth:p}=to(n),m=h+d+f+p,w=t.offsetHeight+m;if(u<5){const v=hr(o),b=!v||!v.contains(t),E=w==0;if(b||E){window.setTimeout(()=>a(u+1),0);return}}this.setRowAutoHeight(i,w,s)},l=()=>a(0);l();const c=Ri(o,t,l);return r.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:r}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(r).filter(i=>i.isAutoHeight())),t.length!==0){if(!r.__autoHeights)return!1;for(const n of t){const i=r.__autoHeights[n.getColId()];if(!i||r.rowHeight<i)return!1}}return!0}},oL={moduleName:"RowAutoHeight",version:Me,beans:[sL]},aL={moduleName:"AllCommunity",version:Me,dependsOn:[s9,f9,x9,oD,u7,d7,h7,f7,p7,g7,m7,c7,cI,uI,dI,lI,fI,pI,H9,G7,iO,NS,pO,gO,xO,PO,rM,OO,_7,vA,UO,ZO,$O,nL,yA,D9,x2,iL,oL,tM,o9,zO]};function Tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function sc(e,t=[]){let r=[];function n(s,o){const a=U.createContext(o),l=r.length;r=[...r,o];const c=h=>{const{scope:d,children:f,...p}=h,m=d?.[e]?.[l]||a,g=U.useMemo(()=>p,Object.values(p));return J.jsx(m.Provider,{value:g,children:f})};c.displayName=s+"Provider";function u(h,d){const f=d?.[e]?.[l]||a,p=U.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(o=>U.createContext(o));return function(a){const l=a?.[e]||s;return U.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[n,lL(i,...t)]}function lL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return U.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Lw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function L2(...e){return t=>{let r=!1;const n=e.map(i=>{const s=Lw(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Lw(e[i],null)}}}}function ar(...e){return U.useCallback(L2(...e),e)}function Wl(e){const t=uL(e),r=U.forwardRef((n,i)=>{const{children:s,...o}=n,a=U.Children.toArray(s),l=a.find(hL);if(l){const c=l.props.children,u=a.map(h=>h===l?U.Children.count(c)>1?U.Children.only(null):U.isValidElement(c)?c.props.children:null:h);return J.jsx(t,{...o,ref:i,children:U.isValidElement(c)?U.cloneElement(c,void 0,u):null})}return J.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var cL=Wl("Slot");function uL(e){const t=U.forwardRef((r,n)=>{const{children:i,...s}=r;if(U.isValidElement(i)){const o=pL(i),a=fL(s,i.props);return i.type!==U.Fragment&&(a.ref=n?L2(n,o):o),U.cloneElement(i,a)}return U.Children.count(i)>1?U.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dL=Symbol("radix.slottable");function hL(e){return U.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dL}function fL(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function pL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function N2(e){const t=e+"CollectionProvider",[r,n]=sc(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:w}=m,v=ye.useRef(null),b=ye.useRef(new Map).current;return J.jsx(i,{scope:g,itemMap:b,collectionRef:v,children:w})};o.displayName=t;const a=e+"CollectionSlot",l=Wl(a),c=ye.forwardRef((m,g)=>{const{scope:w,children:v}=m,b=s(a,w),E=ar(g,b.collectionRef);return J.jsx(l,{ref:E,children:v})});c.displayName=a;const u=e+"CollectionItemSlot",h="data-radix-collection-item",d=Wl(u),f=ye.forwardRef((m,g)=>{const{scope:w,children:v,...b}=m,E=ye.useRef(null),P=ar(g,E),A=s(u,w);return ye.useEffect(()=>(A.itemMap.set(E,{ref:E,...b}),()=>void A.itemMap.delete(E))),J.jsx(d,{[h]:"",ref:P,children:v})});f.displayName=u;function p(m){const g=s(e+"CollectionConsumer",m);return ye.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((A,L)=>b.indexOf(A.ref.current)-b.indexOf(L.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,n]}var kr=globalThis?.document?U.useLayoutEffect:()=>{},gL=_b[" useId ".trim().toString()]||(()=>{}),mL=0;function oc(e){const[t,r]=U.useState(gL());return kr(()=>{r(n=>n??String(mL++))},[e]),e||(t?`radix-${t}`:"")}var vL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],It=vL.reduce((e,t)=>{const r=Wl(`Primitive.${t}`),n=U.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),J.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wL(e,t){e&&xi.flushSync(()=>e.dispatchEvent(t))}function is(e){const t=U.useRef(e);return U.useEffect(()=>{t.current=e}),U.useMemo(()=>(...r)=>t.current?.(...r),[])}var bL=_b[" useInsertionEffect ".trim().toString()]||kr;function Sd({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=yL({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:i;{const u=U.useRef(e!==void 0);U.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=U.useCallback(u=>{if(a){const h=CL(u)?u(e):u;h!==e&&o.current?.(h)}else s(u)},[a,e,s,o]);return[l,c]}function yL({defaultProp:e,onChange:t}){const[r,n]=U.useState(e),i=U.useRef(r),s=U.useRef(t);return bL(()=>{s.current=t},[t]),U.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function CL(e){return typeof e=="function"}var SL=U.createContext(void 0);function rv(e){const t=U.useContext(SL);return e||t||"ltr"}var vf="rovingFocusGroup.onEntryFocus",xL={bubbles:!1,cancelable:!0},ac="RovingFocusGroup",[tg,B2,RL]=N2(ac),[EL,H2]=sc(ac,[RL]),[kL,FL]=EL(ac),V2=U.forwardRef((e,t)=>J.jsx(tg.Provider,{scope:e.__scopeRovingFocusGroup,children:J.jsx(tg.Slot,{scope:e.__scopeRovingFocusGroup,children:J.jsx(PL,{...e,ref:t})})}));V2.displayName=ac;var PL=U.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,d=U.useRef(null),f=ar(t,d),p=rv(s),[m,g]=Sd({prop:o,defaultProp:a??null,onChange:l,caller:ac}),[w,v]=U.useState(!1),b=is(c),E=B2(r),P=U.useRef(!1),[A,L]=U.useState(0);return U.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(vf,b),()=>T.removeEventListener(vf,b)},[b]),J.jsx(kL,{scope:r,orientation:n,dir:p,loop:i,currentTabStopId:m,onItemFocus:U.useCallback(T=>g(T),[g]),onItemShiftTab:U.useCallback(()=>v(!0),[]),onFocusableItemAdd:U.useCallback(()=>L(T=>T+1),[]),onFocusableItemRemove:U.useCallback(()=>L(T=>T-1),[]),children:J.jsx(It.div,{tabIndex:w||A===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:Tt(e.onMouseDown,()=>{P.current=!0}),onFocus:Tt(e.onFocus,T=>{const B=!P.current;if(T.target===T.currentTarget&&B&&!w){const H=new CustomEvent(vf,xL);if(T.currentTarget.dispatchEvent(H),!H.defaultPrevented){const G=E().filter(y=>y.focusable),D=G.find(y=>y.active),k=G.find(y=>y.id===m),R=[D,k,...G].filter(Boolean).map(y=>y.ref.current);j2(R,u)}}P.current=!1}),onBlur:Tt(e.onBlur,()=>v(!1))})})}),G2="RovingFocusGroupItem",z2=U.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...a}=e,l=oc(),c=s||l,u=FL(G2,r),h=u.currentTabStopId===c,d=B2(r),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:m}=u;return U.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),J.jsx(tg.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:J.jsx(It.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:Tt(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Tt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Tt(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const w=_L(g,u.orientation,u.dir);if(w!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=d().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const E=b.indexOf(g.currentTarget);b=u.loop?AL(b,E+1):b.slice(E+1)}setTimeout(()=>j2(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});z2.displayName=G2;var ML={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _L(e,t,r){const n=TL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ML[n]}function j2(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function AL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var DL=V2,IL=z2;function OL(e,t){return U.useReducer((r,n)=>t[r][n]??r,e)}var W2=e=>{const{present:t,children:r}=e,n=LL(t),i=typeof r=="function"?r({present:n.isPresent}):U.Children.only(r),s=ar(n.ref,NL(i));return typeof r=="function"||n.isPresent?U.cloneElement(i,{ref:s}):null};W2.displayName="Presence";function LL(e){const[t,r]=U.useState(),n=U.useRef(null),i=U.useRef(e),s=U.useRef("none"),o=e?"mounted":"unmounted",[a,l]=OL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const c=$c(n.current);s.current=a==="mounted"?c:"none"},[a]),kr(()=>{const c=n.current,u=i.current;if(u!==e){const d=s.current,f=$c(c);e?l("MOUNT"):f==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),kr(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=f=>{const m=$c(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},d=f=>{f.target===t&&(s.current=$c(n.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:U.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function $c(e){return e?.animationName||"none"}function NL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nh="Tabs",[BL,bz]=sc(nh,[H2]),U2=H2(),[HL,nv]=BL(nh),$2=U.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=rv(a),[h,d]=Sd({prop:n,onChange:i,defaultProp:s??"",caller:nh});return J.jsx(HL,{scope:r,baseId:oc(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:J.jsx(It.div,{dir:u,"data-orientation":o,...c,ref:t})})});$2.displayName=nh;var K2="TabsList",q2=U.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=nv(K2,r),o=U2(r);return J.jsx(DL,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:J.jsx(It.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});q2.displayName=K2;var X2="TabsTrigger",Y2=U.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=nv(X2,r),a=U2(r),l=J2(o.baseId,n),c=ex(o.baseId,n),u=n===o.value;return J.jsx(IL,{asChild:!0,...a,focusable:!i,active:u,children:J.jsx(It.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:Tt(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Tt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Tt(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(n)})})})});Y2.displayName=X2;var Z2="TabsContent",Q2=U.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,a=nv(Z2,r),l=J2(a.baseId,n),c=ex(a.baseId,n),u=n===a.value,h=U.useRef(u);return U.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),J.jsx(W2,{present:i||u,children:({present:d})=>J.jsx(It.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});Q2.displayName=Z2;function J2(e,t){return`${e}-trigger-${t}`}function ex(e,t){return`${e}-content-${t}`}var VL=$2,GL=q2,zL=Y2,jL=Q2;function tx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=tx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rx(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=tx(e))&&(n&&(n+=" "),n+=t);return n}const iv="-",WL=e=>{const t=$L(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(iv);return a[0]===""&&a.length!==1&&a.shift(),nx(a,t)||UL(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},nx=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?nx(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(iv);return t.validators.find(({validator:o})=>o(s))?.classGroupId},Nw=/^\[(.+)\]$/,UL=e=>{if(Nw.test(e)){const t=Nw.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$L=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)rg(r[i],n,i,t);return n},rg=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Bw(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(KL(i)){rg(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{rg(o,Bw(t,s),r,n)})})},Bw=(e,t)=>{let r=e;return t.split(iv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KL=e=>e.isThemeGetter,qL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},ng="!",ig=":",XL=ig.length,YL=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const s=[];let o=0,a=0,l=0,c;for(let p=0;p<i.length;p++){let m=i[p];if(o===0&&a===0){if(m===ig){s.push(i.slice(l,p)),l=p+XL;continue}if(m==="/"){c=p;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const u=s.length===0?i:i.substring(l),h=ZL(u),d=h!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}};if(t){const i=t+ig,s=n;n=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},ZL=e=>e.endsWith(ng)?e.substring(0,e.length-1):e.startsWith(ng)?e.substring(1):e,QL=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(o=>{o[0]==="["||t[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},JL=e=>({cache:qL(e.cacheSize),parseClassName:YL(e),sortModifiers:QL(e),...WL(e)}),eN=/\s+/,tN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(eN);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:h,modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=r(u);if(h){l=u+(l.length>0?" "+l:l);continue}let g=!!m,w=n(g?p.substring(0,m):p);if(!w){if(!g){l=u+(l.length>0?" "+l:l);continue}if(w=n(p),!w){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=s(d).join(":"),b=f?v+ng:v,E=b+w;if(o.includes(E))continue;o.push(E);const P=i(w,g);for(let A=0;A<P.length;++A){const L=P[A];o.push(b+L)}l=u+(l.length>0?" "+l:l)}return l};function rN(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ix(t))&&(n&&(n+=" "),n+=r);return n}const ix=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ix(e[n]))&&(r&&(r+=" "),r+=t);return r};function nN(e,...t){let r,n,i,s=o;function o(l){const c=t.reduce((u,h)=>h(u),e());return r=JL(c),n=r.cache.get,i=r.cache.set,s=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=tN(l,r);return i(l,u),u}return function(){return s(rN.apply(null,arguments))}}const ir=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ox=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iN=/^\d+\/\d+$/,sN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=e=>iN.test(e),lt=e=>!!e&&!Number.isNaN(Number(e)),Di=e=>!!e&&Number.isInteger(Number(e)),wf=e=>e.endsWith("%")&&lt(e.slice(0,-1)),ri=e=>sN.test(e),uN=()=>!0,dN=e=>oN.test(e)&&!aN.test(e),ax=()=>!1,hN=e=>lN.test(e),fN=e=>cN.test(e),pN=e=>!Ne(e)&&!Be(e),gN=e=>Ca(e,ux,ax),Ne=e=>sx.test(e),ms=e=>Ca(e,dx,dN),bf=e=>Ca(e,yN,lt),Hw=e=>Ca(e,lx,ax),mN=e=>Ca(e,cx,fN),Kc=e=>Ca(e,hx,hN),Be=e=>ox.test(e),Ga=e=>Sa(e,dx),vN=e=>Sa(e,CN),Vw=e=>Sa(e,lx),wN=e=>Sa(e,ux),bN=e=>Sa(e,cx),qc=e=>Sa(e,hx,!0),Ca=(e,t,r)=>{const n=sx.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Sa=(e,t,r=!1)=>{const n=ox.exec(e);return n?n[1]?t(n[1]):r:!1},lx=e=>e==="position"||e==="percentage",cx=e=>e==="image"||e==="url",ux=e=>e==="length"||e==="size"||e==="bg-size",dx=e=>e==="length",yN=e=>e==="number",CN=e=>e==="family-name",hx=e=>e==="shadow",SN=()=>{const e=ir("color"),t=ir("font"),r=ir("text"),n=ir("font-weight"),i=ir("tracking"),s=ir("leading"),o=ir("breakpoint"),a=ir("container"),l=ir("spacing"),c=ir("radius"),u=ir("shadow"),h=ir("inset-shadow"),d=ir("text-shadow"),f=ir("drop-shadow"),p=ir("blur"),m=ir("perspective"),g=ir("aspect"),w=ir("ease"),v=ir("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...E(),Be,Ne],A=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],T=()=>[Be,Ne,l],B=()=>[mo,"full","auto",...T()],H=()=>[Di,"none","subgrid",Be,Ne],G=()=>["auto",{span:["full",Di,Be,Ne]},Di,Be,Ne],D=()=>[Di,"auto",Be,Ne],k=()=>["auto","min","max","fr",Be,Ne],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],y=()=>["auto",...T()],S=()=>[mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],C=()=>[e,Be,Ne],x=()=>[...E(),Vw,Hw,{position:[Be,Ne]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",wN,gN,{size:[Be,Ne]}],N=()=>[wf,Ga,ms],j=()=>["","none","full",c,Be,Ne],W=()=>["",lt,Ga,ms],q=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[lt,wf,Vw,Hw],I=()=>["","none",p,Be,Ne],_=()=>["none",lt,Be,Ne],z=()=>["none",lt,Be,Ne],K=()=>[lt,Be,Ne],Q=()=>[mo,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ri],breakpoint:[ri],color:[uN],container:[ri],"drop-shadow":[ri],ease:["in","out","in-out"],font:[pN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ri],shadow:[ri],spacing:["px",lt],text:[ri],"text-shadow":[ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mo,Ne,Be,g]}],container:["container"],columns:[{columns:[lt,Ne,Be,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[Di,"auto",Be,Ne]}],basis:[{basis:[mo,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,mo,"auto","initial","none",Ne]}],grow:[{grow:["",lt,Be,Ne]}],shrink:[{shrink:["",lt,Be,Ne]}],order:[{order:[Di,"first","last","none",Be,Ne]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:y()}],mx:[{mx:y()}],my:[{my:y()}],ms:[{ms:y()}],me:[{me:y()}],mt:[{mt:y()}],mr:[{mr:y()}],mb:[{mb:y()}],ml:[{ml:y()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:S()}],w:[{w:[a,"screen",...S()]}],"min-w":[{"min-w":[a,"screen","none",...S()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...S()]}],h:[{h:["screen","lh",...S()]}],"min-h":[{"min-h":["screen","lh","none",...S()]}],"max-h":[{"max-h":["screen","lh",...S()]}],"font-size":[{text:["base",r,Ga,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Be,bf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wf,Ne]}],"font-family":[{font:[vN,Ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Be,Ne]}],"line-clamp":[{"line-clamp":[lt,"none",Be,bf]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",Be,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Be,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",Be,ms]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[lt,"auto",Be,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:x()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Di,Be,Ne],radial:["",Be,Ne],conic:[Di,Be,Ne]},bN,mN]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:N()}],"gradient-via-pos":[{via:N()}],"gradient-to-pos":[{to:N()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,Be,Ne]}],"outline-w":[{outline:["",lt,Ga,ms]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,qc,Kc]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",h,qc,Kc]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[lt,ms]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",d,qc,Kc]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[lt,Be,Ne]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[Be,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:x()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Be,Ne]}],filter:[{filter:["","none",Be,Ne]}],blur:[{blur:I()}],brightness:[{brightness:[lt,Be,Ne]}],contrast:[{contrast:[lt,Be,Ne]}],"drop-shadow":[{"drop-shadow":["","none",f,qc,Kc]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",lt,Be,Ne]}],"hue-rotate":[{"hue-rotate":[lt,Be,Ne]}],invert:[{invert:["",lt,Be,Ne]}],saturate:[{saturate:[lt,Be,Ne]}],sepia:[{sepia:["",lt,Be,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Be,Ne]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[lt,Be,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[lt,Be,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,Be,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,Be,Ne]}],"backdrop-invert":[{"backdrop-invert":["",lt,Be,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[lt,Be,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[lt,Be,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,Be,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Be,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",Be,Ne]}],ease:[{ease:["linear","initial",w,Be,Ne]}],delay:[{delay:[lt,Be,Ne]}],animate:[{animate:["none",v,Be,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Be,Ne]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:_()}],"rotate-x":[{"rotate-x":_()}],"rotate-y":[{"rotate-y":_()}],"rotate-z":[{"rotate-z":_()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[Be,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Q()}],"translate-x":[{"translate-x":Q()}],"translate-y":[{"translate-y":Q()}],"translate-z":[{"translate-z":Q()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be,Ne]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[lt,Ga,ms,bf]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xN=nN(SN);function yr(...e){return xN(rx(e))}function fx({className:e,...t}){return J.jsx(VL,{"data-slot":"tabs",className:yr("flex flex-col gap-2",e),...t})}function px({className:e,...t}){return J.jsx(GL,{"data-slot":"tabs-list",className:yr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function an({className:e,...t}){return J.jsx(zL,{"data-slot":"tabs-trigger",className:yr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function yf({className:e,...t}){return J.jsx(jL,{"data-slot":"tabs-content",className:yr("flex-1 outline-none",e),...t})}var Fr=ye.createContext({}),gx=ye.createContext("default"),lc=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),r.appendChild(a),Gw(n,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),n&&Gw(n,void 0))}},Gw=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},ln=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),pn=class mx{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const i=new mx;return i.classesMap={...this.classesMap},i.classesMap[t]=r,i}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},xa=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},sg=ye.version?.split(".")[0],vx=sg==="16"||sg==="17";function RN(){return sg==="19"}var Ru=!1;function EN(e){return Ru||setTimeout(()=>Ru=!1,0),Ru=!0,e()}var Ul=(e,t)=>{!vx&&e&&!Ru?IC.flushSync(t):t()},kN=e=>{vx?e():ye.startTransition(e)};function FN(e,t,r){return ye.useSyncExternalStore?ye.useSyncExternalStore(e,t):r}function xd(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||i.push(l)}return n.length===e.length&&i.length===0?e:n.length===0&&i.length===t.length?t:n.length===0?i:i.length===0?n:[...n,...i]}var wx=U.forwardRef((e,t)=>{const{registry:r,context:n}=U.useContext(Fr),i=U.useRef(null),s=U.useRef(null),o=U.useRef(null),a=U.useRef(null),l=U.useRef(null),c=U.useRef(),[u,h]=U.useState(),[d,f]=U.useState(),[p,m]=U.useState(),[g,w]=U.useState(()=>new pn),[v,b]=U.useState(()=>new pn("ag-hidden")),[E,P]=U.useState(()=>new pn("ag-hidden")),[A,L]=U.useState(()=>new pn("ag-invisible"));U.useImperativeHandle(t,()=>({refresh(){return!1}})),U.useLayoutEffect(()=>lc(u,n,s.current),[u]);const T=U.useCallback(S=>{if(i.current=S,!S){c.current=n.destroyBean(c.current);return}const C={setInnerRenderer:(F,O)=>{h(F),m(O)},setChildCount:F=>f(F),toggleCss:(F,O)=>w(N=>N.setClass(F,O)),setContractedDisplayed:F=>P(O=>O.setClass("ag-hidden",!F)),setExpandedDisplayed:F=>b(O=>O.setClass("ag-hidden",!F)),setCheckboxVisible:F=>L(O=>O.setClass("ag-invisible",!F)),setCheckboxSpacing:F=>L(O=>O.setClass("ag-group-checkbox-spacing",F))},x=r.createDynamicBean("groupCellRendererCtrl",!0);x&&(c.current=n.createBean(x),c.current.init(C,S,o.current,a.current,l.current,wx,e))},[]),B=U.useMemo(()=>`ag-cell-wrapper ${g.toString()}`,[g]),H=U.useMemo(()=>`ag-group-expanded ${v.toString()}`,[v]),G=U.useMemo(()=>`ag-group-contracted ${E.toString()}`,[E]),D=U.useMemo(()=>`ag-group-checkbox ${A.toString()}`,[A]),k=u?.componentFromFramework,M=k?u.componentClass:void 0,R=u==null&&p!=null,y=wa(p);return ye.createElement("span",{className:B,ref:T,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},ye.createElement("span",{className:H,ref:a}),ye.createElement("span",{className:G,ref:l}),ye.createElement("span",{className:D,ref:o}),ye.createElement("span",{className:"ag-group-value",ref:s},R?y:k?ye.createElement(M,{...u.params}):null),ye.createElement("span",{className:"ag-group-child-count"},d))}),zw=wx,sv=U.createContext({setMethods:()=>{}}),PN=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:i}=e,[{key:s,...o},a]=U.useState(t);return U.useEffect(()=>{r(l=>a(l))},[]),ye.createElement(sv.Provider,{value:{setMethods:i}},ye.createElement(n,{key:s,...o}))},MN=U.memo(PN),TN=0;function jw(){return`agPortalKey_${++TN}`}var bx=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=jw(),this.portalKey=jw(),this.instanceCreated=this.isStatelessComponent()?gt.resolve(!1):new gt(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new gt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=xi.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return U.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function ih(e,t,r){e.forEach(n=>{const i=t[n];i&&(r[n]=i)})}var nn=class extends bx{constructor(){super(...arguments),this.awaitUpdateCallback=new gt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=MN}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new gt(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ih(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new gt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},_N=class extends nn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},AN=class extends nn{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},DN=class extends nn{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},IN=class extends nn{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new gt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new gt(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},ON=class extends nn{constructor(){super(...arguments),this.awaitSetMethodsCallback=new gt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function yx(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||gt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var LN=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ih(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),yx(this.floatingFilterParams,e)}},NN=class extends nn{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),yx(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},BN=class extends nn{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},HN=class extends nn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},VN=class extends nn{refresh(e){this.sourceParams=e,this.refreshProps()}},GN=class extends nn{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},zN=class extends nn{refresh(e){this.sourceParams=e,this.refreshProps()}},jN=class extends nn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},WN=class extends nn{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function ov(){we(231)}var UN=1e3,$N=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||UN}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Ul(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},KN=({ctrl:e})=>{const t=e.isAlive(),{context:r}=U.useContext(Fr),n=t?e.column.getColId():void 0,[i,s]=U.useState(),[o,a]=U.useState(),l=U.useRef(),c=U.useRef(null),u=U.useRef(null),h=U.useRef(null),d=U.useRef(),f=U.useRef();t&&!f.current&&(f.current=new tc(()=>c.current));const p=U.useCallback(v=>{if(c.current=v,l.current=v?r.createBean(new ba):r.destroyBean(l.current),!v||!e.isAlive())return;const b=()=>{const P=e.getSelectAllGui();P&&(u.current?.insertAdjacentElement("afterend",P),l.current.addDestroyFunc(()=>P.remove()))},E={setWidth:P=>{c.current&&(c.current.style.width=P)},toggleCss:(P,A)=>f.current.toggleCss(P,A),setUserStyles:P=>a(P),setAriaSort:P=>{c.current&&(P?Pk(c.current,P):Mk(c.current))},setUserCompDetails:P=>s(P),getUserCompInstance:()=>d.current||void 0,refreshSelectAllGui:b,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(E,v,u.current,h.current,l.current),b()},[]);U.useLayoutEffect(()=>lc(i,r,h.current,d),[i]),U.useEffect(()=>{e.setDragSource(c.current)},[i]);const m=U.useMemo(()=>!!(i?.componentFromFramework&&xa(i.componentClass)),[i]),g=i?.componentFromFramework,w=i?.componentClass;return ye.createElement("div",{ref:p,style:o,className:"ag-header-cell","col-id":n,role:"columnheader"},ye.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),ye.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},g?m?ye.createElement(w,{...i.params}):ye.createElement(w,{...i.params,ref:d}):null))},qN=U.memo(KN),XN=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ih(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},YN=({ctrl:e})=>{const{context:t,gos:r}=U.useContext(Fr),[n,i]=U.useState(),[s,o]=U.useState(()=>new pn("ag-header-cell","ag-floating-filter")),[a,l]=U.useState(()=>new pn),[c,u]=U.useState(()=>new pn("ag-floating-filter-button","ag-hidden")),[h,d]=U.useState("false"),[f,p]=U.useState(),[,m]=U.useState(1),g=U.useRef(),w=U.useRef(null),v=U.useRef(null),b=U.useRef(null),E=U.useRef(null),P=U.useRef(),A=U.useRef(),L=F=>{F!=null&&P.current&&P.current(F)},T=U.useCallback(F=>{if(w.current=F,g.current=F?t.createBean(new ba):t.destroyBean(g.current),!F||!e.isAlive())return;A.current=new gt(N=>{P.current=N});const O={toggleCss:(N,j)=>o(W=>W.setClass(N,j)),setUserStyles:N=>i(N),addOrRemoveBodyCssClass:(N,j)=>l(W=>W.setClass(N,j)),setButtonWrapperDisplayed:N=>{u(j=>j.setClass("ag-hidden",!N)),d(N?"false":"true")},setWidth:N=>{w.current&&(w.current.style.width=N)},setCompDetails:N=>p(N),getFloatingFilterComp:()=>A.current?A.current:null,setMenuIcon:N=>E.current?.appendChild(N)};e.setComp(O,F,E.current,v.current,g.current)},[]);U.useLayoutEffect(()=>lc(f,t,v.current,L),[f]);const B=U.useMemo(()=>s.toString(),[s]),H=U.useMemo(()=>a.toString(),[a]),G=U.useMemo(()=>c.toString(),[c]),D=U.useMemo(()=>!!(f&&f.componentFromFramework&&xa(f.componentClass)),[f]),k=U.useMemo(()=>r.get("reactiveCustomComponents"),[]),M=U.useMemo(()=>r.get("enableFilterHandlers"),[]),[R,y]=U.useState();U.useEffect(()=>{if(f?.componentFromFramework)if(k){const F=M?XN:LN,O=new F(f.params,()=>m(N=>N+1));L(O),y(O)}else ov()},[f]);const S=R?.getProps(),C=f?.componentFromFramework,x=f?.componentClass;return ye.createElement("div",{ref:T,style:n,className:B,role:"gridcell"},ye.createElement("div",{ref:v,className:H,role:"presentation"},C?k?S&&ye.createElement(sv.Provider,{value:{setMethods:F=>R.setMethods(F)}},ye.createElement(x,{...S})):ye.createElement(x,{...f.params,ref:D?()=>{}:L}):null),ye.createElement("div",{ref:b,"aria-hidden":h,className:G,role:"presentation"},ye.createElement("button",{ref:E,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},ZN=U.memo(YN),QN=({ctrl:e})=>{const{context:t}=U.useContext(Fr),[r,n]=U.useState(),[i,s]=U.useState(()=>new pn),[o,a]=U.useState(()=>new pn),[l,c]=U.useState("false"),[u,h]=U.useState(),[d,f]=U.useState(),p=U.useMemo(()=>e.column.getUniqueId(),[]),m=U.useRef(),g=U.useRef(null),w=U.useRef(null),v=U.useRef(null),b=U.useRef(),E=U.useCallback(H=>{if(g.current=H,m.current=H?t.createBean(new ba):t.destroyBean(m.current),!H||!e.isAlive())return;const G={setWidth:D=>{g.current&&(g.current.style.width=D)},toggleCss:(D,k)=>s(M=>M.setClass(D,k)),setUserStyles:D=>n(D),setHeaderWrapperHidden:D=>{const k=v.current;k&&(D?k.style.setProperty("display","none"):k.style.removeProperty("display"))},setHeaderWrapperMaxHeight:D=>{const k=v.current;k&&(D!=null?k.style.setProperty("max-height",`${D}px`):k.style.removeProperty("max-height"),k.classList.toggle("ag-header-cell-comp-wrapper-limited-height",D!=null))},setUserCompDetails:D=>f(D),setResizableDisplayed:D=>{a(k=>k.setClass("ag-hidden",!D)),c(D?"false":"true")},setAriaExpanded:D=>h(D),getUserCompInstance:()=>b.current||void 0};e.setComp(G,H,w.current,v.current,m.current)},[]);U.useLayoutEffect(()=>lc(d,t,v.current),[d]),U.useEffect(()=>{g.current&&e.setDragSource(g.current)},[d]);const P=U.useMemo(()=>!!(d?.componentFromFramework&&xa(d.componentClass)),[d]),A=U.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),L=U.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),T=d?.componentFromFramework,B=d?.componentClass;return ye.createElement("div",{ref:E,style:r,className:A,"col-id":p,role:"columnheader","aria-expanded":u},ye.createElement("div",{ref:v,className:"ag-header-cell-comp-wrapper",role:"presentation"},T?P?ye.createElement(B,{...d.params}):ye.createElement(B,{...d.params,ref:b}):null),ye.createElement("div",{ref:w,"aria-hidden":l,className:L}))},JN=U.memo(QN),eB=({ctrl:e})=>{const{context:t}=U.useContext(Fr),{topOffset:r,rowHeight:n}=U.useMemo(()=>e.getTopAndHeight(),[]),[i,s]=U.useState(()=>e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=U.useState(()=>n+"px"),[c,u]=U.useState(()=>r+"px"),h=U.useRef(null),[d,f]=U.useState(()=>e.getUpdatedHeaderCtrls()),p=U.useRef(),m=U.useRef(null),g=U.useCallback(b=>{if(m.current=b,p.current=b?t.createBean(new ba):t.destroyBean(p.current),!b)return;const E={setHeight:P=>l(P),setTop:P=>u(P),setHeaderCtrls:(P,A,L)=>{const T=h.current,B=xd(T,P,A);B!==T&&(h.current=B,Ul(L,()=>f(B)))},setWidth:P=>{m.current&&(m.current.style.width=P)},setRowIndex:P=>{s(P)}};e.setComp(E,p.current,!1)},[]),w=U.useMemo(()=>({height:a,top:c}),[a,c]),v=U.useCallback(b=>{switch(e.type){case"group":return ye.createElement(JN,{ctrl:b,key:b.instanceId});case"filter":return ye.createElement(ZN,{ctrl:b,key:b.instanceId});default:return ye.createElement(qN,{ctrl:b,key:b.instanceId})}},[]);return ye.createElement("div",{ref:g,className:o,role:"row",style:w,"aria-rowindex":i},d.map(v))},tB=U.memo(eB),rB=({pinned:e})=>{const[t,r]=U.useState(!0),[n,i]=U.useState([]),{context:s}=U.useContext(Fr),o=U.useRef(null),a=U.useRef(null),l=U.useRef(),c=e==="left",u=e==="right",h=!c&&!u,d=U.useCallback(m=>{if(o.current=m,l.current=m?s.createBean(new DF(e)):s.destroyBean(l.current),!m)return;const g={setDisplayed:r,setCtrls:w=>i(w),setCenterWidth:w=>{a.current&&(a.current.style.width=w)},setViewportScrollLeft:w=>{o.current&&(o.current.scrollLeft=w)},setPinnedContainerWidth:w=>{o.current&&(o.current.style.width=w,o.current.style.minWidth=w,o.current.style.maxWidth=w)}};l.current.setComp(g,o.current)},[]),f=t?"":"ag-hidden",p=()=>n.map(m=>ye.createElement(tB,{ctrl:m,key:m.instanceId}));return c?ye.createElement("div",{ref:d,className:"ag-pinned-left-header "+f,"aria-hidden":!t,role:"rowgroup"},p()):u?ye.createElement("div",{ref:d,className:"ag-pinned-right-header "+f,"aria-hidden":!t,role:"rowgroup"},p()):h?ye.createElement("div",{ref:d,className:"ag-header-viewport "+f,role:"presentation",tabIndex:-1},ye.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},p())):null},Cf=U.memo(rB),nB=()=>{const[e,t]=U.useState(()=>new pn),[r,n]=U.useState(),{context:i}=U.useContext(Fr),s=U.useRef(null),o=U.useRef(),a=U.useCallback(u=>{if(s.current=u,o.current=u?i.createBean(new MF):i.destroyBean(o.current),!u)return;const h={toggleCss:(d,f)=>t(p=>p.setClass(d,f)),setHeightAndMinHeight:d=>n(d)};o.current.setComp(h,u,u)},[]),l=U.useMemo(()=>"ag-header "+e.toString(),[e]),c=U.useMemo(()=>({height:r,minHeight:r}),[r]);return ye.createElement("div",{ref:a,className:l,style:c,role:"presentation"},ye.createElement(Cf,{pinned:"left"}),ye.createElement(Cf,{pinned:null}),ye.createElement(Cf,{pinned:"right"}))},iB=U.memo(nB),sB=(e,t)=>{U.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const i=document.createComment(e);return n.insertBefore(i,r),()=>{n.removeChild(i)}}}},[e])},Cs=sB,oB=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new gt(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ih(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},aB=e=>{const t=U.useRef(e),r=U.useRef(),n=U.useRef(!1),i=U.useRef(!1),[,s]=U.useState(0);n.current&&(i.current=!0),U.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),s(o=>o+1),()=>{i.current&&r.current?.()}),[])},lB=e=>{const[t,r]=U.useState(),n=U.useContext(Fr),{context:i,popupSvc:s,gos:o,editSvc:a}=n,{editDetails:l,cellCtrl:c,eParentCell:u}=e;return aB(()=>{const{compDetails:h}=l,d=o.get("stopEditingWhenCellsLoseFocus"),f=i.createBean(a.createPopupEditorWrapper(h.params)),p=f.getGui();if(e.jsChildComp){const P=e.jsChildComp.getGui();P&&p.appendChild(P)}const{column:m,rowNode:g}=c,w={column:m,rowNode:g,type:"popupCellEditor",eventSource:u,ePopup:p,position:l.popupPosition,keepWithinBounds:!0},v=s?.positionPopupByComponent.bind(s,w),b=s?.addPopup({modal:d,eChild:p,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:v,ariaOwns:u}),E=b?b.hideFunc:void 0;return r(f),e.jsChildComp?.afterGuiAttached?.(),()=>{E?.(),i.destroyBean(f)}}),U.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(Kt(n))&&u.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?xi.createPortal(e.wrappedContent,t.getGui()):null},Ww=U.memo(lB),cB=(e,t,r)=>{const{compProxy:n}=e;r(n);const i=n.getProps(),s=xa(t);return ye.createElement(sv.Provider,{value:{setMethods:o=>n.setMethods(o)}},s?ye.createElement(t,{...i}):ye.createElement(t,{...i,ref:o=>n.setRef(o)}))},Uw=(e,t,r)=>e.compProxy?cB(e,t,r):ye.createElement(t,{...e.compDetails.params,ref:r}),uB=(e,t,r,n,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return a?Uw(e,o,t):l?ye.createElement(Ww,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:Uw(e,o,t)}):c&&i?ye.createElement(Ww,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:i}):null},dB=(e,t,r,n,i,s)=>{const{context:o}=U.useContext(Fr),a=U.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),i.current=void 0},[]);U.useEffect(()=>{const l=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,u=t&&r==null;if(!(l&&c&&!u)){a();return}const d=e.compDetails;if(i.current){const p=i.current,g=p.refresh!=null&&e.force==!1?p.refresh(d.params):!1;if(g===!0||g===void 0)return;a()}d.newAgStackInstance().then(p=>{if(!p)return;const m=p.getGui();if(!m)return;(t?r:s.current).appendChild(m),i.current=p})},[e,t,n]),U.useEffect(()=>a,[])},Cx=dB,hB=({cellCtrl:e,parent:t})=>{const r=U.useRef(),n=U.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(Cx(n,!1,void 0,1,r,t),n?.compDetails?.componentFromFramework){const i=n.compDetails.componentClass;return ye.createElement(i,{...n.compDetails.params})}return ye.createElement(ye.Fragment,null)},fB=({cellCtrl:e,printLayout:t,editingCell:r})=>{const n=U.useContext(Fr),{context:i}=n,{column:{colIdSanitised:s},instanceId:o}=e,a=U.useRef(),[l,c]=U.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,h]=U.useState(),[d,f]=U.useState(1),[p,m]=U.useState(),[g,w]=U.useState(!1),[v,b]=U.useState(!1),[E,P]=U.useState(!1),[A,L]=U.useState(),T=U.useMemo(()=>e.isForceWrapper(),[e]),B=U.useMemo(()=>e.getCellAriaRole(),[e]),H=U.useRef(null),G=U.useRef(null),D=U.useRef(null),k=U.useRef(),M=U.useRef(),R=U.useRef(),y=U.useRef([]),S=U.useRef(),[C,x]=U.useState(0),F=U.useCallback(Z=>{S.current=Z,x(ne=>ne+1)},[]),O=l!=null&&(g||E||v)&&(u==null||!!u.popup),N=T||O,j=U.useCallback(Z=>{if(M.current=Z,Z){const ne=Z.isCancelBeforeStart&&Z.isCancelBeforeStart();setTimeout(()=>{ne?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(Z))})}},[e]),W=U.useRef();W.current||(W.current=new tc(()=>H.current)),Cx(l,N,S.current,C,k,H);const q=U.useRef();U.useLayoutEffect(()=>{const Z=q.current,ne=l;if(q.current=l,Z==null||Z.compDetails==null||ne==null||ne.compDetails==null)return;const ie=Z.compDetails,Y=ne.compDetails;if(ie.componentClass!=Y.componentClass||D.current?.refresh==null)return;D.current.refresh(Y.params)!=!0&&f(re=>re+1)},[l]),U.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const ne=u.compDetails,ie=u.popup===!0,Y=ne.newAgStackInstance();return Y.then(te=>{if(!te)return;const re=te.getGui();j(te),ie||((T?R:H).current?.appendChild(re),te.afterGuiAttached&&te.afterGuiAttached()),L(te)}),()=>{Y.then(te=>{const re=te.getGui();e.disableEditorTooltipFeature(),i.destroyBean(te),j(void 0),L(void 0),re?.parentElement?.removeChild(re)})}},[u]);const V=U.useCallback(Z=>{if(R.current=Z,!Z){y.current.forEach(ie=>ie()),y.current=[];return}const ne=ie=>{if(ie){const Y=ie.getGui();Z.insertAdjacentElement("afterbegin",Y),y.current.push(()=>{i.destroyBean(ie),wi(Y)})}return ie};if(g){const ie=e.createSelectionCheckbox();ne(ie)}E&&ne(e.createDndSource()),v&&ne(e.createRowDragComp())},[e,i,E,v,g]),$=U.useCallback(()=>{const Z=!e.isCellSpanning()||G.current,ne=H.current;if(a.current=ne?i.createBean(new ba):i.destroyBean(a.current),!ne||!Z||!e)return;const ie={toggleCss:(te,re)=>W.current.toggleCss(te,re),setUserStyles:te=>m(te),getFocusableElement:()=>H.current,setIncludeSelection:te=>w(te),setIncludeRowDrag:te=>b(te),setIncludeDndSource:te=>P(te),getCellEditor:()=>M.current||null,getCellRenderer:()=>D.current??k.current,getParentOfValue:()=>S.current??R.current??H.current,setRenderDetails:(te,re,ae)=>{const oe=()=>{c(le=>le?.compDetails!==te||le?.value!==re||le?.force!==ae?{value:re,compDetails:te,force:ae}:le)};if(te?.params?.deferRender&&!e.rowNode.group){const{loadingComp:le,onReady:he}=e.getDeferLoadingCellRenderer();if(le){c({value:void 0,compDetails:le,force:!1}),he.then(()=>kN(oe));return}}oe()},setEditDetails:(te,re,ae,oe)=>{if(te){let le;te.componentFromFramework&&(oe?le=new oB(te.params,()=>f(he=>he+1)):ov()),h({compDetails:te,popup:re,popupPosition:ae,compProxy:le}),re||c(void 0)}else e.hasBrowserFocus()&&ie.getFocusableElement().focus({preventScroll:!0}),h(he=>{he?.compProxy&&(M.current=void 0)})},refreshEditStyles:(te,re)=>{if(!H.current)return;const{current:ae}=W;ae.toggleCss("ag-cell-value",!N),ae.toggleCss("ag-cell-inline-editing",!!te&&!re),ae.toggleCss("ag-cell-popup-editing",!!te&&!!re),ae.toggleCss("ag-cell-not-inline-editing",!te||!!re)}},Y=R.current||void 0;e.setComp(ie,ne,G.current??void 0,Y,t,r,a.current)},[]),I=U.useCallback(Z=>{H.current=Z,$()},[]),_=U.useCallback(Z=>{G.current=Z,$()},[]),z=U.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&xa(l.compDetails.componentClass)),[l]);U.useLayoutEffect(()=>{if(!H.current)return;const{current:Z}=W;Z.toggleCss("ag-cell-value",!N),Z.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),Z.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),Z.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup)});const K=()=>{const{compDetails:Z,value:ne}=l;if(!Z)return ne?.toString?.()??ne;if(Z.componentFromFramework){const ie=Z.componentClass;return ye.createElement(U.Suspense,{fallback:ye.createElement(hB,{cellCtrl:e,parent:H})},z?ye.createElement(ie,{...Z.params,key:d}):ye.createElement(ie,{...Z.params,key:d,ref:D}))}},Q=()=>{const Z=()=>l==null?null:N?ye.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:F},K()):K(),ne=ie=>uB(ie,j,H.current,e,A);return u!=null?u.popup?ye.createElement(ye.Fragment,null,Z(),ne(u)):ne(u):Z()},X=()=>ye.createElement("div",{ref:I,style:p,role:B,"col-id":s},N?ye.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:V},Q()):Q());return e.isCellSpanning()?ye.createElement("div",{ref:_,className:"ag-spanned-cell-wrapper",role:"presentation"},X()):X()},pB=U.memo(fB),gB=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n,editSvc:i}=U.useContext(Fr),s=U.useContext(gx)==="default",o=U.useRef(),a=U.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[u,h]=U.useState(()=>c?e.rowNode.getRowIndexString():null),[d,f]=U.useState(()=>e.rowId),[p,m]=U.useState(()=>e.businessKey),[g,w]=U.useState(()=>e.rowStyles),v=U.useRef(null),[b,E]=U.useState(()=>null),[P,A]=U.useState(),[L,T]=U.useState(()=>c?e.getInitialRowTop(t):void 0),[B,H]=U.useState(()=>c?e.getInitialTransform(t):void 0),G=U.useRef(null),D=U.useRef(),k=U.useRef(!1),[M,R]=U.useState(0);U.useEffect(()=>{if(k.current||!P||M>10)return;const _=G.current?.firstChild;_?(e.setupDetailRowAutoHeight(_),k.current=!0):R(z=>z+1)},[P,M]);const y=U.useRef();y.current||(y.current=new tc(()=>G.current));const S=U.useRef(()=>{}),C=U.useCallback(_=>(S.current=_,()=>{S.current=()=>{}}),[]),x=FN(C,()=>v.current,[]),F=s?x:b,O=U.useCallback(_=>{if(G.current=_,o.current=_?r.createBean(new ba):r.destroyBean(o.current),!_){e.unsetComp(t);return}if(!e.isAlive())return;const z={setTop:T,setTransform:H,toggleCss:(K,Q)=>y.current.toggleCss(K,Q),setDomOrder:K=>a.current=K,setRowIndex:h,setRowId:f,setRowBusinessKey:m,setUserStyles:w,setCellCtrls:(K,Q)=>{const X=v.current,Z=xd(X,K,a.current);Z!==X&&(v.current=Z,s?S.current():Ul(Q,()=>E(Z)))},showFullWidth:K=>A(K),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:K=>V.current?(A(Q=>({...Q,params:K()})),!0):!D.current||!D.current.refresh?!1:D.current.refresh(K())};e.setComp(z,_,t,o.current)},[]);U.useLayoutEffect(()=>lc(P,r,G.current,D),[P]);const N=U.useMemo(()=>{const _={top:L,transform:B};return Object.assign(_,g),_},[L,B,g]),j=l&&P?.componentFromFramework,W=!l&&F!=null,q=U.useMemo(()=>!!(P?.componentFromFramework&&xa(P.componentClass)),[P]),V=U.useRef(!1);U.useEffect(()=>{V.current=q&&!!P&&!!n.get("reactiveCustomComponents")},[q,P]);const $=()=>F?.map(_=>ye.createElement(pB,{cellCtrl:_,editingCell:i?.isEditing(_,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:_.instanceId})),I=()=>{const _=P.componentClass;return q?ye.createElement(_,{...P.params}):ye.createElement(_,{...P.params,ref:D})};return ye.createElement("div",{ref:O,role:"row",style:N,"row-index":u,"row-id":d,"row-business-key":p},W?$():j?I():null)},$w=U.memo(gB),mB=({name:e})=>{const{context:t,gos:r}=U.useContext(Fr),n=U.useMemo(()=>nc(e),[e]),i=U.useRef(null),s=U.useRef(null),o=U.useRef(null),a=U.useRef([]),l=U.useRef([]),[c,u]=U.useState(()=>[]),h=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,d=U.useRef([]),f=U.useRef([]),[p,m]=U.useState(()=>[]),g=U.useRef(!1),w=U.useRef(),v=U.useMemo(()=>ln("ag-viewport",pS(e)),[e]),b=U.useMemo(()=>ln(Su(e)),[e]),E=U.useMemo(()=>ln("ag-spanning-container",aF(e)),[e]),P=n.type==="center"||h,A=P?i:s;Cs(" AG Row Container "+e+" ",A);const L=U.useCallback(()=>{const R=!P||i.current!=null,y=s.current!=null,S=!h||o.current!=null;return R&&y&&S},[]),T=U.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),B=U.useCallback(()=>{if(T()&&(w.current=t.destroyBean(w.current)),L()){const R=C=>{const x=xd(l.current,a.current,g.current);x!==l.current&&(l.current=x,Ul(C,()=>u(x)))},y=C=>{const x=xd(f.current,d.current,g.current);x!==f.current&&(f.current=x,Ul(C,()=>m(x)))},S={setHorizontalScroll:C=>{i.current&&(i.current.scrollLeft=C)},setViewportHeight:C=>{i.current&&(i.current.style.height=C)},setRowCtrls:({rowCtrls:C,useFlushSync:x})=>{const F=!!x&&a.current.length>0&&C.length>0;a.current=C,R(F)},setSpannedRowCtrls:(C,x)=>{const F=!!x&&d.current.length>0&&C.length>0;d.current=C,y(F)},setDomOrder:C=>{g.current!=C&&(g.current=C,R(!1))},setContainerWidth:C=>{s.current&&(s.current.style.width=C)},setOffsetTop:C=>{s.current&&(s.current.style.transform=`translateY(${C})`)}};w.current=t.createBean(new vF(e)),w.current.setComp(S,s.current,o.current??void 0,i.current)}},[L,T]),H=U.useCallback(R=>{s.current=R,B()},[B]),G=U.useCallback(R=>{o.current=R,B()},[B]),D=U.useCallback(R=>{i.current=R,B()},[B]),k=()=>ye.createElement("div",{className:b,ref:H,role:"rowgroup"},c.map(R=>ye.createElement($w,{rowCtrl:R,containerType:n.type,key:R.instanceId})));if(!P)return k();const M=()=>ye.createElement("div",{className:E,ref:G,role:"rowgroup"},p.map(R=>ye.createElement($w,{rowCtrl:R,containerType:n.type,key:R.instanceId})));return ye.createElement("div",{className:v,ref:D,role:"presentation"},k(),h?M():null)},vB=U.memo(mB),wB=()=>{const e=U.useContext(Fr),{context:t,overlays:r}=e,[n,i]=U.useState(""),[s,o]=U.useState(0),[a,l]=U.useState(0),[c,u]=U.useState("0px"),[h,d]=U.useState("0px"),[f,p]=U.useState("100%"),[m,g]=U.useState("0px"),[w,v]=U.useState("0px"),[b,E]=U.useState("100%"),[P,A]=U.useState(!0),[L,T]=U.useState(!0),[B,H]=U.useState(null),[G,D]=U.useState(""),[k,M]=U.useState(null),[R,y]=U.useState("ag-layout-normal"),S=U.useRef();S.current||(S.current=new tc(()=>C.current));const C=U.useRef(null),x=U.useRef(null),F=U.useRef(null),O=U.useRef(null),N=U.useRef(null),j=U.useRef(null),W=U.useRef(null),q=U.useRef([]),V=U.useRef([]);Cs(" AG Grid Body ",C),Cs(" AG Pinned Top ",x),Cs(" AG Sticky Top ",F),Cs(" AG Middle ",j),Cs(" AG Pinned Bottom ",W);const $=U.useCallback(oe=>{if(C.current=oe,!oe){q.current=t.destroyBeans(q.current),V.current.forEach(ve=>ve()),V.current=[];return}if(!t)return;const le=(ve,Ie)=>{ve.appendChild(Ie),V.current.push(()=>ve.removeChild(Ie))},he=ve=>{const Ie=t.createBean(new ve);return q.current.push(Ie),Ie},pe=(ve,Ie,Ve)=>{le(ve,document.createComment(Ve)),le(ve,he(Ie).getGui())};pe(oe,xF," AG Fake Horizontal Scroll ");const be=r?.getOverlayWrapperCompClass();be&&pe(oe,be," AG Overlay Wrapper "),N.current&&pe(N.current,EF," AG Fake Vertical Scroll ");const _e={setRowAnimationCssOnBodyViewport:i,setColumnCount:ve=>{C.current&&kk(C.current,ve)},setRowCount:ve=>{C.current&&Rk(C.current,ve)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:d,setStickyTopWidth:p,setTopInvisible:A,setBottomInvisible:T,setColumnMovingCss:(ve,Ie)=>S.current.toggleCss(ve,Ie),updateLayoutClasses:y,setAlwaysVerticalScrollClass:H,setPinnedTopBottomOverflowY:D,setCellSelectableCss:(ve,Ie)=>M(Ie?ve:null),setBodyViewportWidth:ve=>{j.current&&(j.current.style.width=ve)},registerBodyViewportResizeListener:ve=>{if(j.current){const Ie=Ri(e,j.current,ve);V.current.push(()=>Ie())}},setStickyBottomHeight:g,setStickyBottomBottom:v,setStickyBottomWidth:E,setGridRootRole:ve=>oe.setAttribute("role",ve)},Pe=t.createBean(new CF);q.current.push(Pe),Pe.setComp(_e,oe,j.current,x.current,W.current,F.current,O.current)},[]),I=U.useMemo(()=>ln("ag-root","ag-unselectable",R),[R]),_=U.useMemo(()=>ln("ag-body-viewport",n,R,B,k),[n,R,B,k]),z=U.useMemo(()=>ln("ag-body",R),[R]),K=U.useMemo(()=>ln("ag-floating-top",P?"ag-invisible":null,k),[k,P]),Q=U.useMemo(()=>ln("ag-sticky-top",k),[k]),X=U.useMemo(()=>ln("ag-sticky-bottom",m==="0px"?"ag-invisible":null,k),[k,m]),Z=U.useMemo(()=>ln("ag-floating-bottom",L?"ag-invisible":null,k),[k,L]),ne=U.useMemo(()=>({height:s,minHeight:s,overflowY:G}),[s,G]),ie=U.useMemo(()=>({height:c,top:h,width:f}),[c,h,f]),Y=U.useMemo(()=>({height:m,bottom:w,width:b}),[m,w,b]),te=U.useMemo(()=>({height:a,minHeight:a,overflowY:G}),[a,G]),re=oe=>ye.createElement(vB,{name:oe,key:`${oe}-container`}),ae=({section:oe,children:le,className:he,style:pe})=>ye.createElement("div",{ref:oe,className:he,role:"presentation",style:pe},le.map(re));return ye.createElement("div",{ref:$,className:I},ye.createElement(iB,null),ae({section:x,className:K,style:ne,children:["topLeft","topCenter","topRight","topFullWidth"]}),ye.createElement("div",{className:z,ref:N,role:"presentation"},ae({section:j,className:_,children:["left","center","right","fullWidth"]})),ae({section:F,className:Q,style:ie,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ae({section:O,className:X,style:Y,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ae({section:W,className:Z,style:te,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},bB=U.memo(wB),yB=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=U.useContext(Fr),c=U.useRef(null),u=U.useRef(null),h=U.useRef(),d=w=>{const v=w==null?void 0:parseInt(w,10).toString();[c,u].forEach(b=>{v===void 0?b.current?.removeAttribute("tabindex"):b.current?.setAttribute("tabindex",v)})};U.useImperativeHandle(t,()=>({forceFocusOutOfContainer(w){h.current?.forceFocusOutOfContainer(w)}}));const f=U.useCallback(()=>{const w=c.current,v=u.current;if(!w&&!v){h.current=l.destroyBean(h.current);return}if(w&&v){const b={setTabIndex:d};h.current=l.createBean(new kS({comp:b,eTopGuard:w,eBottomGuard:v,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:E=>s.focusInnerElement(E),isEmpty:a}))}},[]),p=U.useCallback(w=>{c.current=w,f()},[f]),m=U.useCallback(w=>{u.current=w,f()},[f]),g=w=>{const v=w==="top"?Yo.TAB_GUARD_TOP:Yo.TAB_GUARD_BOTTOM;return ye.createElement("div",{className:`${Yo.TAB_GUARD} ${v}`,role:"presentation",ref:w==="top"?p:m})};return ye.createElement(ye.Fragment,null,g("top"),r,g("bottom"))},CB=U.forwardRef(yB),SB=U.memo(CB),xB=({context:e})=>{const[t,r]=U.useState(""),[n,i]=U.useState(""),[s,o]=U.useState(null),[a,l]=U.useState(null),[c,u]=U.useState(!1),[h,d]=U.useState(),f=U.useRef(),p=U.useRef(null),m=U.useRef(),[g,w]=U.useState(null),v=U.useRef(()=>{}),b=U.useRef(),E=U.useRef([]),P=U.useCallback(()=>{},[]),A=U.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Cs(" AG Grid ",p);const L=U.useCallback(k=>{if(p.current=k,f.current=k?e.createBean(new PP):e.destroyBean(f.current),!k||e.isDestroyed())return;const M=f.current;v.current=M.focusInnerElement.bind(M);const R={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:y=>{if(!y&&b.current?.isDisplayed()){b.current.forceFocusOutOfContainer(y);return}m.current?.forceFocusOutOfContainer(y)},updateLayoutClasses:i,getFocusableContainers:()=>{const y=[],S=p.current?.querySelector(".ag-root");return S&&y.push({getGui:()=>S}),E.current.forEach(C=>{C.isDisplayed()&&y.push(C)}),y},setCursor:o,setUserSelect:l};M.setComp(R,k,k),u(!0)},[]);U.useEffect(()=>{const k=f.current,M=p.current;if(!h||!A||!k||!g||!M||e.isDestroyed())return;const R=[],{watermarkSelector:y,paginationSelector:S,sideBarSelector:C,statusBarSelector:x,gridHeaderDropZonesSelector:F}=k.getOptionalSelectors(),O=[];if(F){const j=e.createBean(new F.component),W=j.getGui();M.insertAdjacentElement("afterbegin",W),O.push(W),R.push(j)}if(C){const j=e.createBean(new C.component),W=j.getGui(),q=g.querySelector(".ag-tab-guard-bottom");q&&(q.insertAdjacentElement("beforebegin",W),O.push(W)),R.push(j),E.current.push(j)}const N=j=>{const W=e.createBean(new j),q=W.getGui();return M.insertAdjacentElement("beforeend",q),O.push(q),R.push(W),W};if(x&&N(x.component),S){const j=N(S.component);b.current=j,E.current.push(j)}return y&&N(y.component),()=>{e.destroyBeans(R),O.forEach(j=>{j.parentElement?.removeChild(j)})}},[h,g,A]);const T=U.useMemo(()=>ln("ag-root-wrapper",t,n),[t,n]),B=U.useMemo(()=>ln("ag-root-wrapper-body","ag-focus-managed",n),[n]),H=U.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),G=U.useCallback(k=>{m.current=k,d(k!==null)},[]),D=U.useCallback(()=>!f.current?.isFocusable(),[]);return ye.createElement("div",{ref:L,className:T,style:H,role:"presentation"},ye.createElement("div",{className:B,ref:w,role:"presentation"},c&&g&&A&&ye.createElement(Fr.Provider,{value:A},ye.createElement(SB,{ref:G,eFocusableElement:g,onTabKeyDown:P,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:D},ye.createElement(bB,null)))))},RB=U.memo(xB),EB=class extends fe{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Sx={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},kB={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...Sx},xx=new Set(Object.keys(kB)),FB=new Set(Object.keys(Sx)),Rx=e=>{const t=U.useRef(),r=U.useRef(null),n=U.useRef(null),i=U.useRef([]),s=U.useRef([]),o=U.useRef(e),a=U.useRef(),l=U.useRef(),c=U.useRef(!1),[u,h]=U.useState(void 0),[,d]=U.useState(0),f=U.useCallback(w=>{if(r.current=w,!w){i.current.forEach(G=>G()),i.current.length=0;return}const v=e.modules||[];n.current||(n.current=new $N(()=>d(G=>G+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{n.current?.destroy(),n.current=null}));const b=o4(e.gridOptions,e,Object.keys(e).filter(G=>!xx.has(G))),E=()=>{if(c.current){const G=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let D=G();for(;D;)D(),D=G()}},P=new _B(E);a.current=P;const A=new EB,L={providedBeanInstances:{frameworkCompWrapper:new MB(n.current,b),renderStatus:A},modules:v,frameworkOverrides:P,setThemeOnGridDiv:!0},T=G=>{h(G),G.createBean(A),i.current.push(()=>{G.destroy()}),G.getBean("ctrlsSvc").whenReady({addDestroyFunc:D=>{i.current.push(D)}},()=>{if(G.isDestroyed())return;const D=t.current;D&&e.passGridApi?.(D)})},B=G=>{G.getBean("ctrlsSvc").whenReady({addDestroyFunc:D=>{i.current.push(D)}},()=>{s.current.forEach(D=>D()),s.current.length=0,c.current=!0})},H=new IA;b.gridId??(b.gridId=l.current),t.current=H.create(w,b,T,B,L),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),p=U.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),m=U.useCallback(w=>{c.current&&!a.current?.shouldQueueUpdates()?w():s.current.push(w)},[]);U.useEffect(()=>{const w=PB(o.current,e);o.current=e,m(()=>{t.current&&a4(w,t.current)})},[e]);const g=!ye.useSyncExternalStore||gu(e,"renderingMode")==="legacy"?"legacy":"default";return ye.createElement("div",{style:p,className:e.className,ref:f},ye.createElement(gx.Provider,{value:g},u&&!u.isDestroyed()?ye.createElement(RB,{context:u}):null,n.current?.getPortals()??null))};function PB(e,t){const r={};return Object.keys(t).forEach(n=>{if(xx.has(n)){FB.has(n)&&we(274,{prop:n});return}const i=t[n];e[n]!==i&&(r[n]=i)}),r}var MB=class extends BA{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const r=this.gridOptions;if(gu(r,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return gu(r,"enableFilterHandlers")?ON:IN;case"floatingFilterComponent":return gu(r,"enableFilterHandlers")?BN:NN;case"dateComponent":return AN;case"dragAndDropImageComponent":return DN;case"loadingOverlayComponent":return VN;case"noRowsOverlayComponent":return zN;case"statusPanel":return jN;case"toolPanel":return WN;case"menuItem":return GN;case"cellRenderer":return _N;case"innerHeaderComponent":return HN}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":ov();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new bx(e,this.parent,t,i)}},TB=U.forwardRef((e,t)=>{const r=U.useContext(Fr),{registry:n,context:i,gos:s,rowModel:o}=r,[a,l]=U.useState(()=>new pn),[c,u]=U.useState(()=>new pn),[h,d]=U.useState(),[f,p]=U.useState(),m=U.useRef(),g=U.useRef(null),w=U.useRef(),v=U.useMemo(()=>F6(e.api.getGridId(),h?.rowModelType??"clientSide"),[e]),b=U.useMemo(()=>a.toString()+" ag-details-row",[a]),E=U.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&U.useImperativeHandle(t,()=>({refresh(){return m.current?.refresh()??!1}})),e.template&&we(230);const P=U.useCallback(L=>{if(g.current=L,!L){m.current=i.destroyBean(m.current),w.current?.();return}const T={toggleCss:(H,G)=>l(D=>D.setClass(H,G)),toggleDetailGridCss:(H,G)=>u(D=>D.setClass(H,G)),setDetailGrid:H=>d(H),setRowData:H=>p(H),getGui:()=>g.current},B=n.createDynamicBean("detailCellRendererCtrl",!0);if(B&&(i.createBean(B),B.init(T,e),m.current=B,s.get("detailRowAutoHeight"))){const H=()=>{if(g.current==null)return;const G=g.current.clientHeight;G!=null&&G>0&&setTimeout(()=>{e.node.setRowHeight(G),(er(s)||ro(s))&&o.onRowHeightChanged()},0)};w.current=Ri(r,L,H),H()}},[]),A=U.useCallback(L=>{m.current?.registerDetailWithMaster(L)},[]);return ye.createElement("div",{className:b,ref:P},h&&ye.createElement(Rx,{className:E,...h,modules:v,rowData:f,passGridApi:A}))}),_B=class extends FS{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:zw,agGroupRowRenderer:zw,agDetailCellRenderer:TB},this.wrapIncoming=(t,r)=>r==="ensureVisible"?EN(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return RN()}},av=class extends U.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ye.createElement(Rx,{...this.props,passGridApi:this.setGridApi})}};const Kw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qw=rx,AB=(e,t)=>r=>{var n;if(t?.variants==null)return qw(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const u=r?.[c],h=s?.[c];if(u===null)return null;const d=Kw(u)||Kw(h);return i[c][d]}),a=r&&Object.entries(r).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:d,...f}=u;return Object.entries(f).every(p=>{let[m,g]=p;return Array.isArray(g)?g.includes({...s,...a}[m]):{...s,...a}[m]===g})?[...c,h,d]:c},[]);return qw(e,o,l,r?.class,r?.className)},DB=AB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function $l({className:e,variant:t,size:r,asChild:n=!1,...i}){const s=n?cL:"button";return J.jsx(s,{"data-slot":"button",className:yr(DB({variant:t,size:r,className:e})),...i})}function ai({className:e,type:t,...r}){return J.jsx("input",{type:t,"data-slot":"input",className:yr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var IB="Label",Ex=U.forwardRef((e,t)=>J.jsx(It.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ex.displayName=IB;var OB=Ex;function gr({className:e,...t}){return J.jsx(OB,{"data-slot":"label",className:yr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Xw(e,[t,r]){return Math.min(r,Math.max(t,e))}function LB(e,t=globalThis?.document){const r=is(e);U.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var NB="DismissableLayer",og="dismissableLayer.update",BB="dismissableLayer.pointerDownOutside",HB="dismissableLayer.focusOutside",Yw,kx=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fx=U.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=U.useContext(kx),[u,h]=U.useState(null),d=u?.ownerDocument??globalThis?.document,[,f]=U.useState({}),p=ar(t,L=>h(L)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(g),v=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,E=v>=w,P=zB(L=>{const T=L.target,B=[...c.branches].some(H=>H.contains(T));!E||B||(i?.(L),o?.(L),L.defaultPrevented||a?.())},d),A=jB(L=>{const T=L.target;[...c.branches].some(H=>H.contains(T))||(s?.(L),o?.(L),L.defaultPrevented||a?.())},d);return LB(L=>{v===c.layers.size-1&&(n?.(L),!L.defaultPrevented&&a&&(L.preventDefault(),a()))},d),U.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Yw=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Zw(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Yw)}},[u,d,r,c]),U.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Zw())},[u,c]),U.useEffect(()=>{const L=()=>f({});return document.addEventListener(og,L),()=>document.removeEventListener(og,L)},[]),J.jsx(It.div,{...l,ref:p,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:Tt(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Tt(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Tt(e.onPointerDownCapture,P.onPointerDownCapture)})});Fx.displayName=NB;var VB="DismissableLayerBranch",GB=U.forwardRef((e,t)=>{const r=U.useContext(kx),n=U.useRef(null),i=ar(t,n);return U.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),J.jsx(It.div,{...e,ref:i})});GB.displayName=VB;function zB(e,t=globalThis?.document){const r=is(e),n=U.useRef(!1),i=U.useRef(()=>{});return U.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let l=function(){Px(BB,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jB(e,t=globalThis?.document){const r=is(e),n=U.useRef(!1);return U.useEffect(()=>{const i=s=>{s.target&&!n.current&&Px(HB,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zw(){const e=new CustomEvent(og);document.dispatchEvent(e)}function Px(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wL(i,s):i.dispatchEvent(s)}var Sf=0;function WB(){U.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qw()),document.body.insertAdjacentElement("beforeend",e[1]??Qw()),Sf++,()=>{Sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sf--}},[])}function Qw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xf="focusScope.autoFocusOnMount",Rf="focusScope.autoFocusOnUnmount",Jw={bubbles:!1,cancelable:!0},UB="FocusScope",Mx=U.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=U.useState(null),c=is(i),u=is(s),h=U.useRef(null),d=ar(t,m=>l(m)),f=U.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;U.useEffect(()=>{if(n){let m=function(b){if(f.paused||!a)return;const E=b.target;a.contains(E)?h.current=E:Ii(h.current,{select:!0})},g=function(b){if(f.paused||!a)return;const E=b.relatedTarget;E!==null&&(a.contains(E)||Ii(h.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&Ii(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),v.disconnect()}}},[n,a,f.paused]),U.useEffect(()=>{if(a){tb.add(f);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(xf,Jw);a.addEventListener(xf,c),a.dispatchEvent(w),w.defaultPrevented||($B(ZB(Tx(a)),{select:!0}),document.activeElement===m&&Ii(a))}return()=>{a.removeEventListener(xf,c),setTimeout(()=>{const w=new CustomEvent(Rf,Jw);a.addEventListener(Rf,u),a.dispatchEvent(w),w.defaultPrevented||Ii(m??document.body,{select:!0}),a.removeEventListener(Rf,u),tb.remove(f)},0)}}},[a,c,u,f]);const p=U.useCallback(m=>{if(!r&&!n||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(g&&w){const v=m.currentTarget,[b,E]=KB(v);b&&E?!m.shiftKey&&w===E?(m.preventDefault(),r&&Ii(b,{select:!0})):m.shiftKey&&w===b&&(m.preventDefault(),r&&Ii(E,{select:!0})):w===v&&m.preventDefault()}},[r,n,f.paused]);return J.jsx(It.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});Mx.displayName=UB;function $B(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ii(n,{select:t}),document.activeElement!==r)return}function KB(e){const t=Tx(e),r=eb(t,e),n=eb(t.reverse(),e);return[r,n]}function Tx(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eb(e,t){for(const r of e)if(!qB(r,{upTo:t}))return r}function qB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XB(e){return e instanceof HTMLInputElement&&"select"in e}function Ii(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XB(e)&&t&&e.select()}}var tb=YB();function YB(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=rb(e,t),e.unshift(t)},remove(t){e=rb(e,t),e[0]?.resume()}}}function rb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ZB(e){return e.filter(t=>t.tagName!=="A")}const QB=["top","right","bottom","left"],ss=Math.min,$r=Math.max,Rd=Math.round,Xc=Math.floor,qn=e=>({x:e,y:e}),JB={left:"right",right:"left",bottom:"top",top:"bottom"},eH={start:"end",end:"start"};function ag(e,t,r){return $r(e,ss(t,r))}function yi(e,t){return typeof e=="function"?e(t):e}function Ci(e){return e.split("-")[0]}function Ra(e){return e.split("-")[1]}function lv(e){return e==="x"?"y":"x"}function cv(e){return e==="y"?"height":"width"}const tH=new Set(["top","bottom"]);function jn(e){return tH.has(Ci(e))?"y":"x"}function uv(e){return lv(jn(e))}function rH(e,t,r){r===void 0&&(r=!1);const n=Ra(e),i=uv(e),s=cv(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Ed(o)),[o,Ed(o)]}function nH(e){const t=Ed(e);return[lg(e),t,lg(t)]}function lg(e){return e.replace(/start|end/g,t=>eH[t])}const nb=["left","right"],ib=["right","left"],iH=["top","bottom"],sH=["bottom","top"];function oH(e,t,r){switch(e){case"top":case"bottom":return r?t?ib:nb:t?nb:ib;case"left":case"right":return t?iH:sH;default:return[]}}function aH(e,t,r,n){const i=Ra(e);let s=oH(Ci(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(lg)))),s}function Ed(e){return e.replace(/left|right|bottom|top/g,t=>JB[t])}function lH(e){return{top:0,right:0,bottom:0,left:0,...e}}function _x(e){return typeof e!="number"?lH(e):{top:e,right:e,bottom:e,left:e}}function kd(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function sb(e,t,r){let{reference:n,floating:i}=e;const s=jn(t),o=uv(t),a=cv(o),l=Ci(t),c=s==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,d=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Ra(t)){case"start":f[o]-=d*(r&&c?-1:1);break;case"end":f[o]+=d*(r&&c?-1:1);break}return f}const cH=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=sb(c,n,l),d=n,f={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:w}=a[m],{x:v,y:b,data:E,reset:P}=await w({x:u,y:h,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=v??u,h=b??h,f={...f,[g]:{...f[g],...E}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:u,y:h}=sb(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}};async function Kl(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=yi(t,e),p=_x(f),g=a[d?h==="floating"?"reference":"floating":h],w=kd(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},P=kd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(w.top-P.top+p.top)/E.y,bottom:(P.bottom-w.bottom+p.bottom)/E.y,left:(w.left-P.left+p.left)/E.x,right:(P.right-w.right+p.right)/E.x}}const uH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=yi(e,t)||{};if(c==null)return{};const h=_x(u),d={x:r,y:n},f=uv(i),p=cv(f),m=await o.getDimensions(c),g=f==="y",w=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",E=s.reference[p]+s.reference[f]-d[f]-s.floating[p],P=d[f]-s.reference[f],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=A?A[b]:0;(!L||!await(o.isElement==null?void 0:o.isElement(A)))&&(L=a.floating[b]||s.floating[p]);const T=E/2-P/2,B=L/2-m[p]/2-1,H=ss(h[w],B),G=ss(h[v],B),D=H,k=L-m[p]-G,M=L/2-m[p]/2+T,R=ag(D,M,k),y=!l.arrow&&Ra(i)!=null&&M!==R&&s.reference[p]/2-(M<D?H:G)-m[p]/2<0,S=y?M<D?M-D:M-k:0;return{[f]:d[f]+S,data:{[f]:R,centerOffset:M-R-S,...y&&{alignmentOffset:S}},reset:y}}}),dH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=yi(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=Ci(i),v=jn(a),b=Ci(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=d||(b||!m?[Ed(a)]:nH(a)),A=p!=="none";!d&&A&&P.push(...aH(a,m,p,E));const L=[a,...P],T=await Kl(t,g),B=[];let H=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&B.push(T[w]),h){const M=rH(i,o,E);B.push(T[M[0]],T[M[1]])}if(H=[...H,{placement:i,overflows:B}],!B.every(M=>M<=0)){var G,D;const M=(((G=s.flip)==null?void 0:G.index)||0)+1,R=L[M];if(R&&(!(h==="alignment"?v!==jn(R):!1)||H.every(C=>jn(C.placement)===v?C.overflows[0]>0:!0)))return{data:{index:M,overflows:H},reset:{placement:R}};let y=(D=H.filter(S=>S.overflows[0]<=0).sort((S,C)=>S.overflows[1]-C.overflows[1])[0])==null?void 0:D.placement;if(!y)switch(f){case"bestFit":{var k;const S=(k=H.filter(C=>{if(A){const x=jn(C.placement);return x===v||x==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(x=>x>0).reduce((x,F)=>x+F,0)]).sort((C,x)=>C[1]-x[1])[0])==null?void 0:k[0];S&&(y=S);break}case"initialPlacement":y=a;break}if(i!==y)return{reset:{placement:y}}}return{}}}};function ob(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ab(e){return QB.some(t=>e[t]>=0)}const hH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=yi(e,t);switch(n){case"referenceHidden":{const s=await Kl(t,{...i,elementContext:"reference"}),o=ob(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ab(o)}}}case"escaped":{const s=await Kl(t,{...i,altBoundary:!0}),o=ob(s,r.floating);return{data:{escapedOffsets:o,escaped:ab(o)}}}default:return{}}}}},Ax=new Set(["left","top"]);async function fH(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ci(r),a=Ra(r),l=jn(r)==="y",c=Ax.has(o)?-1:1,u=s&&l?-1:1,h=yi(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const pH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await fH(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},gH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:w,y:v}=g;return{x:w,y:v}}},...l}=yi(e,t),c={x:r,y:n},u=await Kl(t,l),h=jn(Ci(i)),d=lv(h);let f=c[d],p=c[h];if(s){const g=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=f+u[g],b=f-u[w];f=ag(v,f,b)}if(o){const g=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=p+u[g],b=p-u[w];p=ag(v,p,b)}const m=a.fn({...t,[d]:f,[h]:p});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[d]:s,[h]:o}}}}}},mH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=yi(e,t),u={x:r,y:n},h=jn(i),d=lv(h);let f=u[d],p=u[h];const m=yi(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=d==="y"?"height":"width",E=s.reference[d]-s.floating[b]+g.mainAxis,P=s.reference[d]+s.reference[b]-g.mainAxis;f<E?f=E:f>P&&(f=P)}if(c){var w,v;const b=d==="y"?"width":"height",E=Ax.has(Ci(i)),P=s.reference[h]-s.floating[b]+(E&&((w=o.offset)==null?void 0:w[h])||0)+(E?0:g.crossAxis),A=s.reference[h]+s.reference[b]+(E?0:((v=o.offset)==null?void 0:v[h])||0)-(E?g.crossAxis:0);p<P?p=P:p>A&&(p=A)}return{[d]:f,[h]:p}}}},vH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=yi(e,t),u=await Kl(t,c),h=Ci(i),d=Ra(i),f=jn(i)==="y",{width:p,height:m}=s.floating;let g,w;h==="top"||h==="bottom"?(g=h,w=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,g=d==="end"?"top":"bottom");const v=m-u.top-u.bottom,b=p-u.left-u.right,E=ss(m-u[g],v),P=ss(p-u[w],b),A=!t.middlewareData.shift;let L=E,T=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=v),A&&!d){const H=$r(u.left,0),G=$r(u.right,0),D=$r(u.top,0),k=$r(u.bottom,0);f?T=p-2*(H!==0||G!==0?H+G:$r(u.left,u.right)):L=m-2*(D!==0||k!==0?D+k:$r(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:L});const B=await o.getDimensions(a.floating);return p!==B.width||m!==B.height?{reset:{rects:!0}}:{}}}};function sh(){return typeof window<"u"}function Ea(e){return Dx(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ei(e){var t;return(t=(Dx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Dx(e){return sh()?e instanceof Node||e instanceof Qr(e).Node:!1}function Tn(e){return sh()?e instanceof Element||e instanceof Qr(e).Element:!1}function Qn(e){return sh()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function lb(e){return!sh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}const wH=new Set(["inline","contents"]);function cc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=_n(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!wH.has(i)}const bH=new Set(["table","td","th"]);function yH(e){return bH.has(Ea(e))}const CH=[":popover-open",":modal"];function oh(e){return CH.some(t=>{try{return e.matches(t)}catch{return!1}})}const SH=["transform","translate","scale","rotate","perspective"],xH=["transform","translate","scale","rotate","perspective","filter"],RH=["paint","layout","strict","content"];function dv(e){const t=hv(),r=Tn(e)?_n(e):e;return SH.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||xH.some(n=>(r.willChange||"").includes(n))||RH.some(n=>(r.contain||"").includes(n))}function EH(e){let t=os(e);for(;Qn(t)&&!pa(t);){if(dv(t))return t;if(oh(t))return null;t=os(t)}return null}function hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kH=new Set(["html","body","#document"]);function pa(e){return kH.has(Ea(e))}function _n(e){return Qr(e).getComputedStyle(e)}function ah(e){return Tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function os(e){if(Ea(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lb(e)&&e.host||ei(e);return lb(t)?t.host:t}function Ix(e){const t=os(e);return pa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qn(t)&&cc(t)?t:Ix(t)}function ql(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Ix(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=Qr(i);if(s){const a=cg(o);return t.concat(o,o.visualViewport||[],cc(i)?i:[],a&&r?ql(a):[])}return t.concat(i,ql(i,[],r))}function cg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ox(e){const t=_n(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Qn(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,a=Rd(r)!==s||Rd(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function fv(e){return Tn(e)?e:e.contextElement}function Jo(e){const t=fv(e);if(!Qn(t))return qn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=Ox(t);let o=(s?Rd(r.width):r.width)/n,a=(s?Rd(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const FH=qn(0);function Lx(e){const t=Qr(e);return!hv()||!t.visualViewport?FH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PH(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qr(e)?!1:t}function Xs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=fv(e);let o=qn(1);t&&(n?Tn(n)&&(o=Jo(n)):o=Jo(e));const a=PH(s,r,n)?Lx(s):qn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=Qr(s),f=n&&Tn(n)?Qr(n):n;let p=d,m=cg(p);for(;m&&n&&f!==p;){const g=Jo(m),w=m.getBoundingClientRect(),v=_n(m),b=w.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,E=w.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,h*=g.y,l+=b,c+=E,p=Qr(m),m=cg(p)}}return kd({width:u,height:h,x:l,y:c})}function lh(e,t){const r=ah(e).scrollLeft;return t?t.left+r:Xs(ei(e)).left+r}function Nx(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-lh(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function MH(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=ei(n),a=t?oh(t.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=qn(1);const u=qn(0),h=Qn(n);if((h||!h&&!s)&&((Ea(n)!=="body"||cc(o))&&(l=ah(n)),Qn(n))){const f=Xs(n);c=Jo(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const d=o&&!h&&!s?Nx(o,l):qn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}}function TH(e){return Array.from(e.getClientRects())}function _H(e){const t=ei(e),r=ah(e),n=e.ownerDocument.body,i=$r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=$r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+lh(e);const a=-r.scrollTop;return _n(n).direction==="rtl"&&(o+=$r(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const cb=25;function AH(e,t){const r=Qr(e),n=ei(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=hv();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=lh(n);if(c<=0){const u=n.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(n.clientWidth-h.clientWidth-f);p<=cb&&(s-=p)}else c<=cb&&(s+=c);return{width:s,height:o,x:a,y:l}}const DH=new Set(["absolute","fixed"]);function IH(e,t){const r=Xs(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Qn(e)?Jo(e):qn(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function ub(e,t,r){let n;if(t==="viewport")n=AH(e,r);else if(t==="document")n=_H(ei(e));else if(Tn(t))n=IH(t,r);else{const i=Lx(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return kd(n)}function Bx(e,t){const r=os(e);return r===t||!Tn(r)||pa(r)?!1:_n(r).position==="fixed"||Bx(r,t)}function OH(e,t){const r=t.get(e);if(r)return r;let n=ql(e,[],!1).filter(a=>Tn(a)&&Ea(a)!=="body"),i=null;const s=_n(e).position==="fixed";let o=s?os(e):e;for(;Tn(o)&&!pa(o);){const a=_n(o),l=dv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&DH.has(i.position)||cc(o)&&!l&&Bx(e,o))?n=n.filter(u=>u!==o):i=a,o=os(o)}return t.set(e,n),n}function LH(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?oh(t)?[]:OH(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const h=ub(t,u,i);return c.top=$r(h.top,c.top),c.right=ss(h.right,c.right),c.bottom=ss(h.bottom,c.bottom),c.left=$r(h.left,c.left),c},ub(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function NH(e){const{width:t,height:r}=Ox(e);return{width:t,height:r}}function BH(e,t,r){const n=Qn(t),i=ei(t),s=r==="fixed",o=Xs(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=qn(0);function c(){l.x=lh(i)}if(n||!n&&!s)if((Ea(t)!=="body"||cc(i))&&(a=ah(t)),n){const f=Xs(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?Nx(i,a):qn(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function Ef(e){return _n(e).position==="static"}function db(e,t){if(!Qn(e)||_n(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ei(e)===r&&(r=r.ownerDocument.body),r}function Hx(e,t){const r=Qr(e);if(oh(e))return r;if(!Qn(e)){let i=os(e);for(;i&&!pa(i);){if(Tn(i)&&!Ef(i))return i;i=os(i)}return r}let n=db(e,t);for(;n&&yH(n)&&Ef(n);)n=db(n,t);return n&&pa(n)&&Ef(n)&&!dv(n)?r:n||EH(e)||r}const HH=async function(e){const t=this.getOffsetParent||Hx,r=this.getDimensions,n=await r(e.floating);return{reference:BH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function VH(e){return _n(e).direction==="rtl"}const GH={convertOffsetParentRelativeRectToViewportRelativeRect:MH,getDocumentElement:ei,getClippingRect:LH,getOffsetParent:Hx,getElementRects:HH,getClientRects:TH,getDimensions:NH,getScale:Jo,isElement:Tn,isRTL:VH};function Vx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zH(e,t){let r=null,n;const i=ei(e);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||t(),!d||!f)return;const p=Xc(h),m=Xc(i.clientWidth-(u+d)),g=Xc(i.clientHeight-(h+f)),w=Xc(u),b={rootMargin:-p+"px "+-m+"px "+-g+"px "+-w+"px",threshold:$r(0,ss(1,l))||1};let E=!0;function P(A){const L=A[0].intersectionRatio;if(L!==l){if(!E)return o();L?o(!1,L):n=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!Vx(c,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(P,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(P,b)}r.observe(e)}return o(!0),s}function jH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=fv(e),u=i||s?[...c?ql(c):[],...ql(t)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),s&&w.addEventListener("resize",r)});const h=c&&a?zH(c,r):null;let d=-1,f=null;o&&(f=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),r()}),c&&!l&&f.observe(c),f.observe(t));let p,m=l?Xs(e):null;l&&g();function g(){const w=Xs(e);m&&!Vx(m,w)&&r(),m=w,p=requestAnimationFrame(g)}return r(),()=>{var w;u.forEach(v=>{i&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),h?.(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const WH=pH,UH=gH,$H=dH,KH=vH,qH=hH,hb=uH,XH=mH,YH=(e,t,r)=>{const n=new Map,i={platform:GH,...r},s={...i.platform,_c:n};return cH(e,t,{...i,platform:s})};var ZH=typeof document<"u",QH=function(){},Eu=ZH?U.useLayoutEffect:QH;function Fd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fd(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Fd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Gx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fb(e,t){const r=Gx(e);return Math.round(t*r)/r}function kf(e){const t=U.useRef(e);return Eu(()=>{t.current=e}),t}function JH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,h]=U.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,f]=U.useState(n);Fd(d,n)||f(n);const[p,m]=U.useState(null),[g,w]=U.useState(null),v=U.useCallback(C=>{C!==A.current&&(A.current=C,m(C))},[]),b=U.useCallback(C=>{C!==L.current&&(L.current=C,w(C))},[]),E=s||p,P=o||g,A=U.useRef(null),L=U.useRef(null),T=U.useRef(u),B=l!=null,H=kf(l),G=kf(i),D=kf(c),k=U.useCallback(()=>{if(!A.current||!L.current)return;const C={placement:t,strategy:r,middleware:d};G.current&&(C.platform=G.current),YH(A.current,L.current,C).then(x=>{const F={...x,isPositioned:D.current!==!1};M.current&&!Fd(T.current,F)&&(T.current=F,xi.flushSync(()=>{h(F)}))})},[d,t,r,G,D]);Eu(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[c]);const M=U.useRef(!1);Eu(()=>(M.current=!0,()=>{M.current=!1}),[]),Eu(()=>{if(E&&(A.current=E),P&&(L.current=P),E&&P){if(H.current)return H.current(E,P,k);k()}},[E,P,k,H,B]);const R=U.useMemo(()=>({reference:A,floating:L,setReference:v,setFloating:b}),[v,b]),y=U.useMemo(()=>({reference:E,floating:P}),[E,P]),S=U.useMemo(()=>{const C={position:r,left:0,top:0};if(!y.floating)return C;const x=fb(y.floating,u.x),F=fb(y.floating,u.y);return a?{...C,transform:"translate("+x+"px, "+F+"px)",...Gx(y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:x,top:F}},[r,a,y.floating,u.x,u.y]);return U.useMemo(()=>({...u,update:k,refs:R,elements:y,floatingStyles:S}),[u,k,R,y,S])}const eV=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hb({element:n.current,padding:i}).fn(r):{}:n?hb({element:n,padding:i}).fn(r):{}}}},tV=(e,t)=>({...WH(e),options:[e,t]}),rV=(e,t)=>({...UH(e),options:[e,t]}),nV=(e,t)=>({...XH(e),options:[e,t]}),iV=(e,t)=>({...$H(e),options:[e,t]}),sV=(e,t)=>({...KH(e),options:[e,t]}),oV=(e,t)=>({...qH(e),options:[e,t]}),aV=(e,t)=>({...eV(e),options:[e,t]});var lV="Arrow",zx=U.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return J.jsx(It.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:J.jsx("polygon",{points:"0,0 30,0 15,10"})})});zx.displayName=lV;var cV=zx;function uV(e){const[t,r]=U.useState(void 0);return kr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var pv="Popper",[jx,Wx]=sc(pv),[dV,Ux]=jx(pv),$x=e=>{const{__scopePopper:t,children:r}=e,[n,i]=U.useState(null);return J.jsx(dV,{scope:t,anchor:n,onAnchorChange:i,children:r})};$x.displayName=pv;var Kx="PopperAnchor",qx=U.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=Ux(Kx,r),o=U.useRef(null),a=ar(t,o),l=U.useRef(null);return U.useEffect(()=>{const c=l.current;l.current=n?.current||o.current,c!==l.current&&s.onAnchorChange(l.current)}),n?null:J.jsx(It.div,{...i,ref:a})});qx.displayName=Kx;var gv="PopperContent",[hV,fV]=jx(gv),Xx=U.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=e,g=Ux(gv,r),[w,v]=U.useState(null),b=ar(t,$=>v($)),[E,P]=U.useState(null),A=uV(E),L=A?.width??0,T=A?.height??0,B=n+(s!=="center"?"-"+s:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},G=Array.isArray(c)?c:[c],D=G.length>0,k={padding:H,boundary:G.filter(gV),altBoundary:D},{refs:M,floatingStyles:R,placement:y,isPositioned:S,middlewareData:C}=JH({strategy:"fixed",placement:B,whileElementsMounted:(...$)=>jH(...$,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[tV({mainAxis:i+T,alignmentAxis:o}),l&&rV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?nV():void 0,...k}),l&&iV({...k}),sV({...k,apply:({elements:$,rects:I,availableWidth:_,availableHeight:z})=>{const{width:K,height:Q}=I.reference,X=$.floating.style;X.setProperty("--radix-popper-available-width",`${_}px`),X.setProperty("--radix-popper-available-height",`${z}px`),X.setProperty("--radix-popper-anchor-width",`${K}px`),X.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),E&&aV({element:E,padding:a}),mV({arrowWidth:L,arrowHeight:T}),d&&oV({strategy:"referenceHidden",...k})]}),[x,F]=Qx(y),O=is(p);kr(()=>{S&&O?.()},[S,O]);const N=C.arrow?.x,j=C.arrow?.y,W=C.arrow?.centerOffset!==0,[q,V]=U.useState();return kr(()=>{w&&V(window.getComputedStyle(w).zIndex)},[w]),J.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:S?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[C.transformOrigin?.x,C.transformOrigin?.y].join(" "),...C.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:J.jsx(hV,{scope:r,placedSide:x,onArrowChange:P,arrowX:N,arrowY:j,shouldHideArrow:W,children:J.jsx(It.div,{"data-side":x,"data-align":F,...m,ref:b,style:{...m.style,animation:S?void 0:"none"}})})})});Xx.displayName=gv;var Yx="PopperArrow",pV={top:"bottom",right:"left",bottom:"top",left:"right"},Zx=U.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=fV(Yx,n),o=pV[s.placedSide];return J.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:J.jsx(cV,{...i,ref:r,style:{...i.style,display:"block"}})})});Zx.displayName=Yx;function gV(e){return e!==null}var mV=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=Qx(r),h={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+a/2,f=(i.arrow?.y??0)+l/2;let p="",m="";return c==="bottom"?(p=o?h:`${d}px`,m=`${-l}px`):c==="top"?(p=o?h:`${d}px`,m=`${n.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=o?h:`${f}px`):c==="left"&&(p=`${n.floating.width+l}px`,m=o?h:`${f}px`),{data:{x:p,y:m}}}});function Qx(e){const[t,r="center"]=e.split("-");return[t,r]}var vV=$x,wV=qx,bV=Xx,yV=Zx,CV="Portal",Jx=U.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=U.useState(!1);kr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?IC.createPortal(J.jsx(It.div,{...n,ref:t}),o):null});Jx.displayName=CV;function SV(e){const t=U.useRef({value:e,previous:e});return U.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xV="VisuallyHidden",RV=U.forwardRef((e,t)=>J.jsx(It.span,{...e,ref:t,style:{...eR,...e.style}}));RV.displayName=xV;var EV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,Yc=new WeakMap,Zc={},Ff=0,tR=function(e){return e&&(e.host||tR(e.parentNode))},kV=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=tR(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},FV=function(e,t,r,n){var i=kV(t,Array.isArray(e)?e:[e]);Zc[r]||(Zc[r]=new WeakMap);var s=Zc[r],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var f=d.getAttribute(n),p=f!==null&&f!=="false",m=(vo.get(d)||0)+1,g=(s.get(d)||0)+1;vo.set(d,m),s.set(d,g),o.push(d),m===1&&p&&Yc.set(d,!0),g===1&&d.setAttribute(r,"true"),p||d.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",d,w)}})};return u(t),a.clear(),Ff++,function(){o.forEach(function(h){var d=vo.get(h)-1,f=s.get(h)-1;vo.set(h,d),s.set(h,f),d||(Yc.has(h)||h.removeAttribute(n),Yc.delete(h)),f||h.removeAttribute(r)}),Ff--,Ff||(vo=new WeakMap,vo=new WeakMap,Yc=new WeakMap,Zc={})}},PV=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=EV(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),FV(n,i,r,"aria-hidden")):function(){return null}},Gn=function(){return Gn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Gn.apply(this,arguments)};function rR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function MV(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var ku="right-scroll-bar-position",Fu="width-before-scroll-bar",TV="with-scroll-bars-hidden",_V="--removed-body-scroll-bar-size";function Pf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function AV(e,t){var r=U.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var DV=typeof window<"u"?U.useLayoutEffect:U.useEffect,pb=new WeakMap;function IV(e,t){var r=AV(null,function(n){return e.forEach(function(i){return Pf(i,n)})});return DV(function(){var n=pb.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(a){s.has(a)||Pf(a,null)}),s.forEach(function(a){i.has(a)||Pf(a,o)})}pb.set(r,e)},[e]),r}function OV(e){return e}function LV(e,t){t===void 0&&(t=OV);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function NV(e){e===void 0&&(e={});var t=LV(null);return t.options=Gn({async:!0,ssr:!1},e),t}var nR=function(e){var t=e.sideCar,r=rR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return U.createElement(n,Gn({},r))};nR.isSideCarExport=!0;function BV(e,t){return e.useMedium(t),nR}var iR=NV(),Mf=function(){},ch=U.forwardRef(function(e,t){var r=U.useRef(null),n=U.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),i=n[0],s=n[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,d=e.sideCar,f=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,b=e.gapMode,E=rR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=d,A=IV([r,t]),L=Gn(Gn({},E),i);return U.createElement(U.Fragment,null,u&&U.createElement(P,{sideCar:iR,removeScrollBar:c,shards:h,noRelative:f,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?U.cloneElement(U.Children.only(a),Gn(Gn({},L),{ref:A})):U.createElement(v,Gn({},L,{className:l,ref:A}),a))});ch.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ch.classNames={fullWidth:Fu,zeroRight:ku};var HV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HV();return t&&e.setAttribute("nonce",t),e}function GV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jV=function(){var e=0,t=null;return{add:function(r){e==0&&(t=VV())&&(GV(t,r),zV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},WV=function(){var e=jV();return function(t,r){U.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sR=function(){var e=WV(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},UV={left:0,top:0,right:0,gap:0},Tf=function(e){return parseInt(e||"",10)||0},$V=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Tf(r),Tf(n),Tf(i)]},KV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UV;var t=$V(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},qV=sR(),ea="data-scroll-locked",XV=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ea,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ku,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Fu,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ku," .").concat(ku,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fu," .").concat(Fu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ea,`] {
    `).concat(_V,": ").concat(a,`px;
  }
`)},gb=function(){var e=parseInt(document.body.getAttribute(ea)||"0",10);return isFinite(e)?e:0},YV=function(){U.useEffect(function(){return document.body.setAttribute(ea,(gb()+1).toString()),function(){var e=gb()-1;e<=0?document.body.removeAttribute(ea):document.body.setAttribute(ea,e.toString())}},[])},ZV=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;YV();var s=U.useMemo(function(){return KV(i)},[i]);return U.createElement(qV,{styles:XV(s,!t,i,r?"":"!important")})},ug=!1;if(typeof window<"u")try{var Qc=Object.defineProperty({},"passive",{get:function(){return ug=!0,!0}});window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{ug=!1}var wo=ug?{passive:!1}:!1,QV=function(e){return e.tagName==="TEXTAREA"},oR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!QV(e)&&r[t]==="visible")},JV=function(e){return oR(e,"overflowY")},eG=function(e){return oR(e,"overflowX")},mb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=aR(e,n);if(i){var s=lR(e,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aR=function(e,t){return e==="v"?JV(t):eG(t)},lR=function(e,t){return e==="v"?tG(t):rG(t)},nG=function(e,t){return e==="h"&&t==="rtl"?-1:1},iG=function(e,t,r,n,i){var s=nG(e,window.getComputedStyle(t).direction),o=s*n,a=r.target,l=t.contains(a),c=!1,u=o>0,h=0,d=0;do{if(!a)break;var f=lR(e,a),p=f[0],m=f[1],g=f[2],w=m-g-s*p;(p||w)&&aR(e,a)&&(h+=w,d+=p);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(h)<1||!u&&Math.abs(d)<1)&&(c=!0),c},Jc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vb=function(e){return[e.deltaX,e.deltaY]},wb=function(e){return e&&"current"in e?e.current:e},sG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aG=0,bo=[];function lG(e){var t=U.useRef([]),r=U.useRef([0,0]),n=U.useRef(),i=U.useState(aG++)[0],s=U.useState(sR)[0],o=U.useRef(e);U.useEffect(function(){o.current=e},[e]),U.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=MV([e.lockRef.current],(e.shards||[]).map(wb),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=U.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=Jc(m),v=r.current,b="deltaX"in m?m.deltaX:v[0]-w[0],E="deltaY"in m?m.deltaY:v[1]-w[1],P,A=m.target,L=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in m&&L==="h"&&A.type==="range")return!1;var T=mb(L,A);if(!T)return!0;if(T?P=L:(P=L==="v"?"h":"v",T=mb(L,A)),!T)return!1;if(!n.current&&"changedTouches"in m&&(b||E)&&(n.current=P),!P)return!0;var B=n.current||P;return iG(B,g,m,B==="h"?b:E)},[]),l=U.useCallback(function(m){var g=m;if(!(!bo.length||bo[bo.length-1]!==s)){var w="deltaY"in g?vb(g):Jc(g),v=t.current.filter(function(P){return P.name===g.type&&(P.target===g.target||g.target===P.shadowParent)&&sG(P.delta,w)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(wb).filter(Boolean).filter(function(P){return P.contains(g.target)}),E=b.length>0?a(g,b[0]):!o.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),c=U.useCallback(function(m,g,w,v){var b={name:m,delta:g,target:w,should:v,shadowParent:cG(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(E){return E!==b})},1)},[]),u=U.useCallback(function(m){r.current=Jc(m),n.current=void 0},[]),h=U.useCallback(function(m){c(m.type,vb(m),m.target,a(m,e.lockRef.current))},[]),d=U.useCallback(function(m){c(m.type,Jc(m),m.target,a(m,e.lockRef.current))},[]);U.useEffect(function(){return bo.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,wo),document.addEventListener("touchmove",l,wo),document.addEventListener("touchstart",u,wo),function(){bo=bo.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,wo),document.removeEventListener("touchmove",l,wo),document.removeEventListener("touchstart",u,wo)}},[]);var f=e.removeScrollBar,p=e.inert;return U.createElement(U.Fragment,null,p?U.createElement(s,{styles:oG(i)}):null,f?U.createElement(ZV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uG=BV(iR,lG);var cR=U.forwardRef(function(e,t){return U.createElement(ch,Gn({},e,{ref:t,sideCar:uG}))});cR.classNames=ch.classNames;var dG=[" ","Enter","ArrowUp","ArrowDown"],hG=[" ","Enter"],Ys="Select",[uh,dh,fG]=N2(Ys),[ka,yz]=sc(Ys,[fG,Wx]),hh=Wx(),[pG,hs]=ka(Ys),[gG,mG]=ka(Ys),uR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:f,form:p}=e,m=hh(t),[g,w]=U.useState(null),[v,b]=U.useState(null),[E,P]=U.useState(!1),A=rv(c),[L,T]=Sd({prop:n,defaultProp:i??!1,onChange:s,caller:Ys}),[B,H]=Sd({prop:o,defaultProp:a,onChange:l,caller:Ys}),G=U.useRef(null),D=g?p||!!g.closest("form"):!0,[k,M]=U.useState(new Set),R=Array.from(k).map(y=>y.props.value).join(";");return J.jsx(vV,{...m,children:J.jsxs(pG,{required:f,scope:t,trigger:g,onTriggerChange:w,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:oc(),value:B,onValueChange:H,open:L,onOpenChange:T,dir:A,triggerPointerDownPosRef:G,disabled:d,children:[J.jsx(uh.Provider,{scope:t,children:J.jsx(gG,{scope:e.__scopeSelect,onNativeOptionAdd:U.useCallback(y=>{M(S=>new Set(S).add(y))},[]),onNativeOptionRemove:U.useCallback(y=>{M(S=>{const C=new Set(S);return C.delete(y),C})},[]),children:r})}),D?J.jsxs(AR,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:B,onChange:y=>H(y.target.value),disabled:d,form:p,children:[B===void 0?J.jsx("option",{value:""}):null,Array.from(k)]},R):null]})})};uR.displayName=Ys;var dR="SelectTrigger",hR=U.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=hh(r),o=hs(dR,r),a=o.disabled||n,l=ar(t,o.onTriggerChange),c=dh(r),u=U.useRef("touch"),[h,d,f]=IR(m=>{const g=c().filter(b=>!b.disabled),w=g.find(b=>b.value===o.value),v=OR(g,m,w);v!==void 0&&o.onValueChange(v.value)}),p=m=>{a||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return J.jsx(wV,{asChild:!0,...s,children:J.jsx(It.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":DR(o.value)?"":void 0,...i,ref:l,onClick:Tt(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&p(m)}),onPointerDown:Tt(i.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(p(m),m.preventDefault())}),onKeyDown:Tt(i.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&d(m.key),!(g&&m.key===" ")&&dG.includes(m.key)&&(p(),m.preventDefault())})})})});hR.displayName=dR;var fR="SelectValue",pR=U.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=e,l=hs(fR,r),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=ar(t,l.onValueNodeChange);return kr(()=>{c(u)},[c,u]),J.jsx(It.span,{...a,ref:h,style:{pointerEvents:"none"},children:DR(l.value)?J.jsx(J.Fragment,{children:o}):s})});pR.displayName=fR;var vG="SelectIcon",gR=U.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return J.jsx(It.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});gR.displayName=vG;var wG="SelectPortal",mR=e=>J.jsx(Jx,{asChild:!0,...e});mR.displayName=wG;var Zs="SelectContent",vR=U.forwardRef((e,t)=>{const r=hs(Zs,e.__scopeSelect),[n,i]=U.useState();if(kr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?xi.createPortal(J.jsx(wR,{scope:e.__scopeSelect,children:J.jsx(uh.Slot,{scope:e.__scopeSelect,children:J.jsx("div",{children:e.children})})}),s):null}return J.jsx(bR,{...e,ref:t})});vR.displayName=Zs;var Sn=10,[wR,fs]=ka(Zs),bG="SelectContentImpl",yG=Wl("SelectContent.RemoveScroll"),bR=U.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g,...w}=e,v=hs(Zs,r),[b,E]=U.useState(null),[P,A]=U.useState(null),L=ar(t,$=>E($)),[T,B]=U.useState(null),[H,G]=U.useState(null),D=dh(r),[k,M]=U.useState(!1),R=U.useRef(!1);U.useEffect(()=>{if(b)return PV(b)},[b]),WB();const y=U.useCallback($=>{const[I,..._]=D().map(Q=>Q.ref.current),[z]=_.slice(-1),K=document.activeElement;for(const Q of $)if(Q===K||(Q?.scrollIntoView({block:"nearest"}),Q===I&&P&&(P.scrollTop=0),Q===z&&P&&(P.scrollTop=P.scrollHeight),Q?.focus(),document.activeElement!==K))return},[D,P]),S=U.useCallback(()=>y([T,b]),[y,T,b]);U.useEffect(()=>{k&&S()},[k,S]);const{onOpenChange:C,triggerPointerDownPosRef:x}=v;U.useEffect(()=>{if(b){let $={x:0,y:0};const I=z=>{$={x:Math.abs(Math.round(z.pageX)-(x.current?.x??0)),y:Math.abs(Math.round(z.pageY)-(x.current?.y??0))}},_=z=>{$.x<=10&&$.y<=10?z.preventDefault():b.contains(z.target)||C(!1),document.removeEventListener("pointermove",I),x.current=null};return x.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",_,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",_,{capture:!0})}}},[b,C,x]),U.useEffect(()=>{const $=()=>C(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[C]);const[F,O]=IR($=>{const I=D().filter(K=>!K.disabled),_=I.find(K=>K.ref.current===document.activeElement),z=OR(I,$,_);z&&setTimeout(()=>z.ref.current.focus())}),N=U.useCallback(($,I,_)=>{const z=!R.current&&!_;(v.value!==void 0&&v.value===I||z)&&(B($),z&&(R.current=!0))},[v.value]),j=U.useCallback(()=>b?.focus(),[b]),W=U.useCallback(($,I,_)=>{const z=!R.current&&!_;(v.value!==void 0&&v.value===I||z)&&G($)},[v.value]),q=n==="popper"?dg:yR,V=q===dg?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return J.jsx(wR,{scope:r,content:b,viewport:P,onViewportChange:A,itemRefCallback:N,selectedItem:T,onItemLeave:j,itemTextRefCallback:W,focusSelectedItem:S,selectedItemText:H,position:n,isPositioned:k,searchRef:F,children:J.jsx(cR,{as:yG,allowPinchZoom:!0,children:J.jsx(Mx,{asChild:!0,trapped:v.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Tt(i,$=>{v.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:J.jsx(Fx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:J.jsx(q,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:$=>$.preventDefault(),...w,...V,onPlaced:()=>M(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Tt(w.onKeyDown,$=>{const I=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!I&&$.key.length===1&&O($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let z=D().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes($.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const K=$.target,Q=z.indexOf(K);z=z.slice(Q+1)}setTimeout(()=>y(z)),$.preventDefault()}})})})})})})});bR.displayName=bG;var CG="SelectItemAlignedPosition",yR=U.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=hs(Zs,r),o=fs(Zs,r),[a,l]=U.useState(null),[c,u]=U.useState(null),h=ar(t,L=>u(L)),d=dh(r),f=U.useRef(!1),p=U.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:w,focusSelectedItem:v}=o,b=U.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&g&&w){const L=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),H=w.getBoundingClientRect();if(s.dir!=="rtl"){const K=H.left-T.left,Q=B.left-K,X=L.left-Q,Z=L.width+X,ne=Math.max(Z,T.width),ie=window.innerWidth-Sn,Y=Xw(Q,[Sn,Math.max(Sn,ie-ne)]);a.style.minWidth=Z+"px",a.style.left=Y+"px"}else{const K=T.right-H.right,Q=window.innerWidth-B.right-K,X=window.innerWidth-L.right-Q,Z=L.width+X,ne=Math.max(Z,T.width),ie=window.innerWidth-Sn,Y=Xw(Q,[Sn,Math.max(Sn,ie-ne)]);a.style.minWidth=Z+"px",a.style.right=Y+"px"}const G=d(),D=window.innerHeight-Sn*2,k=m.scrollHeight,M=window.getComputedStyle(c),R=parseInt(M.borderTopWidth,10),y=parseInt(M.paddingTop,10),S=parseInt(M.borderBottomWidth,10),C=parseInt(M.paddingBottom,10),x=R+y+k+C+S,F=Math.min(g.offsetHeight*5,x),O=window.getComputedStyle(m),N=parseInt(O.paddingTop,10),j=parseInt(O.paddingBottom,10),W=L.top+L.height/2-Sn,q=D-W,V=g.offsetHeight/2,$=g.offsetTop+V,I=R+y+$,_=x-I;if(I<=W){const K=G.length>0&&g===G[G.length-1].ref.current;a.style.bottom="0px";const Q=c.clientHeight-m.offsetTop-m.offsetHeight,X=Math.max(q,V+(K?j:0)+Q+S),Z=I+X;a.style.height=Z+"px"}else{const K=G.length>0&&g===G[0].ref.current;a.style.top="0px";const X=Math.max(W,R+m.offsetTop+(K?N:0)+V)+_;a.style.height=X+"px",m.scrollTop=I-W+m.offsetTop}a.style.margin=`${Sn}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>f.current=!0)}},[d,s.trigger,s.valueNode,a,c,m,g,w,s.dir,n]);kr(()=>b(),[b]);const[E,P]=U.useState();kr(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const A=U.useCallback(L=>{L&&p.current===!0&&(b(),v?.(),p.current=!1)},[b,v]);return J.jsx(xG,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:A,children:J.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:J.jsx(It.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yR.displayName=CG;var SG="SelectPopperPosition",dg=U.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Sn,...s}=e,o=hh(r);return J.jsx(bV,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dg.displayName=SG;var[xG,mv]=ka(Zs,{}),hg="SelectViewport",CR=U.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=fs(hg,r),o=mv(hg,r),a=ar(t,s.onViewportChange),l=U.useRef(0);return J.jsxs(J.Fragment,{children:[J.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),J.jsx(uh.Slot,{scope:r,children:J.jsx(It.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Tt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d?.current&&h){const f=Math.abs(l.current-u.scrollTop);if(f>0){const p=window.innerHeight-Sn*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),w=Math.max(m,g);if(w<p){const v=w+f,b=Math.min(p,v),E=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});CR.displayName=hg;var SR="SelectGroup",[RG,EG]=ka(SR),kG=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=oc();return J.jsx(RG,{scope:r,id:i,children:J.jsx(It.div,{role:"group","aria-labelledby":i,...n,ref:t})})});kG.displayName=SR;var xR="SelectLabel",FG=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=EG(xR,r);return J.jsx(It.div,{id:i.id,...n,ref:t})});FG.displayName=xR;var Pd="SelectItem",[PG,RR]=ka(Pd),ER=U.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,a=hs(Pd,r),l=fs(Pd,r),c=a.value===n,[u,h]=U.useState(s??""),[d,f]=U.useState(!1),p=ar(t,v=>l.itemRefCallback?.(v,n,i)),m=oc(),g=U.useRef("touch"),w=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return J.jsx(PG,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:U.useCallback(v=>{h(b=>b||(v?.textContent??"").trim())},[]),children:J.jsx(uh.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:J.jsx(It.div,{role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:Tt(o.onFocus,()=>f(!0)),onBlur:Tt(o.onBlur,()=>f(!1)),onClick:Tt(o.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:Tt(o.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:Tt(o.onPointerDown,v=>{g.current=v.pointerType}),onPointerMove:Tt(o.onPointerMove,v=>{g.current=v.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Tt(o.onPointerLeave,v=>{v.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Tt(o.onKeyDown,v=>{l.searchRef?.current!==""&&v.key===" "||(hG.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});ER.displayName=Pd;var Xa="SelectItemText",kR=U.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=hs(Xa,r),a=fs(Xa,r),l=RR(Xa,r),c=mG(Xa,r),[u,h]=U.useState(null),d=ar(t,w=>h(w),l.onItemTextChange,w=>a.itemTextRefCallback?.(w,l.value,l.disabled)),f=u?.textContent,p=U.useMemo(()=>J.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return kr(()=>(m(p),()=>g(p)),[m,g,p]),J.jsxs(J.Fragment,{children:[J.jsx(It.span,{id:l.textId,...s,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xi.createPortal(s.children,o.valueNode):null]})});kR.displayName=Xa;var FR="SelectItemIndicator",PR=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return RR(FR,r).isSelected?J.jsx(It.span,{"aria-hidden":!0,...n,ref:t}):null});PR.displayName=FR;var fg="SelectScrollUpButton",MR=U.forwardRef((e,t)=>{const r=fs(fg,e.__scopeSelect),n=mv(fg,e.__scopeSelect),[i,s]=U.useState(!1),o=ar(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?J.jsx(_R,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});MR.displayName=fg;var pg="SelectScrollDownButton",TR=U.forwardRef((e,t)=>{const r=fs(pg,e.__scopeSelect),n=mv(pg,e.__scopeSelect),[i,s]=U.useState(!1),o=ar(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?J.jsx(_R,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});TR.displayName=pg;var _R=U.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=fs("SelectScrollButton",r),o=U.useRef(null),a=dh(r),l=U.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return U.useEffect(()=>()=>l(),[l]),kr(()=>{a().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),J.jsx(It.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Tt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Tt(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Tt(i.onPointerLeave,()=>{l()})})}),MG="SelectSeparator",TG=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return J.jsx(It.div,{"aria-hidden":!0,...n,ref:t})});TG.displayName=MG;var gg="SelectArrow",_G=U.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=hh(r),s=hs(gg,r),o=fs(gg,r);return s.open&&o.position==="popper"?J.jsx(yV,{...i,...n,ref:t}):null});_G.displayName=gg;var AG="SelectBubbleInput",AR=U.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=U.useRef(null),s=ar(n,i),o=SV(t);return U.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[o,t]),J.jsx(It.select,{...r,style:{...eR,...r.style},ref:s,defaultValue:t})});AR.displayName=AG;function DR(e){return e===""||e===void 0}function IR(e){const t=is(e),r=U.useRef(""),n=U.useRef(0),i=U.useCallback(o=>{const a=r.current+o;t(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=U.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return U.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function OR(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=DG(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function DG(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var IG=uR,OG=hR,LG=pR,NG=gR,BG=mR,HG=vR,VG=CR,GG=ER,zG=kR,jG=PR,WG=MR,UG=TR;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KG=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),bb=e=>{const t=KG(e);return t.charAt(0).toUpperCase()+t.slice(1)},LR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>U.createElement("svg",{ref:l,...qG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:LR("lucide",i),...a},[...o.map(([c,u])=>U.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=(e,t)=>{const r=U.forwardRef(({className:n,...i},s)=>U.createElement(XG,{ref:s,iconNode:t,className:LR(`lucide-${$G(bb(e))}`,`lucide-${e}`,n),...i}));return r.displayName=bb(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ZG=Fa("arrow-left",YG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JG=Fa("check",QG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NR=Fa("chevron-down",ez);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rz=Fa("chevron-up",tz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Md=Fa("plus",nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sz=Fa("trash-2",iz);function mg({...e}){return J.jsx(IG,{"data-slot":"select",...e})}function vg({...e}){return J.jsx(LG,{"data-slot":"select-value",...e})}function wg({className:e,size:t="default",children:r,...n}){return J.jsxs(OG,{"data-slot":"select-trigger","data-size":t,className:yr("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,J.jsx(NG,{asChild:!0,children:J.jsx(NR,{className:"size-4 opacity-50"})})]})}function bg({className:e,children:t,position:r="popper",...n}){return J.jsx(BG,{children:J.jsxs(HG,{"data-slot":"select-content",className:yr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[J.jsx(oz,{}),J.jsx(VG,{className:yr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),J.jsx(az,{})]})})}function Oo({className:e,children:t,...r}){return J.jsxs(GG,{"data-slot":"select-item",className:yr("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[J.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:J.jsx(jG,{children:J.jsx(JG,{className:"size-4"})})}),J.jsx(zG,{children:t})]})}function oz({className:e,...t}){return J.jsx(WG,{"data-slot":"select-scroll-up-button",className:yr("flex cursor-default items-center justify-center py-1",e),...t,children:J.jsx(rz,{className:"size-4"})})}function az({className:e,...t}){return J.jsx(UG,{"data-slot":"select-scroll-down-button",className:yr("flex cursor-default items-center justify-center py-1",e),...t,children:J.jsx(NR,{className:"size-4"})})}function hl({className:e,...t}){return J.jsx("div",{"data-slot":"card",className:yr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function yg({className:e,...t}){return J.jsx("div",{"data-slot":"card-header",className:yr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Cg({className:e,...t}){return J.jsx("h4",{"data-slot":"card-title",className:yr("leading-none",e),...t})}function fl({className:e,...t}){return J.jsx("div",{"data-slot":"card-content",className:yr("px-6 [&:last-child]:pb-6",e),...t})}const lz=e=>{const t=()=>{window.removePlanRole&&window.removePlanRole(e.data.id)};return J.jsx("div",{className:"flex items-center justify-center h-full",children:J.jsx("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 text-white border-none rounded-sm w-5 h-5 flex items-center justify-center text-xs cursor-pointer",title:"Remove role",children:"×"})})};function cz({project:e,resourceLists:t,resourcePlans:r,onResourcePlansChange:n,onAddResourcePlan:i,onDeleteResourcePlan:s,onProjectSettingsChange:o}){const[a,l]=U.useState([]);U.useEffect(()=>{const L=new Set;r.forEach(B=>{B.weeklyAllocations.forEach(H=>{L.add(H.weekNumber)})});const T=Array.from(L).sort((B,H)=>B-H);l(T.length>0?T:[1,2,3,4,5,6,7,8])},[r]);const c=e.clientCurrency==="EUR"?"€":"$",u=U.useMemo(()=>r.map(L=>{const T={id:L.id,role:L.role,name:L.name||"",intHourlyRate:L.intHourlyRate,clientHourlyRate:L.clientHourlyRate};return a.forEach(B=>{const H=L.weeklyAllocations.find(G=>G.weekNumber===B);T[`week${B}`]=H?.allocation||0}),T}),[r,a]),h=L=>{let T=0;return a.forEach(B=>{T+=(L[`week${B}`]||0)/100}),T*40},d=L=>h(L)*L.intHourlyRate,f=L=>h(L)*L.clientHourlyRate,p=L=>{const T=L.clientHourlyRate,B=L.intHourlyRate/e.exchangeRate;return!T||T<=0||!isFinite(T)?null:(T-B)/T*100},m=U.useCallback(L=>{const T=[...a];T.splice(L,0,0);const B=T.map((G,D)=>D+1),H=r.map(G=>{const D=[];return B.forEach((k,M)=>{if(M===L)D.push({id:0,weekNumber:k,allocation:0,resourcePlanId:G.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});else if(M<L){const R=a[M],y=G.weeklyAllocations.find(S=>S.weekNumber===R);y&&D.push({...y,weekNumber:k})}else{const R=a[M-1],y=G.weeklyAllocations.find(S=>S.weekNumber===R);y&&D.push({...y,weekNumber:k})}}),{...G,weeklyAllocations:D}});n(H),l(B)},[a,r,n]),g=U.useCallback(L=>{if(a.length<=1)return;const T=a.findIndex(D=>D===L);if(T===-1)return;const H=a.filter(D=>D!==L).map((D,k)=>k+1),G=r.map(D=>{const k=[];return H.forEach((M,R)=>{const y=R<T?R:R+1,S=a[y],C=D.weeklyAllocations.find(x=>x.weekNumber===S);C&&k.push({...C,weekNumber:M})}),{...D,weeklyAllocations:k}});n(G),l(H)},[a,r,n]),w=U.useCallback(L=>{s(L)},[s]),v=U.useMemo(()=>{const L={headerName:"Actions",width:80,pinned:"left",cellRenderer:lz,sortable:!1,filter:!1},T=[{headerName:"Role",field:"role",width:200,pinned:"left",editable:!0,cellEditor:"agSelectCellEditor",cellEditorParams:{values:t.map(G=>G.role)},valueGetter:G=>G.data.role,valueSetter:G=>{const D=G.newValue;G.data.role=D;const k=t.find(M=>M.role===D);if(k){G.data.intHourlyRate=k.intRate,G.data.name=k.name||"";const M=r.map(R=>R.id===G.data.id?{...R,role:D,intHourlyRate:k.intRate,name:k.name||""}:R);n(M)}else{console.warn(`Role "${D}" not found in resource list. This may cause issues.`);const M=r.map(R=>R.id===G.data.id?{...R,role:D}:R);n(M)}return!0},cellRenderer:G=>{const D=G.value,k=P(D);return J.jsxs("div",{className:`flex items-center gap-2 ${!k&&D?"text-amber-600":""}`,children:[J.jsx("span",{children:D||"Select role..."}),!k&&D&&J.jsx("span",{title:"This role is not in the Resource List",className:"text-xs bg-amber-100 text-amber-800 px-1 rounded",children:"⚠️"})]})}},{headerName:"Name",field:"name",width:150,pinned:"left",editable:!0,valueSetter:G=>{const D=G.newValue;G.data.name=D;const k=r.map(M=>M.id===G.data.id?{...M,name:D}:M);return n(k),!0}},{headerName:"Int hourly rate, $/h",field:"intHourlyRate",width:140,editable:!0,valueFormatter:G=>`$${G.value.toFixed(2)}`,valueSetter:G=>{const D=parseFloat(G.newValue)||0;G.data.intHourlyRate=D;const k=r.map(M=>M.id===G.data.id?{...M,intHourlyRate:D}:M);return n(k),!0}},{headerName:"Int daily rate, $",width:120,valueGetter:G=>G.data.intHourlyRate*8,valueFormatter:G=>`$${G.value.toFixed(2)}`},{headerName:"Hourly rate (Client Rate)",field:"clientHourlyRate",width:160,editable:!0,valueFormatter:G=>`${c}${G.value.toFixed(2)}`,valueSetter:G=>{const D=parseFloat(G.newValue)||0;G.data.clientHourlyRate=D;const k=r.map(M=>M.id===G.data.id?{...M,clientHourlyRate:D}:M);return n(k),!0}},{headerName:"Daily rate (Client Rate)",width:150,valueGetter:G=>G.data.clientHourlyRate*8,valueFormatter:G=>`${c}${G.value.toFixed(2)}`},{headerName:"Margin, per role",width:130,valueGetter:G=>p(G.data),valueFormatter:G=>G.value===null||G.value===void 0?"-":`${G.value.toFixed(1)}%`}],B=a.map((G,D)=>({headerName:`${G}`,field:`week${G}`,width:80,editable:!0,filter:!1,headerComponentParams:{template:`
          <div style="display: flex; align-items: center; justify-content: center; width: 100%; position: relative;">
            <button 
              onclick="insertWeekAfter(${D})" 
              style="
                position: absolute;
                left: -12px;
                background: #10b981; 
                color: white; 
                border: none; 
                border-radius: 50%; 
                width: 14px; 
                height: 14px; 
                display: flex; 
                align-items: center; 
                justify-content: center; 
                font-size: 10px; 
                cursor: pointer; 
                z-index: 10;
                line-height: 1;
              "
              title="Insert week after position ${D}"
            >+</button>
            <div style="display: flex; align-items: center; gap: 4px;">
              <span>${G}</span>
              ${a.length>1?`<button 
                onclick="removeWeek(${G})" 
                style="
                  background: #ef4444; 
                  color: white; 
                  border: none; 
                  border-radius: 2px; 
                  width: 16px; 
                  height: 16px; 
                  display: flex; 
                  align-items: center; 
                  justify-content: center; 
                  font-size: 10px; 
                  cursor: pointer;
                "
              >×</button>`:""}
            </div>
            ${D===a.length-1?`<button 
              onclick="insertWeekAfter(${D+1})" 
              style="
                position: absolute;
                right: -12px;
                background: #10b981; 
                color: white; 
                border: none; 
                border-radius: 50%; 
                width: 14px; 
                height: 14px; 
                display: flex; 
                align-items: center; 
                justify-content: center; 
                font-size: 10px; 
                cursor: pointer; 
                z-index: 10;
                line-height: 1;
              "
              title="Add week at end"
            >+</button>`:""}
          </div>
        `},valueFormatter:k=>`${k.value||0}%`,valueSetter:k=>{const M=parseInt(k.newValue)||0,R=Math.max(0,Math.min(100,M));k.data[`week${G}`]=R;const y=r.map(S=>{if(S.id===k.data.id){const C=S.weeklyAllocations.map(x=>x.weekNumber===G?{...x,allocation:R}:x);return{...S,weeklyAllocations:C}}return S});return n(y),!0}})),H=[{headerName:"Total int cost, $",width:130,valueGetter:G=>d(G.data),valueFormatter:G=>`$${G.value.toFixed(2)}`},{headerName:"Total price",width:120,valueGetter:G=>f(G.data),valueFormatter:G=>`${c}${G.value.toFixed(2)}`},{headerName:"Estimated efforts, h",width:140,valueGetter:G=>h(G.data),valueFormatter:G=>`${G.value.toFixed(1)}`}];return window.removeWeek=g,window.insertWeekAfter=m,window.removePlanRole=w,[L,...T,...B,...H]},[a,c,e.exchangeRate,g,m,t,w,r,n]),b=U.useCallback(()=>{const L=Math.max(...a)+1;l(B=>[...B,L]);const T=r.map(B=>({...B,weeklyAllocations:[...B.weeklyAllocations,{id:0,weekNumber:L,allocation:0,resourcePlanId:B.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]}));n(T)},[a,r,n]),E=U.useCallback(()=>{const L={role:"",name:"",intHourlyRate:0,clientHourlyRate:0,weeklyAllocations:a.map(T=>({weekNumber:T,allocation:0}))};i(L)},[a,i]),P=U.useCallback(L=>t.some(T=>T.role===L),[t]),A=U.useMemo(()=>{const L=u.reduce((G,D)=>G+d(D),0),T=u.reduce((G,D)=>G+f(D),0),B=u.reduce((G,D)=>G+h(D),0),H=T>0?(T-L/e.exchangeRate)/T*100:0;return{totalIntCost:L,totalPrice:T,totalEfforts:B,calculatedMargin:H}},[u,a,e.exchangeRate]);return J.jsxs("div",{className:"space-y-6",children:[J.jsxs(hl,{children:[J.jsx(yg,{children:J.jsx(Cg,{children:"Project Settings"})}),J.jsxs(fl,{className:"grid grid-cols-4 gap-4",children:[J.jsxs("div",{className:"space-y-2",children:[J.jsx(gr,{htmlFor:"daysInFTE",children:"Days in FTE/month"}),J.jsx(ai,{id:"daysInFTE",type:"number",value:e.daysInFTE,onChange:L=>o({daysInFTE:parseInt(L.target.value)||20})})]}),J.jsxs("div",{className:"space-y-2",children:[J.jsx(gr,{htmlFor:"clientCurrency",children:"Client currency"}),J.jsxs(mg,{value:e.clientCurrency,onValueChange:L=>o({clientCurrency:L}),children:[J.jsx(wg,{children:J.jsx(vg,{})}),J.jsxs(bg,{children:[J.jsx(Oo,{value:"EUR",children:"EUR"}),J.jsx(Oo,{value:"USD",children:"USD"})]})]})]}),J.jsxs("div",{className:"space-y-2",children:[J.jsx(gr,{htmlFor:"exchangeRate",children:"USD-EUR Exchange rate"}),J.jsx(ai,{id:"exchangeRate",type:"number",step:"0.01",value:e.exchangeRate,onChange:L=>o({exchangeRate:parseFloat(L.target.value)||.89})})]}),J.jsxs("div",{className:"space-y-2",children:[J.jsx(gr,{htmlFor:"projectMargin",children:"Project Margin"}),J.jsx(ai,{id:"projectMargin",value:`${A.calculatedMargin.toFixed(0)}%`,readOnly:!0})]})]})]}),J.jsxs("div",{className:"space-y-4",children:[J.jsxs("div",{className:"flex items-center gap-4",children:[J.jsx("h2",{children:"Planning Table"}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsxs($l,{onClick:E,size:"sm",children:[J.jsx(Md,{className:"h-4 w-4 mr-1"}),"Add Role"]}),J.jsxs($l,{onClick:b,size:"sm",children:[J.jsx(Md,{className:"h-4 w-4 mr-1"}),"Add Week at End"]}),J.jsxs("span",{className:"text-sm text-muted-foreground",children:["Weeks: ",a.length," | Roles: ",u.length]})]})]}),J.jsxs("div",{className:"mb-2 text-sm text-muted-foreground",children:["💡 Tips: Click the green ",J.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 bg-emerald-500 text-white rounded-full text-xs",children:"+"})," buttons to insert weeks at specific positions, or the red × buttons to remove weeks or roles.",J.jsx("br",{}),J.jsx("span",{className:"text-amber-600 font-medium",children:"⚠️ Important:"})," When selecting a role, choose from the dropdown to auto-populate name and rate. If you type a custom role, ensure it exists in the Resource List tab first."]}),J.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:J.jsx(av,{theme:"legacy",rowData:u,columnDefs:v,defaultColDef:{sortable:!0,filter:!1,resizable:!0}})}),J.jsx(hl,{children:J.jsx(fl,{className:"pt-6",children:J.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[J.jsxs("div",{children:[J.jsx(gr,{children:"Total Internal Cost"}),J.jsxs("div",{className:"text-lg",children:["$",A.totalIntCost.toFixed(2)]})]}),J.jsxs("div",{children:[J.jsx(gr,{children:"Total Price"}),J.jsxs("div",{className:"text-lg",children:[c,A.totalPrice.toFixed(2)]})]}),J.jsxs("div",{children:[J.jsx(gr,{children:"Total Estimated Efforts"}),J.jsxs("div",{className:"text-lg",children:[A.totalEfforts.toFixed(1),"h"]})]}),J.jsxs("div",{children:[J.jsx(gr,{children:"Calculated Project Margin"}),J.jsxs("div",{className:"text-lg",children:[A.calculatedMargin.toFixed(1),"%"]})]})]})})})]})]})}const uz=e=>{const t=()=>{window.deleteResource&&window.deleteResource(e.data.id)};return J.jsx("div",{className:"flex items-center justify-center h-full",children:J.jsx("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 text-white border-none rounded cursor-pointer px-2 py-1 text-xs",title:"Delete resource",children:"Delete"})})};function dz({resourceLists:e,onResourceListsChange:t,onAddResourceList:r,onDeleteResourceList:n}){const[i,s]=U.useState(""),[o,a]=U.useState(""),[l,c]=U.useState(""),[u,h]=U.useState(""),[d,f]=U.useState(""),[p,m]=U.useState(""),g=P=>{n(P)},w=U.useMemo(()=>{const P={headerName:"Actions",width:100,cellRenderer:uz,sortable:!1,filter:!1},A=[{headerName:"Role",field:"role",width:200,editable:!0,onCellValueChanged:L=>{const T=e.map(B=>B.id===L.data.id?{...B,role:L.newValue}:B);t(T)}},{headerName:"Client Role",field:"clientRole",width:200,editable:!0,onCellValueChanged:L=>{const T=e.map(B=>B.id===L.data.id?{...B,clientRole:L.newValue}:B);t(T)}},{headerName:"Name",field:"name",width:150,editable:!0,onCellValueChanged:L=>{const T=e.map(B=>B.id===L.data.id?{...B,name:L.newValue}:B);t(T)}},{headerName:"Internal Rate ($/h)",field:"intRate",width:150,editable:!0,valueFormatter:L=>`$${L.value.toFixed(2)}`,onCellValueChanged:L=>{const T=e.map(B=>B.id===L.data.id?{...B,intRate:parseFloat(L.newValue)||0}:B);t(T)}},{headerName:"Location",field:"location",width:120,editable:!0,onCellValueChanged:L=>{const T=e.map(B=>B.id===L.data.id?{...B,location:L.newValue}:B);t(T)}},{headerName:"Daily Rate ($/day)",width:140,valueGetter:L=>L.data.intRate*8,valueFormatter:L=>`$${L.value.toFixed(2)}`},{headerName:"Description",field:"description",width:250,editable:!0,onCellValueChanged:L=>{const T=e.map(B=>B.id===L.data.id?{...B,description:L.newValue}:B);t(T)}}];return window.deleteResource=g,[P,...A]},[e,t,g]),v=()=>{if(!i.trim()||!u.trim())return;const P={role:i.trim(),clientRole:o.trim()||void 0,name:l.trim()||void 0,intRate:parseFloat(u)||0,location:p.trim()||void 0,description:d.trim()||void 0};r(P),s(""),a(""),c(""),h(""),f(""),m("")},b=e.length,E=e.length>0?e.reduce((P,A)=>P+A.intRate,0)/e.length:0;return J.jsxs("div",{className:"space-y-6",children:[J.jsxs(hl,{children:[J.jsx(yg,{children:J.jsx(Cg,{children:"Add New Resource"})}),J.jsx(fl,{children:J.jsxs("div",{className:"flex items-end gap-3 flex-wrap",children:[J.jsxs("div",{className:"flex-1 min-w-40",children:[J.jsx(gr,{htmlFor:"newRole",className:"text-sm font-medium",children:"Role Name"}),J.jsx(ai,{id:"newRole",placeholder:"e.g. Senior Developer",value:i,onChange:P=>s(P.target.value),className:"mt-1"})]}),J.jsxs("div",{className:"flex-1 min-w-40",children:[J.jsx(gr,{htmlFor:"newClientRole",className:"text-sm font-medium",children:"Client Role"}),J.jsx(ai,{id:"newClientRole",placeholder:"e.g. Senior Developer",value:o,onChange:P=>a(P.target.value),className:"mt-1"})]}),J.jsxs("div",{className:"flex-1 min-w-32",children:[J.jsx(gr,{htmlFor:"newName",className:"text-sm font-medium",children:"Name"}),J.jsx(ai,{id:"newName",placeholder:"e.g. John Smith",value:l,onChange:P=>c(P.target.value),className:"mt-1"})]}),J.jsxs("div",{className:"w-24",children:[J.jsx(gr,{htmlFor:"newRate",className:"text-sm font-medium",children:"Rate ($/h)"}),J.jsx(ai,{id:"newRate",type:"number",placeholder:"25.00",value:u,onChange:P=>h(P.target.value),className:"mt-1"})]}),J.jsxs("div",{className:"w-28",children:[J.jsx(gr,{htmlFor:"newLocation",className:"text-sm font-medium",children:"Location"}),J.jsx(ai,{id:"newLocation",placeholder:"New York",value:p,onChange:P=>m(P.target.value),maxLength:20,className:"mt-1"})]}),J.jsxs("div",{className:"flex-1 min-w-40",children:[J.jsx(gr,{htmlFor:"newDescription",className:"text-sm font-medium",children:"Description"}),J.jsx(ai,{id:"newDescription",placeholder:"Brief description",value:d,onChange:P=>f(P.target.value),className:"mt-1"})]}),J.jsxs($l,{onClick:v,disabled:!i.trim()||!u.trim(),className:"mb-0",children:[J.jsx(Md,{className:"h-4 w-4 mr-1"}),"Add"]})]})})]}),J.jsxs(hl,{children:[J.jsx(yg,{children:J.jsx(Cg,{children:"Resource List"})}),J.jsx(fl,{children:J.jsx("div",{className:"ag-theme-alpine",style:{height:"500px",width:"100%"},children:J.jsx(av,{theme:"legacy",rowData:e,columnDefs:w,defaultColDef:{sortable:!0,filter:!0,resizable:!0}})})})]}),J.jsx(hl,{children:J.jsx(fl,{className:"pt-6",children:J.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[J.jsxs("div",{children:[J.jsx(gr,{children:"Total Resources"}),J.jsx("div",{className:"text-lg",children:b})]}),J.jsxs("div",{children:[J.jsx(gr,{children:"Average Rate"}),J.jsxs("div",{className:"text-lg",children:["$",E.toFixed(2),"/h"]})]}),J.jsxs("div",{children:[J.jsx(gr,{children:"Average Daily Rate"}),J.jsxs("div",{className:"text-lg",children:["$",(E*8).toFixed(2),"/day"]})]})]})})})]})}function eu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BR={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var h=typeof eu=="function"&&eu;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[c]={exports:{}};n[c][0].call(f.exports,function(p){return o(n[c][1][p]||p)},f,f.exports,r,n,i,s)}return i[c].exports}for(var a=typeof eu=="function"&&eu,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){const s=r("fs"),o=r("fast-csv"),a=r("dayjs/plugin/customParseFormat"),l=r("dayjs/plugin/utc"),c=r("dayjs").extend(a).extend(l),u=r("../utils/stream-buf"),{fs:{exists:h}}=r("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,p){if(p=p||{},!await h(f))throw new Error("File not found: "+f);const m=s.createReadStream(f),g=await this.read(m,p);return m.close(),g}read(f,p){return p=p||{},new Promise((m,g)=>{const w=this.workbook.addWorksheet(p.sheetName),v=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=p.map||function(P){if(P==="")return null;const A=Number(P);if(!Number.isNaN(A)&&A!==1/0)return A;const L=v.reduce((B,H)=>{if(B)return B;const G=c(P,H,!0);return G.isValid()?G:null},null);if(L)return new Date(L.valueOf());const T=d[P];return T!==void 0?T:P},E=o.parse(p.parserOptions).on("data",P=>{w.addRow(P.map(b))}).on("end",()=>{E.emit("worksheet",w)});E.on("worksheet",m).on("error",g),f.pipe(E)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,p){return new Promise((m,g)=>{p=p||{};const w=this.workbook.getWorksheet(p.sheetName||p.sheetId),v=o.format(p.formatterOptions);f.on("finish",()=>{m()}),v.on("error",g),v.pipe(f);const{dateFormat:b,dateUTC:E}=p,P=p.map||(T=>{if(T){if(T.text||T.hyperlink)return T.hyperlink||T.text||"";if(T.formula||T.result)return T.result||"";if(T instanceof Date)return b?E?c.utc(T).format(b):c(T).format(b):E?c.utc(T).format():c(T).format();if(T.error)return T.error;if(typeof T=="object")return JSON.stringify(T)}return T}),A=p.includeEmptyRows===void 0||p.includeEmptyRows;let L=1;w&&w.eachRow((T,B)=>{if(A)for(;L++<B-1;)v.write([]);const{values:H}=T;H.shift(),v.write(H.map(P)),L=B}),v.end()})}writeFile(f,p){const m={encoding:(p=p||{}).encoding||"utf8"},g=s.createWriteStream(f,m);return this.write(g,p)}async writeBuffer(f){const p=new u;return await this.write(p,f),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,c)if(typeof c=="string"){const h=s.decodeAddress(c);this.nativeCol=h.col+u,this.nativeColOff=0,this.nativeRow=h.row+u,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+u,this.row=c.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(r,n,i){const s=r("../utils/col-cache"),o=r("../utils/under-dash"),a=r("./enums"),{slideFormula:l}=r("../utils/shared-formula"),c=r("./note");class u{constructor(f,p,m){if(!f||!p)throw new Error("A Cell needs a Row");this._row=f,this._column=p,s.validateAddress(m),this._address=m,this._value=h.create(u.Types.Null,this),this.style=this._mergeStyle(f.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,p,m){const g=f&&f.numFmt||p&&p.numFmt;g&&(m.numFmt=g);const w=f&&f.font||p&&p.font;w&&(m.font=w);const v=f&&f.alignment||p&&p.alignment;v&&(m.alignment=v);const b=f&&f.border||p&&p.border;b&&(m.border=b);const E=f&&f.fill||p&&p.fill;E&&(m.fill=E);const P=f&&f.protection||p&&p.protection;return P&&(m.protection=P),m}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(f,p){this._value.release(),this._value=h.create(u.Types.Merge,this,f),p||(this.style=f.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=h.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===u.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==u.Types.Merge?(this._value.release(),this._value=h.create(h.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new c(f)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===u.Types.String&&(this._value=h.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),f.forEach(m=>{p.addEx(this.fullAddress,m)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=h.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=c.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}u.Types=a.ValueType;const h={getType:d=>d==null?u.Types.Null:d instanceof String||typeof d=="string"?u.Types.String:typeof d=="number"?u.Types.Number:typeof d=="boolean"?u.Types.Boolean:d instanceof Date?u.Types.Date:d.text&&d.hyperlink?u.Types.Hyperlink:d.formula||d.sharedFormula?u.Types.Formula:d.richText?u.Types.RichText:d.sharedString?u.Types.SharedString:d.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(d){this.model={address:d.address,type:u.Types.Null}}get value(){return null}set value(d){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.Number,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.Date,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(d,f){this.cell=d,this.model={address:d.address,type:u.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(d){const f={},p=m=>{const g=d[m];g&&(f[m]=g)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(h.getType(d)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return u.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?a.ValueType.Null:d instanceof String||typeof d=="string"?a.ValueType.String:typeof d=="number"?a.ValueType.Number:d instanceof Date?a.ValueType.Date:d.text&&d.hyperlink?a.ValueType.Hyperlink:d.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,f=d.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof u?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.SharedString,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.Boolean,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(d,f){this.model={address:d.address,type:u.Types.Error,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,f)=>(d[f.t]=f.f,d),[]),create(d,f,p){const m=this.types[d];if(!m)throw new Error("Could not create Value of type "+d);return new m(f,p)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache");class l{constructor(u,h,d){this._worksheet=u,this._number=h,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((h,d)=>{this._worksheet.getCell(d+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,h){const d=this.number;h||(h=u,u=null),this._worksheet.eachRow(u,(f,p)=>{h(f.getCell(d),p)})}get values(){const u=[];return this.eachCell((h,d)=>{h&&h.type!==o.ValueType.Null&&(u[d]=h.value)}),u}set values(u){if(!u)return;const h=this.number;let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((f,p)=>{this._worksheet.getCell(p+d,h).value=f})}_applyStyle(u,h){return this.style[u]=h,this.eachCell(d=>{d[u]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const h=[];let d=null;return u&&u.forEach((f,p)=>{f.isDefault?d&&(d=null):d&&f.equivalentTo(d)?d.max=p+1:(d={min:p+1,max:p+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},h.push(d))}),h.length?h:void 0}static fromModel(u,h){const d=[];let f=1,p=0;for(h=(h=h||[]).sort(function(m,g){return m.min-g.min});p<h.length;){const m=h[p++];for(;f<m.min;)d.push(new l(u,f++));for(;f<=m.max;)d.push(new l(u,f++,m))}return d.length?d:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,o){return this.model[s]=o}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("../utils/cell-matrix"),l=r("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new a)}add(u,h){const d=o.decodeEx(u);this.addEx(d,h)}addEx(u,h){const d=this.getMatrix(h);if(u.top)for(let f=u.left;f<=u.right;f++)for(let p=u.top;p<=u.bottom;p++){const m={sheetName:u.sheetName,address:o.n2l(f)+p,row:p,col:f};d.addCellEx(m)}else d.addCellEx(u)}remove(u,h){const d=o.decodeEx(u);this.removeEx(d,h)}removeEx(u,h){this.getMatrix(h).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,h=>{h.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(h,d)=>{h.forEach(f=>{u(d,f)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(h,d)=>h.findCellEx(u)&&d).filter(Boolean)}_explore(u,h){h.mark=!1;const{sheetName:d}=h,f=new l(h.row,h.col,h.row,h.col,d);let p,m;function g(v,b){const E=u.findCellAt(d,v,h.col);return!(!E||!E.mark)&&(f[b]=v,E.mark=!1,!0)}for(m=h.row-1;g(m,"top");m--);for(m=h.row+1;g(m,"bottom");m++);function w(v,b){const E=[];for(m=f.top;m<=f.bottom;m++){const P=u.findCellAt(d,m,v);if(!P||!P.mark)return!1;E.push(P)}f[b]=v;for(let P=0;P<E.length;P++)E[P].mark=!1;return!0}for(p=h.col-1;w(p,"left");p--);for(p=h.col+1;w(p,"right");p++);return f}getRanges(u,h){return(h=h||this.matrixMap[u])?(h.forEach(d=>{d.mark=!0}),{name:u,ranges:h.map(d=>d.mark&&this._explore(h,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,h){u.forEachInSheet(h,(d,f,p)=>{d&&(d.row===f&&d.col===p||(d.row=f,d.col=p,d.address=o.n2l(p)+f))})}spliceRows(u,h,d,f){s.each(this.matrixMap,p=>{p.spliceRows(u,h,d,f),this.normaliseMatrix(p,u)})}spliceColumns(u,h,d,f){s.each(this.matrixMap,p=>{p.spliceColumns(u,h,d,f),this.normaliseMatrix(p,u)})}get model(){return s.map(this.matrixMap,(u,h)=>this.getRanges(h,u)).filter(u=>u.ranges.length)}set model(u){const h=this.matrixMap={};u.forEach(d=>{const f=h[d.name]=new a;d.ranges.forEach(p=>{c.test(p.split("!").pop()||"")&&f.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){const s=r("../utils/col-cache"),o=r("./anchor");n.exports=class{constructor(a,l){this.worksheet=a,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:l,imageId:c,range:u,hyperlinks:h}=a;if(this.type=l,this.imageId=c,l==="image")if(typeof u=="string"){const d=s.decode(u);this.range={tl:new o(this.worksheet,{col:d.left,row:d.top},-1),br:new o(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:h||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){const s=r("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:c}=l,{texts:u}=c;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=c}static fromModel(l){const c=new o;return c.model=l,c}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,c,u,h,d){if(arguments.length<4){const f=s.decodeAddress(l),p=s.decodeAddress(c);this.model={top:Math.min(f.row,p.row),left:Math.min(f.col,p.col),bottom:Math.max(f.row,p.row),right:Math.max(f.col,p.col),sheetName:u},this.setTLBR(f.row,f.col,p.row,p.col,d)}else this.model={top:Math.min(l,u),left:Math.min(c,h),bottom:Math.max(l,u),right:Math.max(c,h),sheetName:d}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const c=l[0];if(c instanceof o)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const u=s.decodeEx(c);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,c,u,h){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(l){if(l){const{dimensions:c,number:u}=l;c&&this.expand(u,c.min,u,c.max)}}expandToAddress(l){const c=s.decodeEx(l);this.expand(c.row,c.col,c.row,c.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const c=s.decodeEx(l);return this.containsEx(c)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let c=this.left;c<=this.right;c++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,c),u,c)}}n.exports=o},{"../utils/col-cache":19}],11:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache"),l=r("./cell");n.exports=class{constructor(c,u){this._worksheet=c,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let u=this._cells[c.col-1];if(!u){const h=this._worksheet.getColumn(c.col);u=new l(this,h,c.address),this._cells[c.col-1]=u}return u}getCell(c){if(typeof c=="string"){const u=this._worksheet.getColumnKey(c);c=u?u.number:a.l2n(c)}return this._cells[c-1]||this.getCellEx({address:a.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,u){const h=c+u;for(var d=arguments.length,f=new Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];const m=f.length-u,g=this._cells.length;let w,v,b;if(m<0)for(w=c+f.length;w<=g;w++)b=this._cells[w-1],v=this._cells[w-m-1],v?(b=this.getCell(w),b.value=v.value,b.style=v.style,b._comment=v._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(m>0)for(w=g;w>=h;w--)v=this._cells[w-1],v?(b=this.getCell(w+m),b.value=v.value,b.style=v.style,b._comment=v._comment):this._cells[w+m-1]=void 0;for(w=0;w<f.length;w++)b=this.getCell(c+w),b.value=f[w],b.style={},b._comment=void 0}eachCell(c,u){if(u||(u=c,c=null),c&&c.includeEmpty){const h=this._cells.length;for(let d=1;d<=h;d++)u(this.getCell(d),d)}else this._cells.forEach((h,d)=>{h&&h.type!==o.ValueType.Null&&u(h,d+1)})}addPageBreak(c,u){const h=this._worksheet,d=Math.max(0,c-1)||0,f=Math.max(0,u-1)||16838,p={id:this._number,max:f,man:1};d&&(p.min=d),h.rowBreaks.push(p)}get values(){const c=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(c[u.col]=u.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((h,d)=>{h!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,d+u),row:this._number,col:d+u}).value=h)})}else this._worksheet.eachColumnKey((u,h)=>{c[h]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=c[h])})}get hasValues(){return s.some(this._cells,c=>c&&c.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,u=0;return this._cells.forEach(h=>{h&&h.type!==o.ValueType.Null&&((!c||c>h.col)&&(c=h.col),u<h.col&&(u=h.col))}),c>0?{min:c,max:u}:null}_applyStyle(c,u){return this.style[c]=u,this._cells.forEach(h=>{h&&(h[c]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let u=0,h=0;return this._cells.forEach(d=>{if(d){const f=d.model;f&&((!u||u>d.col)&&(u=d.col),h<d.col&&(h=d.col),c.push(f))}}),this.height||c.length?{cells:c,number:this.number,min:u,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],c.cells.forEach(h=>{switch(h.type){case l.Types.Merge:break;default:{let d;if(h.address)d=a.decodeAddress(h.address);else if(u){const{row:f}=u,p=u.col+1;d={row:f,col:p,address:a.encodeAddress(f,p),$col$row:`$${a.n2l(p)}$${f}`}}u=d,this.getCellEx(d).model=h;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c,u){this.table=l,this.column=c,this.index=u}_set(l,c){this.table.cacheState(),this.column[l]=c}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(a,l){this.worksheet=a,l&&(this.table=l,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,l=(m,g,w)=>{m[g]===void 0&&(m[g]=w)};l(a,"headerRow",!0),l(a,"totalsRow",!1),l(a,"style",{}),l(a.style,"theme","TableStyleMedium2"),l(a.style,"showFirstColumn",!1),l(a.style,"showLastColumn",!1),l(a.style,"showRowStripes",!1),l(a.style,"showColumnStripes",!1);const c=(m,g)=>{if(!m)throw new Error(g)};c(a.ref,"Table must have ref"),c(a.columns,"Table must have column definitions"),c(a.rows,"Table must have row definitions"),a.tl=s.decodeAddress(a.ref);const{row:u,col:h}=a.tl;c(u>0,"Table must be on valid row"),c(h>0,"Table must be on valid col");const{width:d,filterHeight:f,tableHeight:p}=this;a.autoFilterRef=s.encode(u,h,u+f-1,h+d-1),a.tableRef=s.encode(u,h,u+p-1,h+d-1),a.columns.forEach((m,g)=>{c(m.name,`Column ${g} must have a name`),g===0?l(m,"totalsRowLabel","Total"):(l(m,"totalsRowFunction","none"),m.totalsRowFormula=this.getFormula(m))})}store(){const a=(f,p)=>{p&&Object.keys(p).forEach(m=>{f[m]=p[m]})},{worksheet:l,table:c}=this,{row:u,col:h}=c.tl;let d=0;if(c.headerRow){const f=l.getRow(u+d++);c.columns.forEach((p,m)=>{const{style:g,name:w}=p,v=f.getCell(h+m);v.value=w,a(v,g)})}if(c.rows.forEach(f=>{const p=l.getRow(u+d++);f.forEach((m,g)=>{const w=p.getCell(h+g);w.value=m,a(w,c.columns[g].style)})}),c.totalsRow){const f=l.getRow(u+d++);c.columns.forEach((p,m)=>{const g=f.getCell(h+m);if(m===0)g.value=p.totalsRowLabel;else{const w=this.getFormula(p);g.value=w?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}a(g,p.style)})}}load(a){const{table:l}=this,{row:c,col:u}=l.tl;let h=0;if(l.headerRow){const d=a.getRow(c+h++);l.columns.forEach((f,p)=>{d.getCell(u+p).value=f.name})}if(l.rows.forEach(d=>{const f=a.getRow(c+h++);d.forEach((p,m)=>{f.getCell(u+m).value=p})}),l.totalsRow){const d=a.getRow(c+h++);l.columns.forEach((f,p)=>{const m=d.getCell(u+p);p===0?m.value=f.totalsRowLabel:this.getFormula(f)&&(m.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=this.width;u<this._cache.width;u++)c.getCell(a.col+u).value=null}}this.store()}addRow(a,l){this.cacheState(),l===void 0?this.table.rows.push(a):this.table.rows.splice(l,0,a)}removeRows(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,l)}getColumn(a){const l=this.table.columns[a];return new o(this,l,a)}addColumn(a,l,c){this.cacheState(),c===void 0?(this.table.columns.push(a),this.table.rows.forEach((u,h)=>{u.push(l[h])})):(this.table.columns.splice(c,0,a),this.table.rows.forEach((u,h)=>{u.splice(c,0,l[h])}))}removeColumns(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,l),this.table.rows.forEach(c=>{c.splice(a,l)})}_assign(a,l,c){this.cacheState(),a[l]=c}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(r,n,i){const s=r("./worksheet"),o=r("./defined-names"),a=r("../xlsx/xlsx"),l=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,u){const h=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const d=this._worksheets.reduce((m,g)=>(g&&g.orderNo)>m?g.orderNo:m,0),f=Object.assign({},u,{id:h,name:c,orderNo:d+1,workbook:this}),p=new s(f);return this._worksheets[h]=p,p}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const u=this.getWorksheet(c);u&&u.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(u=>u&&u.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,u)=>c.orderNo-u.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(u=>{c(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const u=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),u}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(u=>{const{id:h,name:d,state:f}=u,p=c.sheets&&c.sheets.findIndex(m=>m.id===h);(this._worksheets[h]=new s({id:h,name:d,orderNo:p,state:f,workbook:this})).model=u}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("./range"),l=r("./row"),c=r("./column"),u=r("./enums"),h=r("./image"),d=r("./table"),f=r("./data-validations"),p=r("../utils/encryptor"),{copyStyle:m}=r("../utils/copy-style");n.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new f,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new a;return this._rows.forEach(w=>{if(w){const v=w.dimensions;v&&g.expand(w.number,v.min,w.number,v.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((b,E)=>{const P=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(b,P)},0);let w=1;const v=this._columns=[];g.forEach(b=>{const E=new c(this,w++,!1);v.push(E),E.defn=b})}getColumnKey(g){return this._keys[g]}setColumnKey(g,w){this._keys[g]=w}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){s.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const w=this._keys[g];if(w)return w;g=o.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let w=this._columns.length+1;for(;w<=g;)this._columns.push(new c(this,w++))}return this._columns[g-1]}spliceColumns(g,w){const v=this._rows.length;for(var b=arguments.length,E=new Array(b>2?b-2:0),P=2;P<b;P++)E[P-2]=arguments[P];if(E.length>0)for(let B=0;B<v;B++){const H=[g,w];E.forEach(D=>{H.push(D[B]||null)});const G=this.getRow(B+1);G.splice.apply(G,H)}else this._rows.forEach(B=>{B&&B.splice(g,w)});const A=E.length-w,L=g+w,T=this._columns.length;if(A<0)for(let B=g+E.length;B<=T;B++)this.getColumn(B).defn=this.getColumn(B-A).defn;else if(A>0)for(let B=T;B>=L;B--)this.getColumn(B+A).defn=this.getColumn(B).defn;for(let B=g;B<g+E.length;B++)this.getColumn(B).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,w,E.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(w=>{g=Math.max(g,w.cellCount)}),g}get actualColumnCount(){const g=[];let w=0;return this.eachRow(v=>{v.eachCell(b=>{let{col:E}=b;g[E]||(g[E]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const g=this._rows;let w=g.length;for(;w>0&&g[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,w){return this._rows.slice(g-1,g-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let w=this._rows[g-1];return w||(w=this._rows[g-1]=new l(this,g)),w}getRows(g,w){if(w<1)return;const v=[];for(let b=g;b<g+w;b++)v.push(this.getRow(b));return v}addRow(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,b=this.getRow(v);return b.values=g,this._setStyleOption(v,w[0]==="i"?w:"n"),b}addRows(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return g.forEach(b=>{v.push(this.addRow(b,w))}),v}insertRow(g,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,w),this._setStyleOption(g,v),this.getRow(g)}insertRows(g,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...w),v!=="n")for(let b=0;b<w.length;b++)v[0]==="o"&&this.findRow(w.length+g+b)!==void 0?this._copyStyle(w.length+g+b,g+b,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+b,v[1]==="+");return this.getRows(g,w.length)}_setStyleOption(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,w[1]==="+"):w[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,w[1]==="+")}_copyStyle(g,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(g),E=this.getRow(w);E.style=m(b.style),b.eachCell({includeEmpty:v},(P,A)=>{E.getCell(A).style=m(P.style)}),E.height=b.height}duplicateRow(g,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[g-1],E=new Array(w).fill(b.values);this.spliceRows(g+1,v?0:w,...E);for(let P=0;P<w;P++){const A=this._rows[g+P];A.style=b.style,A.height=b.height,b.eachCell({includeEmpty:!0},(L,T)=>{A.getCell(T).style=L.style})}}spliceRows(g,w){const v=g+w;for(var b=arguments.length,E=new Array(b>2?b-2:0),P=2;P<b;P++)E[P-2]=arguments[P];const A=E.length,L=A-w,T=this._rows.length;let B,H;if(L<0)for(g===T&&(this._rows[T-1]=void 0),B=v;B<=T;B++)if(H=this._rows[B-1],H){const G=this.getRow(B+L);G.values=H.values,G.style=H.style,G.height=H.height,H.eachCell({includeEmpty:!0},(D,k)=>{G.getCell(k).style=D.style}),this._rows[B-1]=void 0}else this._rows[B+L-1]=void 0;else if(L>0)for(B=T;B>=v;B--)if(H=this._rows[B-1],H){const G=this.getRow(B+L);G.values=H.values,G.style=H.style,G.height=H.height,H.eachCell({includeEmpty:!0},(D,k)=>{if(G.getCell(k).style=D.style,D._value.constructor.name==="MergeValue"){const M=this.getRow(D._row._number+A).getCell(k),R=D._value._master,y=this.getRow(R._row._number+A).getCell(R._column._number);M.merge(y)}})}else this._rows[B+L-1]=void 0;for(B=0;B<A;B++){const G=this.getRow(g+B);G.style={},G.values=E[B]}this.workbook.definedNames.spliceRows(this.name,g,w,A)}eachRow(g,w){if(w||(w=g,g=void 0),g&&g.includeEmpty){const v=this._rows.length;for(let b=1;b<=v;b++)w(this.getRow(b),b)}else this._rows.forEach(v=>{v&&v.hasValues&&w(v,v.number)})}getSheetValues(){const g=[];return this._rows.forEach(w=>{w&&(g[w.number]=w.values)}),g}findCell(g,w){const v=o.getAddress(g,w),b=this._rows[v.row-1];return b?b.findCell(v.col):void 0}getCell(g,w){const v=o.getAddress(g,w);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const b=new a(w);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const b=new a(w);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(g,w){s.each(this._merges,b=>{if(b.intersects(g))throw new Error("Cannot merge already merged cells")});const v=this.getCell(g.top,g.left);for(let b=g.top;b<=g.bottom;b++)for(let E=g.left;E<=g.right;E++)(b>g.top||E>g.left)&&this.getCell(b,E).merge(v,w);this._merges[v.address]=g}_unMergeMaster(g){const w=this._merges[g.address];if(w){for(let v=w.top;v<=w.bottom;v++)for(let b=w.left;b<=w.right;b++)this.getCell(v,b).unmerge();delete this._merges[g.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const b=new a(w);for(let E=b.top;E<=b.bottom;E++)for(let P=b.left;P<=b.right;P++){const A=this.findCell(E,P);A&&(A.type===u.ValueType.Merge?this._unMergeMaster(A.master):this._merges[A.address]&&this._unMergeMaster(A))}}fillFormula(g,w,v){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const E=o.decode(g),{top:P,left:A,bottom:L,right:T}=E,B=T-A+1,H=o.encodeAddress(P,A),G=b==="shared";let D;D=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(M,R)=>v[M-P][R-A]:(M,R)=>v[(M-P)*B+(R-A)]:()=>{};let k=!0;for(let M=P;M<=L;M++)for(let R=A;R<=T;R++)k?(this.getCell(M,R).value={shareType:b,formula:w,ref:g,result:D(M,R)},k=!1):this.getCell(M,R).value=G?{sharedFormula:H,result:D(M,R)}:D(M,R)}addImage(g,w){const v={type:"image",imageId:g,range:w};this._media.push(new h(this,v))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const w={type:"background",imageId:g};this._media.push(new h(this,w))}getBackgroundImageId(){const g=this._media.find(w=>w.type==="background");return g&&g.imageId}protect(g,w){return new Promise(v=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!g&&"spinCount"in w&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(g){const w=new d(this,g);return this.tables[g.name]=w,w}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};g.cols=c.toModel(this.columns);const w=g.rows=[],v=g.dimensions=new a;return this._rows.forEach(b=>{const E=b&&b.model;E&&(v.expand(E.number,E.min,E.number,E.max),w.push(E))}),g.merges=[],s.each(this._merges,b=>{g.merges.push(b.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(w=>{const v=new l(this,w.number);this._rows[v.number-1]=v,v.model=w})}_parseMergeCells(g){s.each(g.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(g){this.name=g.name,this._columns=c.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new f(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(w=>new h(this,w)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((w,v)=>{const b=new d;return b.model=v,w[v.name]=b,w},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const s={Workbook:r("./doc/workbook")},o=r("./doc/enums");Object.keys(o).forEach(a=>{s[a]=o[a]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:s?s.decode(o):o.toString()}},{}],17:[function(r,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=r("buffer");i.stringToBuffer=function(a){return typeof a!="string"?a:s?o.from(s.encode(a).buffer):o.from(a)}},{buffer:220}],18:[function(r,n,i){const s=r("./under-dash"),o=r("./col-cache");n.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(o.decodeEx(a))}getCell(a){return this.findCellEx(o.decodeEx(a),!0)}findCell(a){return this.findCellEx(o.decodeEx(a),!1)}findCellAt(a,l,c){const u=this.sheets[a],h=u&&u[l];return h&&h[c]}addCellEx(a){if(a.top)for(let l=a.top;l<=a.bottom;l++)for(let c=a.left;c<=a.right;c++)this.getCellAt(a.sheetName,l,c);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,l){const c=this.findSheet(a,l),u=this.findSheetRow(c,a,l);return this.findRowCell(u,a,l)}getCellAt(a,l,c){const u=this.sheets[a]||(this.sheets[a]=[]),h=u[l]||(u[l]=[]);return h[c]||(h[c]={sheetName:a,address:o.n2l(c)+l,row:l,col:c})}removeCellEx(a){const l=this.findSheet(a);if(!l)return;const c=this.findSheetRow(l,a);c&&delete c[a.col]}forEachInSheet(a,l){const c=this.sheets[a];c&&c.forEach((u,h)=>{u&&u.forEach((d,f)=>{d&&l(d,h,f)})})}forEach(a){s.each(this.sheets,(l,c)=>{this.forEachInSheet(c,a)})}map(a){const l=[];return this.forEach(c=>{l.push(a(c))}),l}findSheet(a,l){const c=a.sheetName;return this.sheets[c]?this.sheets[c]:l?this.sheets[c]=[]:void 0}findSheetRow(a,l,c){const{row:u}=l;return a&&a[u]?a[u]:c?a[u]=[]:void 0}findRowCell(a,l,c){const{col:u}=l;return a&&a[u]?a[u]:c?a[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(a,l,c,u){const h=this.sheets[a];if(h){const d=[];for(let f=0;f<u;f++)d.push([]);h.splice(l,c,...d)}}spliceColumns(a,l,c,u){const h=this.sheets[a];if(h){const d=[];for(let f=0;f<u;f++)d.push(null);s.each(h,f=>{f.splice(l,c,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,i){const s=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let l,c,u,h,d,f=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(f=27;f<=702;)c=f-27,u=c%26,h=Math.floor(c/26),l=this._dictionary[h]+this._dictionary[u],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(f=703;f<=16384;)c=f-703,u=c%26,h=Math.floor(c/26)%26,d=Math.floor(c/676),l=this._dictionary[d]+this._dictionary[h]+this._dictionary[u],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!s.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const l=a.length<5&&this._hash[a];if(l)return l;let c=!1,u="",h=0,d=!1,f="",p=0;for(let g,w=0;w<a.length;w++)if(g=a.charCodeAt(w),!d&&g>=65&&g<=90)c=!0,u+=a[w],h=26*h+g-64;else if(g>=48&&g<=57)d=!0,f+=a[w],p=10*p+g-48;else if(d&&c&&g!==36)break;if(c){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else h=void 0;d||(p=void 0);const m={address:a=u+f,col:h,row:p,$col$row:`$${u}$${f}`};return h<=100&&p<=100&&(this._hash[a]=m,this._hash[m.$col$row]=m),m},getAddress(a,l){if(l){const c=this.n2l(l)+a;return this.decodeAddress(c)}return this.decodeAddress(a)},decode(a){const l=a.split(":");if(l.length===2){const c=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),h={top:Math.min(c.row,u.row),left:Math.min(c.col,u.col),bottom:Math.max(c.row,u.row),right:Math.max(c.col,u.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(a)},decodeEx(a){const l=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=l[1]||l[2],u=l[3],h=u.split(":");if(h.length>1){let f=this.decodeAddress(h[0]),p=this.decodeAddress(h[1]);const m=Math.min(f.row,p.row),g=Math.min(f.col,p.col),w=Math.max(f.row,p.row),v=Math.max(f.col,p.col);return f=this.n2l(g)+m,p=this.n2l(v)+w,{top:m,left:g,bottom:w,right:v,sheetName:c,tl:{address:f,col:g,row:m,$col$row:`$${this.n2l(g)}$${m}`,sheetName:c},br:{address:p,col:v,row:w,$col$row:`$${this.n2l(v)}$${w}`,sheetName:c},dimensions:`${f}:${p}`}}if(u.startsWith("#"))return c?{sheetName:c,error:u}:{error:u};const d=this.decodeAddress(u);return c?{sheetName:c,...d}:d},encodeAddress:(a,l)=>o.n2l(l)+a,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,l){const[c,u,,h,d]=a,[f,p]=l;return f>=c&&f<=h&&p>=u&&p<=d}};n.exports=o},{}],20:[function(r,n,i){const s=(a,l)=>({...a,...l.reduce((c,u)=>(a[u]&&(c[u]={...a[u]}),c),{})}),o=function(a,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[c]&&(l[c]=s(a[c],u))};i.copyStyle=a=>{if(!a)return a;if(l=a,Object.keys(l).length===0)return{};var l;const c={...a};return o(a,c,"font",["color"]),o(a,c,"alignment"),o(a,c,"protection"),a.border&&(o(a,c,"border"),o(a.border,c.border,"top",["color"]),o(a.border,c.border,"left",["color"]),o(a.border,c.border,"bottom",["color"]),o(a.border,c.border,"right",["color"]),o(a.border,c.border,"diagonal",["color"])),a.fill&&(o(a,c,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(c.fill.stops=a.fill.stops.map(u=>s(u,["color"])))),c}},{}],21:[function(r,n,i){(function(s){(function(){const o=r("crypto"),a={hash(l){const c=o.createHash(l);for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return c.update(s.concat(h)),c.digest()},convertPasswordToHash(l,c,u,h){if(c=c.toLowerCase(),o.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const d=s.from(l,"utf16le");let f=this.hash(c,s.from(u,"base64"),d);for(let p=0;p<h;p++){const m=s.alloc(4);m.writeUInt32LE(p,0),f=this.hash(c,f,m)}return f.toString("base64")},randomBytes:l=>o.randomBytes(l)};n.exports=a}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,i){const{SaxesParser:s}=r("saxes"),{PassThrough:o}=r("readable-stream"),{bufferToString:a}=r("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const c=new s;let u;c.on("error",d=>{u=d});let h=[];c.on("opentag",d=>h.push({eventType:"opentag",value:d})),c.on("text",d=>h.push({eventType:"text",value:d})),c.on("closetag",d=>h.push({eventType:"closetag",value:d}));for await(const d of l){if(c.write(a(d)),u)throw u;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,i){const s=r("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,c,u){const h=s.decode(c),d=s.decode(u);return l.replace(o,(f,p,m,g,w)=>{if(w)return f;const v=a.exec(g);if(v){const b=v[1],E=v[2].toUpperCase(),P=v[3],A=v[4];if(E.length>3||E.length===3&&E>"XFD")return f;let L=s.l2n(E),T=parseInt(A,10);return b||(L+=d.col-h.col),P||(T+=d.row-h.row),(p||"")+(b||"")+s.n2l(L)+(P||"")+T}return f})}}},{"./col-cache":19}],24:[function(r,n,i){(function(s,o){(function(){const a=r("readable-stream"),l=r("./utils"),c=r("./string-buf");class u{constructor(g,w){this._data=g,this._encoding=w}get length(){return this.toBuffer().length}copy(g,w,v,b){return this.toBuffer().copy(g,w,v,b)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,v,b){return this._data._buf.copy(g,w,v,b)}toBuffer(){return this._data.toBuffer()}}class d{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,v,b){this._data.copy(g,w,v,b)}toBuffer(){return this._data}}class f{constructor(g){this.size=g,this.buffer=o.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let w;return g===0?null:g===void 0||g>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=o.alloc(g),this.buffer.copy(w,0,this.iRead,g),this.iRead+=g,w)}write(g,w,v){const b=Math.min(v,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,w,w+b),this.iWrite+=b,b}}const p=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const m=new f(this.bufSize);return this.buffers.push(m),m},async _pipe(m){await Promise.all(this.pipes.map(function(g){return new Promise(w=>{g.write(m.toBuffer(),()=>{w()})})}))},_writeToBuffers(m){let g=0;const w=m.length;for(;g<w;)g+=this._getWritableBuffer().write(m,g,w-g)},async write(m,g,w){let v;if(g instanceof Function&&(w=g,g="utf8"),w=w||l.nop,m instanceof c)v=new h(m);else if(m instanceof o)v=new d(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(m,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),s.nextTick(w)):(await this._pipe(v),w());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,g,w){const v=b=>{b?w(b):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};m?this.write(m,g,v):v()},read(m){let g;if(m){for(g=[];m&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],v=w.read(m);m-=v.length,g.push(v),w.eod&&w.full&&this.buffers.shift()}return o.concat(g)}return g=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],o.concat(g)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(g=>g!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=p}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,i){(function(s){(function(){n.exports=class{constructor(o){this._buf=s.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let a=2*this._buf.length;for(;a<o;)a*=2;const l=s.alloc(a);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let a=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+o.length),a=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=a}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,i){const{toString:s}=Object.prototype,o=/["&<>]/,a={each:function(l,c){l&&(Array.isArray(l)?l.forEach(c):Object.keys(l).forEach(u=>{c(l[u],u)}))},some:function(l,c){return!!l&&(Array.isArray(l)?l.some(c):Object.keys(l).some(u=>c(l[u],u)))},every:function(l,c){return!l||(Array.isArray(l)?l.every(c):Object.keys(l).every(u=>c(l[u],u)))},map:function(l,c){return l?Array.isArray(l)?l.map(c):Object.keys(l).map(u=>c(l[u],u)):[]},keyBy:(l,c)=>l.reduce((u,h)=>(u[h[c]]=h,u),{}),isEqual:function(l,c){const u=typeof l,h=typeof c,d=Array.isArray(l),f=Array.isArray(c);let p;if(u!==h)return!1;switch(typeof l){case"object":if(d||f)return!(!d||!f)&&l.length===c.length&&l.every((m,g)=>{const w=c[g];return a.isEqual(m,w)});if(l===null||c===null)return l===c;if(p=Object.keys(l),Object.keys(c).length!==p.length)return!1;for(const m of p)if(!c.hasOwnProperty(m))return!1;return a.every(l,(m,g)=>{const w=c[g];return a.isEqual(m,w)});default:return l===c}},escapeHtml(l){const c=o.exec(l);if(!c)return l;let u="",h="",d=0,f=c.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}d!==f&&(u+=l.substring(d,f)),d=f+1,u+=h}return d!==f?u+l.substring(d,f):u},strcmp:(l,c)=>l<c?-1:l>c?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:c}=arguments;let u,h,d;function f(p,m){u=l[m],d=Array.isArray(p),a.isObject(p)||d?(d?(d=!1,h=u&&Array.isArray(u)?u:[]):h=u&&a.isObject(u)?u:{},l[m]=a.deepMerge(h,p)):a.isUndefined(p)||(l[m]=p)}for(let p=0;p<c;p++)a.each(arguments[p],f);return l}};n.exports=a},{}],27:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:u=>new Promise(h=>{s.setImmediate?o(()=>{h(u)}):setTimeout(()=>{h(u)},1)}),inherits:function(u,h,d,f){u.super_=h,f||(f=d,d=null),d&&Object.keys(d).forEach(m=>{Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(d,m))});const p={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(m=>{p[m]=Object.getOwnPropertyDescriptor(f,m)}),u.prototype=Object.create(h.prototype,p)},dateToExcel:(u,h)=>25569+u.getTime()/864e5-(h?1462:0),excelToDate(u,h){const d=Math.round(24*(u-25569+(h?1462:0))*3600*1e3);return new Date(d)},parsePath(u){const h=u.lastIndexOf("/");return{path:u.substring(0,h),name:u.substring(h+1)}},getRelsPath(u){const h=c.parsePath(u);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(u){const h=l.exec(u);if(!h)return u;let d="",f="",p=0,m=h.index;for(;m<u.length;m++){const g=u.charCodeAt(m);switch(g){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){f="";break}continue}p!==m&&(d+=u.substring(p,m)),p=m+1,f&&(d+=f)}return p!==m?d+u.substring(p,m):d},xmlDecode:u=>u.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(u){const h=parseInt(u,10);return Number.isNaN(h)?0:h},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(h=>{a.access(u,a.constants.F_OK,d=>{h(!d)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=c}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,i){const s=r("./under-dash"),o=r("./utils");function a(u,h,d){u.push(` ${h}="${o.xmlEncode(d.toString())}"`)}function l(u,h){if(h){const d=[];s.each(h,(f,p)=>{f!==void 0&&a(d,p,f)}),u.push(d.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const d=this._xml;d.push("<?xml"),l(d,h),d.push(`?>
`)}openNode(h,d){const f=this.tos,p=this._xml;f&&this.open&&p.push(">"),this._stack.push(h),p.push("<"),p.push(h),l(p,d),this.leaf=!0,this.open=!0}addAttribute(h,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&a(this._xml,h,d)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,h)}writeText(h){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(o.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(h),d.push(">")),this.open=!1,this.leaf=!1}leafNode(h,d,f){this.openNode(h,d),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(r,n,i){(function(s){(function(){const o=r("events"),a=r("jszip"),l=r("./stream-buf"),{stringToBuffer:c}=r("./browser-buffer-encode");class u extends o.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new a,this.stream=new l}append(d,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,d,{base64:!0}):(s.browser&&typeof d=="string"&&(d=c(d)),this.zip.file(f.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,f){return this.stream.pipe(d,f)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:u}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,i){const s=r("../../utils/parse-sax"),o=r("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof a?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const u of c)for(const{eventType:h,value:d}of u)if(h==="opentag")this.parseOpen(d);else if(h==="text")this.parseText(d);else if(h==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(c){return this.parse(s(c))}get xml(){return this.toXml(this.model)}toXml(c){const u=new o;return this.render(u,c),u.xml}static toAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return u}else if(h||c!==u)return c.toString()}static toStringAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toStringValue(c,u){return c===void 0?u:c}static toBoolAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(h)return u}else if(h||c!==u)return c?"1":"0"}static toBoolValue(c,u){return c===void 0?u:c==="1"}static toIntAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toIntValue(c,u){return c===void 0?u:parseInt(c,10)}static toFloatAttribute(c,u){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,h)}static toFloatValue(c,u){return c===void 0?u:parseFloat(c)}}n.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/col-cache");function a(c){try{return o.decodeEx(c),!0}catch{return!1}}function l(c){const u=[];let h=!1,d="";return c.split(",").forEach(f=>{if(!f)return;const p=(f.match(/'/g)||[]).length;if(!p)return void(h?d+=f+",":a(f)&&u.push(f));const m=p%2==0;!h&&m&&a(f)?u.push(f):h&&!m?(h=!1,a(d+f)&&u.push(d+f),d=""):(h=!0,d+=f+",")}),u}n.exports=class extends s{render(c,u){c.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),c.writeText(u.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{render(a,l){a.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:s.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){const l={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(l.visibility=a.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const a=this.model={},l=function(u,h,d){const f=h!==void 0?a[u]=h:d;f!==void 0&&(a[u]=f)},c=function(u,h,d){const f=h!==void 0?a[u]=parseInt(h,10):d;f!==void 0&&(a[u]=f)};return c("x",o.attributes.xWindow,0),c("y",o.attributes.yWindow,0),c("width",o.attributes.windowWidth,25e3),c("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),c("activeTab",o.attributes.activeTab,void 0),c("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../base-xform"),c=r("../static-xform"),u=r("../list-xform"),h=r("./defined-name-xform"),d=r("./sheet-xform"),f=r("./workbook-view-xform"),p=r("./workbook-properties-xform"),m=r("./workbook-calc-properties-xform");class g extends l{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new u({tag:"bookViews",count:!1,childXform:new f}),sheets:new u({tag:"sheets",count:!1,childXform:new d}),definedNames:new u({tag:"definedNames",count:!1,childXform:new h}),calcPr:new m}}prepare(v){v.sheets=v.worksheets;const b=[];let E=0;v.sheets.forEach(P=>{if(P.pageSetup&&P.pageSetup.printArea&&P.pageSetup.printArea.split("&&").forEach(A=>{const L=A.split(":"),T={name:"_xlnm.Print_Area",ranges:[`'${P.name}'!$${L[0]}:$${L[1]}`],localSheetId:E};b.push(T)}),P.pageSetup&&(P.pageSetup.printTitlesRow||P.pageSetup.printTitlesColumn)){const A=[];if(P.pageSetup.printTitlesColumn){const T=P.pageSetup.printTitlesColumn.split(":");A.push(`'${P.name}'!$${T[0]}:$${T[1]}`)}if(P.pageSetup.printTitlesRow){const T=P.pageSetup.printTitlesRow.split(":");A.push(`'${P.name}'!$${T[0]}:$${T[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:A,localSheetId:E};b.push(L)}E++}),b.length&&(v.definedNames=v.definedNames.concat(b)),(v.media||[]).forEach((P,A)=>{P.name=P.type+(A+1)})}render(v,b){v.openXml(a.StdDocAttributes),v.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,b.properties),this.map.bookViews.render(v,b.views),this.map.sheets.render(v,b.sheets),this.map.definedNames.render(v,b.definedNames),this.map.calcPr.render(v,b.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const b=(v.workbookRels||[]).reduce((T,B)=>(T[B.Id]=B,T),{}),E=[];let P,A=0;(v.sheets||[]).forEach(T=>{const B=b[T.rId];B&&(P=v.worksheetHash["xl/"+B.Target.replace(/^(\s|\/xl\/)+/,"")],P&&(P.name=T.name,P.id=T.id,P.state=T.state,E[A++]=P))});const L=[];s.each(v.definedNames,T=>{if(T.name==="_xlnm.Print_Area"){if(P=E[T.localSheetId],P){P.pageSetup||(P.pageSetup={});const B=o.decodeEx(T.ranges[0]);P.pageSetup.printArea=P.pageSetup.printArea?`${P.pageSetup.printArea}&&${B.dimensions}`:B.dimensions}}else if(T.name==="_xlnm.Print_Titles"){if(P=E[T.localSheetId],P){P.pageSetup||(P.pageSetup={});const B=T.ranges.join(","),H=/\$/g,G=/\$\d+:\$\d+/,D=B.match(G);if(D&&D.length){const R=D[0];P.pageSetup.printTitlesRow=R.replace(H,"")}const k=/\$[A-Z]+:\$[A-Z]+/,M=B.match(k);if(M&&M.length){const R=M[0];P.pageSetup.printTitlesColumn=R.replace(H,"")}}}else L.push(T)}),v.definedNames=L,v.media.forEach((T,B)=>{T.index=B})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,i){const s=r("../strings/rich-text-xform"),o=r("../../../utils/utils"),a=r("../base-xform"),l=n.exports=function(c){this.model=c};o.inherits(l,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(c,u){u=u||this.model,c.openNode("comment",{ref:u.ref,authorId:0}),c.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(h=>{this.richTextXform.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../../../utils/utils"),a=r("../base-xform"),l=r("./comment-xform"),c=n.exports=function(){this.map={comment:new l}};o.inherits(c,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,h){h=h||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",c.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),h.comments.forEach(d=>{this.map.comment.render(u,d)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a,l){(a===l[2]||this.tag==="x:SizeWithCells"&&a===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(o){const a=Math.floor(o.left),l=Math.floor(68*(o.left-a)),c=Math.floor(o.top),u=Math.floor(18*(o.top-c)),h=Math.floor(o.right),d=Math.floor(68*(o.right-h)),f=Math.floor(o.bottom);return[a,l,c,u,h,d,f,Math.floor(18*(o.bottom-f))]}getDefaultRect(o){const a=o.col,l=Math.max(o.row-2,0);return[a,6,l,14,a+2,2,l+4,16]}render(o,a){const l=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-anchor-xform"),a=r("./style/vml-protection-xform"),l=r("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,h){const{protection:d,editAs:f}=h.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,f,c),this.map["x:SizeWithCells"].render(u,f,c),this.map["x:Anchor"].render(u,h),this.map["x:Locked"].render(u,d.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,d.lockText),u.leafNode("x:Row",null,h.refAddress.row-1),u.leafNode("x:Column",null,h.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(u).length;this.model.editAs=c[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(u,h){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),h.comments.forEach((d,f)=>{this.map["v:shape"].render(u,d,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,h){u.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,h):this.map["xdr:oneCellAnchor"].reconcile(d,h)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-textbox-xform"),a=r("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new a}}get tag(){return"v:shape"}render(u,h,d){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(h,d)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,h),this.map["x:ClientData"].render(u,h),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(c,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(o,a,l){return`${parseFloat(o)*a.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(o,a){const l={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:c}=a.note&&a.note.margins;Array.isArray(c)&&(c=c.map(u=>this.conversionUnit(u,10,"mm")).join(",")),c&&(l.inset=c)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,a){this.model[o]=a.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,a.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/string-xform"),l=r("./app-heading-pairs-xform"),c=r("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new c}}render(d,f){d.openXml(s.StdDocAttributes),d.openNode("Properties",u.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,f.worksheets),this.map.TitleOfParts.render(d,f.worksheets),this.map.Company.render(d,f.company||""),this.map.Manager.render(d,f.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform");class a extends o{render(c,u){c.openXml(s.StdDocAttributes),c.openNode("Types",a.PROPERTY_ATTRIBUTES);const h={};(u.media||[]).forEach(d=>{if(d.type==="image"){const f=d.extension;h[f]||(h[f]=!0,c.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(d=>{const f=`/xl/worksheets/sheet${d.id}.xml`;c.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(d=>{c.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(d=>{c.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(d=>{let{commentName:f}=d;c.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/date-xform"),l=r("../simple/string-xform"),c=r("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(d,f){d.openXml(s.StdDocAttributes),d.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,f.creator),this.map["dc:title"].render(d,f.title),this.map["dc:subject"].render(d,f.subject),this.map["dc:description"].render(d,f.description),this.map["dc:identifier"].render(d,f.identifier),this.map["dc:language"].render(d,f.language),this.map["cp:keywords"].render(d,f.keywords),this.map["cp:category"].render(d,f.category),this.map["cp:lastModifiedBy"].render(d,f.lastModifiedBy),this.map["cp:lastPrinted"].render(d,f.lastPrinted),this.map["cp:revision"].render(d,f.revision),this.map["cp:version"].render(d,f.version),this.map["cp:contentStatus"].render(d,f.contentStatus),this.map["cp:contentType"].render(d,f.contentType),this.map["dcterms:created"].render(d,f.created),this.map["dcterms:modified"].render(d,f.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("Relationship",a)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new a}}render(u,h){h=h||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),h.forEach(d=>{this.map.Relationship.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,a){if(o&&o.rId){const l=a.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const c=l[1],u=a.mediaIndex[c];return a.media[u]}}}}},{"../base-xform":32}],57:[function(r,n,i){const s=r("../base-xform"),o=r("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(a,l){a.openNode(this.tag),this.map["a:blip"].render(a,l),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(o,a){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,i){const s=r("../base-xform"),o=r("./hlink-click-xform"),a=r("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(l,c){l.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(l,c),this.map["a:extLst"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,i){const s=r("../base-xform"),o=r("../simple/integer-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(a,l){a.openNode(this.tag),this.map["xdr:col"].render(a,l.nativeCol),this.map["xdr:colOff"].render(a,l.nativeColOff),this.map["xdr:row"].render(a,l.nativeRow),this.map["xdr:rowOff"].render(a,l.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("./two-cell-anchor-xform"),c=r("./one-cell-anchor-xform");class u extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new c}}prepare(d){d.anchors.forEach((f,p)=>{f.anchorType=function(m){return(typeof m.range=="string"?s.decode(m.range):m.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:p})})}get tag(){return"xdr:wsDr"}render(d,f){d.openXml(o.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),f.anchors.forEach(p=>{this.map[p.anchorType].render(d,p)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,f){d.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,f):this.map["xdr:oneCellAnchor"].reconcile(p,f)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,a){o.openNode(this.tag);const l=Math.floor(9525*a.width),c=Math.floor(9525*a.height);o.addAttribute("cx",l),o.addAttribute("cy",c),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(o,a){a.hyperlinks&&a.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,i){const s=r("../base-xform"),o=r("./c-nv-pr-xform"),a=r("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(l,c){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,c),this.map["xdr:cNvPicPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./ext-xform"),c=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,h){this.map["xdr:pic"].prepare(u.picture,h)}render(u,h){u.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,h.range.tl),this.map["xdr:ext"].render(u,h.range.ext),this.map["xdr:pic"].render(u,h.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,h){u.medium=this.reconcilePicture(u.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,i){const s=r("../base-xform"),o=r("../static-xform"),a=r("./blip-fill-xform"),l=r("./nv-pic-pr-xform"),c=r("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new a,"xdr:spPr":new o(c)}}get tag(){return"xdr:pic"}prepare(u,h){u.index=h.index+1}render(u,h){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,h),this.map["xdr:blipFill"].render(u,h),this.map["xdr:spPr"].render(u,h),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:to"].render(c,u.range.br),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,a){const{childXform:l}=this;o&&o.forEach((c,u)=>{a.index=u,l.prepare(c,a)})}render(o,a){if(this.always||a&&a.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,a&&a.length||0);const{childXform:l}=this;(a||[]).forEach((c,u)=>{l.render(o,c,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,a){if(o){const{childXform:l}=this;o.forEach(c=>{l.reconcile(c,a)})}}}},{"./base-xform":32}],72:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(a,l){if(l)if(typeof l=="string")a.leafNode("autoFilter",{ref:l});else{const c=function(d){return typeof d=="string"?d:s.getAddress(d.row,d.column).address},u=c(l.from),h=c(l.to);u&&h&&a.leafNode("autoFilter",{ref:`${u}:${h}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform"),a=r("../../../doc/range"),l=r("../../../doc/enums"),c=r("../strings/rich-text-xform");function u(h){if(h==null)return l.ValueType.Null;if(h instanceof String||typeof h=="string")return l.ValueType.String;if(typeof h=="number")return l.ValueType.Number;if(typeof h=="boolean")return l.ValueType.Boolean;if(h instanceof Date)return l.ValueType.Date;if(h.text&&h.hyperlink)return l.ValueType.Hyperlink;if(h.formula)return l.ValueType.Formula;if(h.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(h,d){const f=d.styles.addStyleModel(h.style||{},function(p){switch(p.type){case l.ValueType.Formula:return u(p.result);default:return p.type}}(h));switch(f&&(h.styleId=f),h.comment&&d.comments.push({...h.comment,ref:h.address}),h.type){case l.ValueType.String:case l.ValueType.RichText:d.sharedStrings&&(h.ssId=d.sharedStrings.add(h.value));break;case l.ValueType.Date:d.date1904&&(h.date1904=!0);break;case l.ValueType.Hyperlink:d.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=d.sharedStrings.add(h.text)),d.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case l.ValueType.Merge:d.merges.add(h);break;case l.ValueType.Formula:if(d.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=d.siFormulae++),h.formula)d.formulae[h.address]=h;else if(h.sharedFormula){const p=d.formulae[h.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);p.si===void 0?(p.shareType="shared",p.si=d.siFormulae++,p.range=new a(p.address,h.address)):p.range&&p.range.expandToAddress(h.address),h.si=p.si}}}renderFormula(h,d){let f=null;switch(d.shareType){case"shared":f={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":f={t:"array",ref:d.ref};break;default:d.si!==void 0&&(f={t:"shared",si:d.si})}switch(u(d.result)){case l.ValueType.Null:h.leafNode("f",f,d.formula);break;case l.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result);break;case l.ValueType.Number:h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result?1:0);break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result.error);break;case l.ValueType.Date:h.leafNode("f",f,d.formula),h.leafNode("v",null,s.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,d){if(d.type!==l.ValueType.Null||d.styleId){switch(h.openNode("c"),h.addAttribute("r",d.address),d.styleId&&h.addAttribute("s",d.styleId),d.type){case l.ValueType.Null:break;case l.ValueType.Number:h.leafNode("v",null,d.value);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,d.value?"1":"0");break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,d.value.error);break;case l.ValueType.String:case l.ValueType.RichText:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),d.value.richText.forEach(f=>{this.richTextXForm.render(h,f)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,d.value));break;case l.ValueType.Date:h.leafNode("v",null,s.dateToExcel(d.value,d.date1904));break;case l.ValueType.Hyperlink:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,d.text));break;case l.ValueType.Formula:this.renderFormula(h,d);break;case l.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=l.ValueType.Formula,d.value&&(this.t==="str"?d.result=s.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=l.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=l.ValueType.String,d.value=s.xmlDecode(d.value);break;case"inlineStr":d.type=l.ValueType.String;break;case"b":d.type=l.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=l.ValueType.Error,d.value={error:d.value};break;default:d.type=l.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=l.ValueType.Null:d.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,d){const f=h.styleId&&d.styles&&d.styles.getStyleModel(h.styleId);switch(f&&(h.style=f),h.styleId!==void 0&&(h.styleId=void 0),h.type){case l.ValueType.String:typeof h.value=="number"&&d.sharedStrings&&(h.value=d.sharedStrings.getString(h.value)),h.value.richText&&(h.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&s.isDateFmt(f.numFmt)&&(h.type=l.ValueType.Date,h.value=s.excelToDate(h.value,d.date1904));break;case l.ValueType.Formula:h.result!==void 0&&f&&s.isDateFmt(f.numFmt)&&(h.result=s.excelToDate(h.result,d.date1904)),h.shareType==="shared"&&(h.ref?d.formulae[h.si]=h.address:(h.sharedFormula=d.formulae[h.si],delete h.shareType),delete h.si)}const p=d.hyperlinkMap[h.address];p&&(h.type===l.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=l.ValueType.Hyperlink,h.hyperlink=p);const m=d.commentsMap&&d.commentsMap[h.address];m&&(h.comment=m)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(o,a){o.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(o){let{attributes:a}=o;this.model={iconSet:a.iconSet,iconId:s.toIntValue(a.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,i){const{v4:s}=r("uuid"),o=r("../../base-xform"),a=r("../../composite-xform"),l=r("./databar-ext-xform"),c=r("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!u[f.iconSet])}prepare(f){h.isExt(f)&&(f.x14Id=`{${s()}}`.toUpperCase())}render(f,p){if(h.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(f,p);break;case"iconSet":this.renderIconSet(f,p)}}renderDataBar(f,p){f.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(f,p),f.closeNode()}renderIconSet(f,p){f.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${s()}}`}),this.iconSetXform.render(f,p),f.closeNode()}createNewModel(f){let{attributes:p}=f;return{type:p.type,x14Id:p.id,priority:o.toIntValue(p.priority)}}onParserClose(f,p){Object.assign(this.model,p.model)}}n.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,i){const s=r("../../composite-xform"),o=r("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(a,l){a.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(a,l.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,l){switch(a){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,i){const s=r("../../composite-xform"),o=r("./sqref-ext-xform"),a=r("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(l,c){l.rules.forEach(u=>{this.cfRule.prepare(u,c)})}render(l,c){c.rules.some(a.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(a.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,c.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,c){switch(l){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-ext-xform"),a=r("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(c=>c.rules.some(o.isExt))),l.hasExtContent}prepare(l,c){l.forEach(u=>{this.cfXform.prepare(u,c)})}render(l,c){this.hasContent(c)&&(l.openNode(this.tag),c.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../style/color-xform"),l=r("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,u){c.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),this.borderColorXform.render(c,u.borderColor),this.negativeBorderColorXform.render(c,u.negativeBorderColor),this.negativeFillColorXform.render(c,u.negativeFillColor),this.axisColorXform.render(c,u.axisColor),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(c,u){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[h]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-ext-xform"),l=r("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(c,u){c.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(h=>{this.cfvoXform.render(c,h)}),u.icons&&u.icons.forEach((h,d)=>{h.iconId=d,this.cfIconXform.render(c,h)}),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(c,u){const[,h]=c.split(":");switch(h){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[h]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../../../doc/range"),l=r("./databar-xform"),c=r("./ext-lst-ref-xform"),u=r("./formula-xform"),h=r("./color-scale-xform"),d=r("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=g=>{const{type:w,operator:v}=g;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:v}}};class m extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!f[w.iconSet]}render(w,v){switch(v.type){case"expression":this.renderExpression(w,v);break;case"cellIs":this.renderCellIs(w,v);break;case"top10":this.renderTop10(w,v);break;case"aboveAverage":this.renderAboveAverage(w,v);break;case"dataBar":this.renderDataBar(w,v);break;case"colorScale":this.renderColorScale(w,v);break;case"iconSet":this.renderIconSet(w,v);break;case"containsText":this.renderText(w,v);break;case"timePeriod":this.renderTimePeriod(w,v)}}renderExpression(w,v){w.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(w,v.formulae[0]),w.closeNode()}renderCellIs(w,v){w.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(b=>{this.formulaXform.render(w,b)}),w.closeNode()}renderTop10(w,v){w.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:s.toBoolAttribute(v.percent,!1),bottom:s.toBoolAttribute(v.bottom,!1),rank:s.toIntValue(v.rank,10,!0)})}renderAboveAverage(w,v){w.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:s.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(w,v){w.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(w,v),this.extLstRefXform.render(w,v),w.closeNode()}renderColorScale(w,v){w.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(w,v),w.closeNode()}renderIconSet(w,v){m.isPrimitive(v)&&(w.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(w,v),w.closeNode())}renderText(w,v){w.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:s.toStringAttribute(v.operator,"containsText")});const b=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const P=new a(E.ref),{tl:A}=P;switch(E.operator){case"containsText":return`NOT(ISERROR(SEARCH("${E.text}",${A})))`;case"containsBlanks":return`LEN(TRIM(${A}))=0`;case"notContainsBlanks":return`LEN(TRIM(${A}))>0`;case"containsErrors":return`ISERROR(${A})`;case"notContainsErrors":return`NOT(ISERROR(${A}))`;default:return}})(v);b&&this.formulaXform.render(w,b),w.closeNode()}renderTimePeriod(w,v){w.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const b=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const P=new a(E.ref),{tl:A}=P;switch(E.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${A},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${A},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${A},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${A},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${A},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${A},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${A},1)=TODAY()-1`;case"today":return`FLOOR(${A},1)=TODAY()`;case"tomorrow":return`FLOOR(${A},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${A},1)<=6,FLOOR(${A},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${A})=MONTH(EDATE(TODAY(),0-1)),YEAR(${A})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${A})=MONTH(TODAY()),YEAR(${A})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${A})=MONTH(EDATE(TODAY(),0+1)),YEAR(${A})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);b&&this.formulaXform.render(w,b),w.closeNode()}createNewModel(w){let{attributes:v}=w;return{...p(v),dxfId:s.toIntValue(v.dxfId),priority:s.toIntValue(v.priority),timePeriod:v.timePeriod,percent:s.toBoolValue(v.percent),bottom:s.toBoolValue(v.bottom),rank:s.toIntValue(v.rank),aboveAverage:s.toBoolValue(v.aboveAverage)}}onParserClose(w,v){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=m},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(o,a){o.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(o){this.model={type:o.attributes.type,value:s.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),c.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(a,l){l.rules.some(o.isPrimitive)&&(a.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(c=>{o.isPrimitive(c)&&(c.ref=l.ref,this.map.cfRule.render(a,c))}),a.closeNode())}createNewModel(a){let{attributes:l}=a;return{ref:l.sqref,rules:[]}}onParserClose(a,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,i){const s=r("../../base-xform"),o=r("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,l){let c=a.reduce((u,h)=>Math.max(u,...h.rules.map(d=>d.priority||0)),1);a.forEach(u=>{u.rules.forEach(h=>{h.priority||(h.priority=c++),h.style&&(h.dxfId=l.styles.addDxfStyle(h.style))})})}render(a,l){l.forEach(c=>{this.cfXform.render(a,c)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,l){a.forEach(c=>{c.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,c.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,c){switch(l){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform");class a extends s{get tag(){return"x14:id"}render(u,h){u.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(u,h){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,h.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,h){this.model.x14Id=h.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(c,u){c.openNode(this.tag),this.map.ext.render(c,u),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(l,c){l.openNode(this.tag,{iconSet:s.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(c.reverse,!1),showValue:s.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{iconSet:s.toStringValue(c.iconSet,"3TrafficLights"),reverse:s.toBoolValue(c.reverse),showValue:s.toBoolValue(c.showValue),cfvo:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(a,l){const c=l.styles.addStyleModel(a.style||{});c&&(a.styleId=c)}render(a,l){a.openNode("col"),a.addAttribute("min",l.min),a.addAttribute("max",l.max),l.width&&a.addAttribute("width",l.width),l.styleId&&a.addAttribute("style",l.styleId),l.hidden&&a.addAttribute("hidden","1"),l.bestFit&&a.addAttribute("bestFit","1"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const l=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(l.styleId=parseInt(a.attributes.style,10)),s.parseBoolean(a.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(l.bestFit=!0),a.attributes.outlineLevel&&(l.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,l){a.styleId&&(a.style=l.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/utils"),a=r("../../../utils/col-cache"),l=r("../base-xform"),c=r("../../../doc/range");function u(d,f,p,m){const g=f[p];g!==void 0?d[p]=g:m!==void 0&&(d[p]=m)}function h(d,f,p,m){const g=f[p];g!==void 0&&(d[p]=o.parseBoolean(g))}n.exports=class extends l{get tag(){return"dataValidations"}render(d,f){const p=function(m){const g=s.map(m,(b,E)=>({address:E,dataValidation:b,marked:!1})).sort((b,E)=>s.strcmp(b.address,E.address)),w=s.keyBy(g,"address"),v=(b,E,P)=>{for(let A=0;A<E;A++){const L=a.encodeAddress(b.row+A,P);if(!m[L]||!s.isEqual(m[b.address],m[L]))return!1}return!0};return g.map(b=>{if(!b.marked){const E=a.decodeEx(b.address);if(E.dimensions)return w[E.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let P=1,A=a.encodeAddress(E.row+P,E.col);for(;m[A]&&s.isEqual(b.dataValidation,m[A]);)P++,A=a.encodeAddress(E.row+P,E.col);let L=1;for(;v(E,P,E.col+L);)L++;for(let T=0;T<P;T++)for(let B=0;B<L;B++)A=a.encodeAddress(E.row+T,E.col+B),w[A].marked=!0;if(P>1||L>1){const T=E.row+(P-1),B=E.col+(L-1);return{...b.dataValidation,sqref:`${b.address}:${a.encodeAddress(T,B)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(f);p.length&&(d.openNode("dataValidations",{count:p.length}),p.forEach(m=>{d.openNode("dataValidation"),m.type!=="any"&&(d.addAttribute("type",m.type),m.operator&&m.type!=="list"&&m.operator!=="between"&&d.addAttribute("operator",m.operator),m.allowBlank&&d.addAttribute("allowBlank","1")),m.showInputMessage&&d.addAttribute("showInputMessage","1"),m.promptTitle&&d.addAttribute("promptTitle",m.promptTitle),m.prompt&&d.addAttribute("prompt",m.prompt),m.showErrorMessage&&d.addAttribute("showErrorMessage","1"),m.errorStyle&&d.addAttribute("errorStyle",m.errorStyle),m.errorTitle&&d.addAttribute("errorTitle",m.errorTitle),m.error&&d.addAttribute("error",m.error),d.addAttribute("sqref",m.sqref),(m.formulae||[]).forEach((g,w)=>{d.openNode("formula"+(w+1)),m.type==="date"?d.writeText(o.dateToExcel(new Date(g))):d.writeText(g),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const f={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&h(f,d.attributes,"allowBlank"),h(f,d.attributes,"showInputMessage"),h(f,d.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:u(f,d.attributes,"operator","between")}return u(f,d.attributes,"promptTitle"),u(f,d.attributes,"prompt"),u(f,d.attributes,"errorStyle"),u(f,d.attributes,"errorTitle"),u(f,d.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new c(f).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=o.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(o,a){a&&o.leafNode("dimension",{ref:a})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,i){const s=r("../composite-xform"),o=r("./cf-ext/conditional-formattings-ext-xform");class a extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,u){this.conditionalFormattings.prepare(c.conditionalFormattings,u)}render(c,u){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,u.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model[c]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(l,c){this.ext.prepare(l,c)}hasContent(l){return this.ext.hasContent(l)}render(l,c){this.hasContent(c)&&(l.openNode("extLst"),this.ext.render(l,c),l.closeNode())}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(o,a){if(a){o.addRollback();let l=!1;o.openNode("headerFooter"),a.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),a.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(o.leafNode("oddHeader",null,a.oddHeader),l=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(o.leafNode("oddFooter",null,a.oddFooter),l=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(o.leafNode("evenHeader",null,a.evenHeader),l=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(o.leafNode("evenFooter",null,a.evenFooter),l=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(o.leafNode("firstHeader",null,a.firstHeader),l=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(o.leafNode("firstFooter",null,a.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(o,a){this.isInternalLink(a)?o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(o,a){o.leafNode("mergeCell",{ref:a})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../doc/range"),a=r("../../../utils/col-cache"),l=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const u=`${c.master}:${c.address}`;this.merges[c.master]=new o(u)}}get mergeCells(){return s.map(this.merges,c=>c.range)}reconcile(c,u){s.each(c,h=>{const d=a.decode(h);for(let f=d.top;f<=d.bottom;f++){const p=u[f-1];for(let m=d.left;m<=d.right;m++){const g=p.cells[m-1];g?g.type===l.ValueType.Merge&&(g.master=d.tl):p.cells[m]={type:l.ValueType.Null,address:a.encodeAddress(f,m)}}}})}getMasterAddress(c){const u=this.hash[c];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,i){const s=r("../base-xform"),o=a=>a!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(a,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:o(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:o(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(o,a){o.leafNode("brk",a)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(a,l){if(l){const c={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(o,a){return!(!a||!a.fitToPage)&&(o.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(h){return h?"1":void 0}function l(h){switch(h){case"overThenDown":return h;default:return}}function c(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function u(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(h,d){if(d){const f={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:l(d.pageOrder),blackAndWhite:a(d.blackAndWhite),draft:a(d.draft),cellComments:c(d.cellComments),errors:u(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:a(d.firstPageNumber),usePrinterDefaults:a(d.usePrinterDefaults),copies:d.copies};s.some(f,p=>p!==void 0)&&h.leafNode(this.tag,f)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(d=h.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(l){return l?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(l,c){if(c){const u={headings:a(c.showRowColHeaders),gridLines:a(c.showGridLines),horizontalCentered:a(c.horizontalCentered),verticalCentered:a(c.verticalCentered)};s.some(u,h=>h!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,i){const s=r("./page-breaks-xform"),o=r("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(a,l){if(l&&l.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,l.length),a.addAttribute("manualBreakCount",l.length));const{childXform:c}=this;l.forEach(u=>{c.render(a,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(l,c){const u=c.styles.addStyleModel(l.style);u&&(l.styleId=u);const h=this.map.c;l.cells.forEach(d=>{h.prepare(d,c)})}render(l,c,u){l.openNode("row"),l.addAttribute("r",c.number),c.height&&(l.addAttribute("ht",c.height),l.addAttribute("customHeight","1")),c.hidden&&l.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&l.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(l.addAttribute("s",c.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1");const h=this.map.c;c.cells.forEach(d=>{h.render(l,d,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const c=l.attributes.spans?l.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:c[0],max:c[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,c){l.style=l.styleId?c.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(h=>{u.reconcile(h,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(a,l){if(l){const c={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(c.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(c.customHeight="1"),s.some(c,u=>u!==void 0)&&a.leafNode("sheetFormatPr",c)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,i){const s=r("../base-xform"),o=r("../style/color-xform"),a=r("./page-setup-properties-xform"),l=r("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new a,outlinePr:new l}}get tag(){return"sheetPr"}render(c,u){if(u){c.addRollback(),c.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(c,u.tabColor)||h,h=this.map.pageSetUpPr.render(c,u.pageSetup)||h,h=this.map.outlinePr.render(c,u.outlineProperties)||h,h?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(c,u){return c?u:void 0}function l(c,u){return c===u||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(c,u){if(u){const h={sheet:a(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:a(u.formatCells,"0"),formatColumns:a(u.formatColumns,"0"),formatRows:a(u.formatRows,"0"),insertColumns:a(u.insertColumns,"0"),insertRows:a(u.insertRows,"0"),insertHyperlinks:a(u.insertHyperlinks,"0"),deleteColumns:a(u.deleteColumns,"0"),deleteRows:a(u.deleteRows,"0"),sort:a(u.sort,"0"),autoFilter:a(u.autoFilter,"0"),pivotTables:a(u.pivotTables,"0")};u.sheet&&(h.algorithmName=u.algorithmName,h.hashValue=u.hashValue,h.saltValue=u.saltValue,h.spinCount=u.spinCount,h.objects=a(u.objects===!1,"1"),h.scenarios=a(u.scenarios===!1,"1")),s.some(h,d=>d!==void 0)&&c.leafNode(this.tag,h)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:l(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(c.attributes.formatCells,"0"),formatColumns:l(c.attributes.formatColumns,"0"),formatRows:l(c.attributes.formatRows,"0"),insertColumns:l(c.attributes.insertColumns,"0"),insertRows:l(c.attributes.insertRows,"0"),insertHyperlinks:l(c.attributes.insertHyperlinks,"0"),deleteColumns:l(c.attributes.deleteColumns,"0"),deleteRows:l(c.attributes.deleteRows,"0"),sort:l(c.attributes.sort,"0"),autoFilter:l(c.attributes.autoFilter,"0"),pivotTables:l(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,c){l.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const u=function(m,g,w){w&&l.addAttribute(m,g)};let h,d,f,p;switch(u("rightToLeft","1",c.rightToLeft===!0),u("tabSelected","1",c.tabSelected),u("showRuler","0",c.showRuler===!1),u("showRowColHeaders","0",c.showRowColHeaders===!1),u("showGridLines","0",c.showGridLines===!1),u("zoomScale",c.zoomScale,c.zoomScale),u("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),u("view",c.style,c.style),c.state){case"frozen":d=c.xSplit||0,f=c.ySplit||0,h=c.topLeftCell||s.getAddress(f+1,d+1).address,p=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:h,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),l.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&l.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const c=l.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let c,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../../rel-type"),c=r("./merges"),u=r("../base-xform"),h=r("../list-xform"),d=r("./row-xform"),f=r("./col-xform"),p=r("./dimension-xform"),m=r("./hyperlink-xform"),g=r("./merge-cell-xform"),w=r("./data-validations-xform"),v=r("./sheet-properties-xform"),b=r("./sheet-format-properties-xform"),E=r("./sheet-view-xform"),P=r("./sheet-protection-xform"),A=r("./page-margins-xform"),L=r("./page-setup-xform"),T=r("./print-options-xform"),B=r("./auto-filter-xform"),H=r("./picture-xform"),G=r("./drawing-xform"),D=r("./table-part-xform"),k=r("./row-breaks-xform"),M=r("./header-footer-xform"),R=r("./cf/conditional-formattings-xform"),y=r("./ext-lst-xform"),S=(x,F)=>{if(!F||!F.length)return x;if(!x||!x.length)return F;const O={},N={};return x.forEach(j=>{O[j.ref]=j,j.rules.forEach(W=>{const{x14Id:q}=W;q&&(N[q]=W)})}),F.forEach(j=>{j.rules.forEach(W=>{const q=N[W.x14Id];q?((V,$)=>{Object.keys($).forEach(I=>{const _=V[I],z=$[I];_===void 0&&z!==void 0&&(V[I]=z)})})(q,W):O[j.ref]?O[j.ref].rules.push(W):x.push({ref:j.ref,rules:[W]})})}),x};class C extends u{constructor(F){super();const{maxRows:O,maxCols:N,ignoreNodes:j}=F||{};this.ignoreNodes=j||[],this.map={sheetPr:new v,dimension:new p,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new E}),sheetFormatPr:new b,cols:new h({tag:"cols",count:!1,childXform:new f}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:N}),maxItems:O}),autoFilter:new B,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new k,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new m}),pageMargins:new A,dataValidations:new w,pageSetup:new L,headerFooter:new M,printOptions:new T,picture:new H,drawing:new G,sheetProtection:new P,tableParts:new h({tag:"tableParts",count:!0,childXform:new D}),conditionalFormatting:new R,extLst:new y}}prepare(F,O){O.merges=new c,F.hyperlinks=O.hyperlinks=[],F.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(F.cols,O),this.map.sheetData.prepare(F.rows,O),this.map.conditionalFormatting.prepare(F.conditionalFormattings,O),F.mergeCells=O.merges.mergeCells;const N=F.rels=[];function j(V){return"rId"+(V.length+1)}if(F.hyperlinks.forEach(V=>{const $=j(N);V.rId=$,N.push({Id:$,Type:l.Hyperlink,Target:V.target,TargetMode:"External"})}),F.comments.length>0){const V={Id:j(N),Type:l.Comments,Target:`../comments${F.id}.xml`};N.push(V);const $={Id:j(N),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${F.id}.vml`};N.push($),F.comments.forEach(I=>{I.refAddress=o.decodeAddress(I.ref)}),O.commentRefs.push({commentName:"comments"+F.id,vmlDrawing:"vmlDrawing"+F.id})}const W=[];let q;F.media.forEach(V=>{if(V.type==="background"){const $=j(N);q=O.media[V.imageId],N.push({Id:$,Type:l.Image,Target:`../media/${q.name}.${q.extension}`}),F.background={rId:$},F.image=O.media[V.imageId]}else if(V.type==="image"){let{drawing:$}=F;q=O.media[V.imageId],$||($=F.drawing={rId:j(N),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push($),N.push({Id:$.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${$.name}.xml`}));let I=this.preImageId===V.imageId?W[V.imageId]:W[$.rels.length];I||(I=j($.rels),W[$.rels.length]=I,$.rels.push({Id:I,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${q.name}.${q.extension}`}));const _={picture:{rId:I},range:V.range};if(V.hyperlinks&&V.hyperlinks.hyperlink){const z=j($.rels);W[$.rels.length]=z,_.picture.hyperlinks={tooltip:V.hyperlinks.tooltip,rId:z},$.rels.push({Id:z,Type:l.Hyperlink,Target:V.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=V.imageId,$.anchors.push(_)}}),F.tables.forEach(V=>{const $=j(N);V.rId=$,N.push({Id:$,Type:l.Table,Target:"../tables/"+V.target}),V.columns.forEach(I=>{const{style:_}=I;_&&(I.dxfId=O.styles.addDxfStyle(_))})}),this.map.extLst.prepare(F,O)}render(F,O){F.openXml(a.StdDocAttributes),F.openNode("worksheet",C.WORKSHEET_ATTRIBUTES);const N=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&(N.defaultColWidth=O.properties.defaultColWidth);const j={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},W=O.pageSetup&&O.pageSetup.margins,q={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},V=O.sheetProtection;this.map.sheetPr.render(F,j),this.map.dimension.render(F,O.dimensions),this.map.sheetViews.render(F,O.views),this.map.sheetFormatPr.render(F,N),this.map.cols.render(F,O.cols),this.map.sheetData.render(F,O.rows),this.map.sheetProtection.render(F,V),this.map.autoFilter.render(F,O.autoFilter),this.map.mergeCells.render(F,O.mergeCells),this.map.conditionalFormatting.render(F,O.conditionalFormattings),this.map.dataValidations.render(F,O.dataValidations),this.map.hyperlinks.render(F,O.hyperlinks),this.map.printOptions.render(F,q),this.map.pageMargins.render(F,W),this.map.pageSetup.render(F,O.pageSetup),this.map.headerFooter.render(F,O.headerFooter),this.map.rowBreaks.render(F,O.rowBreaks),this.map.drawing.render(F,O.drawing),this.map.picture.render(F,O.background),this.map.tableParts.render(F,O.tables),this.map.extLst.render(F,O),O.rels&&O.rels.forEach($=>{$.Type===l.VmlDrawing&&F.leafNode("legacyDrawing",{"r:id":$.Id})}),F.closeNode()}parseOpen(F){return this.parser?(this.parser.parseOpen(F),!0):F.name==="worksheet"?(s.each(this.map,O=>{O.reset()}),!0):(this.map[F.name]&&!this.ignoreNodes.includes(F.name)&&(this.parser=this.map[F.name],this.parser.parseOpen(F)),!0)}parseText(F){this.parser&&this.parser.parseText(F)}parseClose(F){if(this.parser)return this.parser.parseClose(F)||(this.parser=void 0),!0;switch(F){case"worksheet":{const O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);const N={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},j=Object.assign(N,this.map.pageSetup.model,this.map.printOptions.model),W=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:j,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(F,O){const N=(F.relationships||[]).reduce((W,q)=>{if(W[q.Id]=q,q.Type===l.Comments&&(F.comments=O.comments[q.Target].comments),q.Type===l.VmlDrawing&&F.comments&&F.comments.length){const V=O.vmlDrawings[q.Target].comments;F.comments.forEach(($,I)=>{$.note=Object.assign({},$.note,V[I])})}return W},{});if(O.commentsMap=(F.comments||[]).reduce((W,q)=>(q.ref&&(W[q.ref]=q),W),{}),O.hyperlinkMap=(F.hyperlinks||[]).reduce((W,q)=>(q.rId&&(W[q.address]=N[q.rId].Target),W),{}),O.formulae={},F.rows=F.rows&&F.rows.filter(Boolean)||[],F.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(F.cols,O),this.map.sheetData.reconcile(F.rows,O),this.map.conditionalFormatting.reconcile(F.conditionalFormattings,O),F.media=[],F.drawing){const W=N[F.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const q=W[1];O.drawings[q].anchors.forEach(V=>{if(V.medium){const $={type:"image",imageId:V.medium.index,range:V.range,hyperlinks:V.picture.hyperlinks};F.media.push($)}})}}const j=F.background&&N[F.background.rId];if(j){const W=j.Target.split("/media/")[1],q=O.mediaIndex&&O.mediaIndex[W];q!==void 0&&F.media.push({type:"background",imageId:q})}F.tables=(F.tables||[]).map(W=>{const q=N[W.rId];return O.tables[q.Target]}),delete F.relationships,delete F.hyperlinks,delete F.comments}}C.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=C},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,a){a&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=o.parse||function(a){return new Date(a)}}render(o,a){a&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(a)):o.writeText(this._format(a)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,a){(a||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,a){a!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,i){const s=r("./base-xform"),o=r("../../utils/xml-stream");n.exports=class extends s{constructor(a){super(),this._model=a}render(a){if(!this._xml){const l=new o;(function c(u,h){u.openNode(h.tag,h.$),h.c&&h.c.forEach(d=>{c(u,d)}),h.t&&u.writeText(h.t),u.closeNode()})(l,this._model),this._xml=l.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("../base-xform");n.exports=class extends a{constructor(){super(),this.map={r:new o,t:new s}}get tag(){return"rPh"}render(l,c){if(l.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:u}=this.map;c.richText.forEach(h=>{u.render(l,h)})}else c&&this.map.t.render(l,c.text);l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,i){const s=r("./text-xform"),o=r("../style/font-xform"),a=r("../base-xform");class l extends a{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(u,h){h=h||this.model,u.openNode("r"),h.font&&this.fontXform.render(u,h.font),this.textXform.render(u,h.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("./phonetic-text-xform"),l=r("../base-xform");n.exports=class extends l{constructor(c){super(),this.model=c,this.map={r:new o,t:new s,rPh:new a}}get tag(){return"si"}render(c,u){c.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(h=>{this.map.r.render(c,h)}):this.map.t.render(c,""):u!=null&&this.map.t.render(c,u),c.closeNode()}parseOpen(c){const{name:u}=c;return this.parser?(this.parser.parseOpen(c),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./shared-string-xform");n.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let c=this.hash[l];return c===void 0&&(c=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}addRichText(l){const c=this.sharedStringXform.toXml(l);let u=this.rich[c];return u===void 0&&(u=this.rich[c]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,c){c=c||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const u=this.sharedStringXform;c.values.forEach(h=>{u.render(l,h)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"t"}render(o,a){o.openNode("t"),/^\s|\n|\s$/.test(a)&&o.addAttribute("xml:space","preserve"),o.writeText(a),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/utils"),a=r("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,h)=>(u[h]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,h)=>(u[h]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=o.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},c={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const h=Math.round(u);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(u){const h=o.validInt(u);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};n.exports=class extends a{get tag(){return"alignment"}render(u,h){u.addRollback(),u.openNode("alignment");let d=!1;function f(p,m){m&&(u.addAttribute(p,m),d=!0)}f("horizontal",l.horizontal(h.horizontal)),f("vertical",l.vertical(h.vertical)),f("wrapText",!!l.wrapText(h.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(h.shrinkToFit)&&"1"),f("indent",l.indent(h.indent)),f("textRotation",c.toXml(h.textRotation)),f("readingOrder",l.readingOrder(h.readingOrder)),u.closeNode(),d?u.commit():u.rollback()}parseOpen(u){const h={};let d=!1;function f(p,m,g){p&&(h[m]=g,d=!0)}f(u.attributes.horizontal,"horizontal",u.attributes.horizontal),f(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),f(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),f(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),f(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),f(u.attributes.textRotation,"textRotation",c.toModel(u.attributes.textRotation)),f(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new a}}get tag(){return this.name}render(u,h,d){const f=h&&h.color||d||this.defaultColor;u.openNode(this.name),h&&h.style&&(u.addAttribute("style",h.style),f&&this.map.color.render(u,f)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:h}=u.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,u)=>(c[u]=!0,c),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(c,u){const{color:h}=u;function d(f,p){f&&!f.color&&u.color&&(f={...f,color:u.color}),p.render(c,f,h)}c.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&c.addAttribute("diagonalUp","1"),u.diagonal.down&&c.addAttribute("diagonalDown","1")),d(u.left,this.map.left),d(u.right,this.map.right),d(u.top,this.map.top),d(u.bottom,this.map.bottom),d(u.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const u=this.model={},h=function(d,f,p){f&&(p&&Object.assign(f,p),u[d]=f)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,a){return!!a&&(o.openNode(this.name),a.argb?o.addAttribute("rgb",a.argb):a.theme!==void 0?(o.addAttribute("theme",a.theme),a.tint!==void 0&&o.addAttribute("tint",a.tint)):a.indexed!==void 0?o.addAttribute("indexed",a.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./border-xform"),l=r("./fill-xform"),c=r("./font-xform"),u=r("./numfmt-xform"),h=r("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new o,border:new a,fill:new l,font:new c,numFmt:new u,protection:new h}}get tag(){return"dxf"}render(d,f){if(d.openNode(this.tag),f.font&&this.map.font.render(d,f.font),f.numFmt&&f.numFmtId){const p={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(d,p)}f.fill&&this.map.fill.render(d,f.fill),f.alignment&&this.map.alignment.render(d,f.alignment),f.border&&this.map.border.render(d,f.border),f.protection&&this.map.protection.render(d,f.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,i){const s=r("../base-xform"),o=r("./color-xform");class a extends s{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(d,f){d.openNode("stop"),d.addAttribute("position",f.position),this.map.color.render(d,f.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,f){d.openNode("patternFill"),d.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(d,f.fgColor),f.bgColor&&this.map.bgColor.render(d,f.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,f){switch(d.openNode("gradientFill"),f.gradient){case"angle":d.addAttribute("degree",f.degree);break;case"path":d.addAttribute("type","path"),f.center.left&&(d.addAttribute("left",f.center.left),f.center.right===void 0&&d.addAttribute("right",f.center.left)),f.center.right&&d.addAttribute("right",f.center.right),f.center.top&&(d.addAttribute("top",f.center.top),f.center.bottom===void 0&&d.addAttribute("bottom",f.center.top)),f.center.bottom&&d.addAttribute("bottom",f.center.bottom)}const p=this.map.stop;f.stops.forEach(m=>{p.render(d,m)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const f=this.model={stops:[]};return d.attributes.degree?(f.gradient="angle",f.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(f.gradient="path",f.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(f.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(f.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new c}}get tag(){return"fill"}render(d,f){switch(d.addRollback(),d.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(d,f);break;case"gradient":this.map.gradientFill.render(d,f);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return u.validPatternValues[d]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,d)=>(h[d]=!0,h),{}),u.StopXform=a,u.PatternFillXform=l,u.GradientFillXform=c,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,i){const s=r("./color-xform"),o=r("../simple/boolean-xform"),a=r("../simple/integer-xform"),l=r("../simple/string-xform"),c=r("./underline-xform"),u=r("../../../utils/under-dash"),h=r("../base-xform");class d extends h{constructor(p){super(),this.options=p||d.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,m){const{map:g}=this;p.openNode(this.options.tagName),u.each(this.map,(w,v)=>{g[v].xform.render(p,m[w.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const m=this.map[p];return this.parser.model&&(this.model[m.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../defaultnumformats"),a=r("../base-xform"),l=function(){const u={};return s.each(o,(h,d)=>{h.f&&(u[h.f]=parseInt(d,10))}),u}();class c extends a{constructor(h,d){super(),this.id=h,this.formatCode=d}get tag(){return"numFmt"}render(h,d){h.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(u){return l[u]},c.getDefaultFmtCode=function(u){return o[u]&&o[u].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,i){const s=r("../base-xform"),o={boolean:(a,l)=>a===void 0?l:a};n.exports=class extends s{get tag(){return"protection"}render(a,l){a.addRollback(),a.openNode("protection");let c=!1;function u(h,d){d!==void 0&&(a.addAttribute(h,d),c=!0)}u("locked",o.boolean(l.locked,!0)?void 0:"0"),u("hidden",o.boolean(l.hidden,!1)?"1":void 0),a.closeNode(),c?a.commit():a.rollback()}parseOpen(a){const l={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},c=!l.locked||l.hidden;this.model=c?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new a}}get tag(){return"xf"}render(l,c){l.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&l.addAttribute("xfId",c.xfId||0),c.numFmtId&&l.addAttribute("applyNumberFormat","1"),c.fontId&&l.addAttribute("applyFont","1"),c.fillId&&l.addAttribute("applyFill","1"),c.borderId&&l.addAttribute("applyBorder","1"),c.alignment&&l.addAttribute("applyAlignment","1"),c.protection&&l.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(l,c.alignment),c.protection&&this.map.protection.render(l,c.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("../static-xform"),c=r("../list-xform"),u=r("./font-xform"),h=r("./fill-xform"),d=r("./border-xform"),f=r("./numfmt-xform"),p=r("./style-xform"),m=r("./dxf-xform");class g extends a{constructor(v){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new f}),fonts:new c({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new h}),borders:new c({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new m}),numFmt:new f,font:new u,fill:new h,border:new d,style:new p({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,b){b=b||this.model,v.openXml(o.StdDocAttributes),v.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(v.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(E=>{v.writeXml(E)}),v.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(E=>{v.writeXml(E)}),v.closeNode(),v.openNode("fills",{count:b.fills.length}),b.fills.forEach(E=>{v.writeXml(E)}),v.closeNode(),v.openNode("borders",{count:b.borders.length}),b.borders.forEach(E=>{v.writeXml(E)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(E=>{v.writeXml(E)}),v.closeNode()):(this.map.numFmts.render(v,b.numFmts),this.map.fonts.render(v,b.fonts),this.map.fills.render(v,b.fills),this.map.borders.render(v,b.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,b.styles)),g.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,b.dxfs),g.STATIC_XFORMS.tableStyles.render(v),g.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const b=(E,P)=>{P.model&&P.model.length&&(this.model[E]=P.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const E=this.index.numFmt;this.model.numFmts.forEach(P=>{E[P.id]=P.formatCode})}return!1}default:return!0}}addStyleModel(v,b){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const E={};if(b=b||s.ValueType.Number,v.numFmt)E.numFmtId=this._addNumFmtStr(v.numFmt);else switch(b){case s.ValueType.Number:E.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:E.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(E.fontId=this._addFont(v.font)),v.border&&(E.borderId=this._addBorder(v.border)),v.fill&&(E.fillId=this._addFill(v.fill)),v.alignment&&(E.alignment=v.alignment),v.protection&&(E.protection=v.protection);const P=this._addStyle(E);return this.weakMap&&this.weakMap.set(v,P),P}getStyleModel(v){const b=this.model.styles[v];if(!b)return null;let E=this.index.model[v];if(E)return E;if(E=this.index.model[v]={},b.numFmtId){const A=this.index.numFmt[b.numFmtId]||f.getDefaultFmtCode(b.numFmtId);A&&(E.numFmt=A)}function P(A,L,T){if(T||T===0){const B=L[T];B&&(E[A]=B)}}return P("font",this.model.fonts,b.fontId),P("border",this.model.borders,b.borderId),P("fill",this.model.fills,b.fillId),b.alignment&&(E.alignment=b.alignment),b.protection&&(E.protection=b.protection),E}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const b=this.map.style.toXml(v);let E=this.index.style[b];return E===void 0&&(E=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),E}_addNumFmtStr(v){let b=f.getDefaultFmtId(v);if(b!==void 0||(b=this.index.numFmt[v],b!==void 0))return b;b=this.index.numFmt[v]=164+this.model.numFmts.length;const E=this.map.numFmt.toXml({id:b,formatCode:v});return this.model.numFmts.push(E),b}_addFont(v){const b=this.map.font.toXml(v);let E=this.index.font[b];return E===void 0&&(E=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),E}_addBorder(v){const b=this.map.border.toXml(v);let E=this.index.border[b];return E===void 0&&(E=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),E}_addFill(v){const b=this.map.fill.toXml(v);let E=this.index.fill[b];return E===void 0&&(E=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),E}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,v){switch(v){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,i){const s=r("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,c){if((c=c||this.model)===!0)l.leafNode("u");else{const u=o.Attributes[c];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(r,n,i){const s=r("../base-xform"),o=r("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((l,c)=>{this.map.filterColumn.prepare(l,{index:c})})}render(a,l){return a.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(c=>{this.map.filterColumn.render(a,c)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(o,a){o.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,i){const s=r("../base-xform"),o=r("../list-xform"),a=r("./custom-filter-xform"),l=r("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(c,u){c.colId=u.index.toString()}render(c,u){return u.customFilters?(c.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(c,u.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:u}=c;switch(c.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(o,a){o.leafNode(this.tag,{val:a.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(o,a){o.id=a.index+1}render(o,a){return o.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(o,a){return o.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../list-xform"),l=r("./auto-filter-xform"),c=r("./table-column-xform"),u=r("./table-style-info-xform");class h extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new u}}prepare(f,p){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,p)}get tag(){return"table"}render(f,p){f.openXml(s.StdDocAttributes),f.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(f,p),this.map.tableColumns.render(f,p.columns),this.map.tableStyleInfo.render(f,p.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:p,attributes:m}=f;switch(p){case this.tag:this.reset(),this.model={name:m.name,displayName:m.displayName||m.name,tableRef:m.ref,totalsRow:m.totalsRowCount==="1",headerRow:m.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,m)=>{this.model.columns[m].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,p){f.columns.forEach(m=>{m.dxfId!==void 0&&(m.style=p.styles.getDxfStyle(m.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=r("jszip"),{PassThrough:c}=r("readable-stream"),u=r("../utils/zip-stream"),h=r("../utils/stream-buf"),d=r("../utils/utils"),f=r("../utils/xml-stream"),{bufferToString:p}=r("../utils/browser-buffer-decode"),m=r("./xform/style/styles-xform"),g=r("./xform/core/core-xform"),w=r("./xform/strings/shared-strings-xform"),v=r("./xform/core/relationships-xform"),b=r("./xform/core/content-types-xform"),E=r("./xform/core/app-xform"),P=r("./xform/book/workbook-xform"),A=r("./xform/sheet/worksheet-xform"),L=r("./xform/drawing/drawing-xform"),T=r("./xform/table/table-xform"),B=r("./xform/comment/comments-xform"),H=r("./xform/comment/vml-notes-xform"),G=r("./xml/theme1");class D{constructor(M){this.workbook=M}async readFile(M,R){if(!await d.fs.exists(M))throw new Error("File not found: "+M);const y=a.createReadStream(M);try{const S=await this.read(y,R);return y.close(),S}catch(S){throw y.close(),S}}parseRels(M){return new v().parseStream(M)}parseWorkbook(M){return new P().parseStream(M)}parseSharedStrings(M){return new w().parseStream(M)}reconcile(M,R){const y=new P,S=new A(R),C=new L,x=new T;y.reconcile(M);const F={media:M.media,mediaIndex:M.mediaIndex};Object.keys(M.drawings).forEach(j=>{const W=M.drawings[j],q=M.drawingRels[j];q&&(F.rels=q.reduce((V,$)=>(V[$.Id]=$,V),{}),(W.anchors||[]).forEach(V=>{const $=V.picture&&V.picture.hyperlinks;$&&F.rels[$.rId]&&($.hyperlink=F.rels[$.rId].Target,delete $.rId)}),C.reconcile(W,F))});const O={styles:M.styles};Object.values(M.tables).forEach(j=>{x.reconcile(j,O)});const N={styles:M.styles,sharedStrings:M.sharedStrings,media:M.media,mediaIndex:M.mediaIndex,date1904:M.properties&&M.properties.date1904,drawings:M.drawings,comments:M.comments,tables:M.tables,vmlDrawings:M.vmlDrawings};M.worksheets.forEach(j=>{j.relationships=M.worksheetRels[j.sheetNo],S.reconcile(j,N)}),delete M.worksheetHash,delete M.worksheetRels,delete M.globalRels,delete M.sharedStrings,delete M.workbookRels,delete M.sheetDefs,delete M.styles,delete M.mediaIndex,delete M.drawings,delete M.drawingRels,delete M.vmlDrawings}async _processWorksheetEntry(M,R,y,S,C){const x=new A(S),F=await x.parseStream(M);F.sheetNo=y,R.worksheetHash[C]=F,R.worksheets.push(F)}async _processCommentEntry(M,R,y){const S=new B,C=await S.parseStream(M);R.comments[`../${y}.xml`]=C}async _processTableEntry(M,R,y){const S=new T,C=await S.parseStream(M);R.tables[`../tables/${y}.xml`]=C}async _processWorksheetRelsEntry(M,R,y){const S=new v,C=await S.parseStream(M);R.worksheetRels[y]=C}async _processMediaEntry(M,R,y){const S=y.lastIndexOf(".");if(S>=1){const C=y.substr(S+1),x=y.substr(0,S);await new Promise((F,O)=>{const N=new h;N.on("finish",()=>{R.mediaIndex[y]=R.media.length,R.mediaIndex[x]=R.media.length;const j={type:"image",name:x,extension:C,buffer:N.toBuffer()};R.media.push(j),F()}),M.on("error",j=>{O(j)}),M.pipe(N)})}}async _processDrawingEntry(M,R,y){const S=new L,C=await S.parseStream(M);R.drawings[y]=C}async _processDrawingRelsEntry(M,R,y){const S=new v,C=await S.parseStream(M);R.drawingRels[y]=C}async _processVmlDrawingEntry(M,R,y){const S=new H,C=await S.parseStream(M);R.vmlDrawings[`../drawings/${y}.vml`]=C}async _processThemeEntry(M,R,y){await new Promise((S,C)=>{const x=new h;M.on("error",C),x.on("error",C),x.on("finish",()=>{R.themes[y]=x.read().toString(),S()}),M.pipe(x)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(M,R){!M[Symbol.asyncIterator]&&M.pipe&&(M=M.pipe(new c));const y=[];for await(const S of M)y.push(S);return this.load(o.concat(y),R)}async load(M,R){let y;y=R&&R.base64?o.from(M.toString(),"base64"):M;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},C=await l.loadAsync(y);for(const x of Object.values(C.files))if(!x.dir){let F,O=x.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))F=new c,F.write(await x.async("nodebuffer"));else{let N;F=new c({writableObjectMode:!0,readableObjectMode:!0}),N=s.browser?p(await x.async("nodebuffer")):await x.async("string");const j=16384;for(let W=0;W<N.length;W+=j)F.write(N.substring(W,W+j))}switch(F.end(),O){case"_rels/.rels":S.globalRels=await this.parseRels(F);break;case"xl/workbook.xml":{const N=await this.parseWorkbook(F);S.sheets=N.sheets,S.definedNames=N.definedNames,S.views=N.views,S.properties=N.properties,S.calcProperties=N.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(F);break;case"xl/sharedStrings.xml":S.sharedStrings=new w,await S.sharedStrings.parseStream(F);break;case"xl/styles.xml":S.styles=new m,await S.styles.parseStream(F);break;case"docProps/app.xml":{const N=new E,j=await N.parseStream(F);S.company=j.company,S.manager=j.manager;break}case"docProps/core.xml":{const N=new g,j=await N.parseStream(F);Object.assign(S,j);break}default:{let N=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(N){await this._processWorksheetEntry(F,S,N[1],R,O);break}if(N=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),N){await this._processWorksheetRelsEntry(F,S,N[1]);break}if(N=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),N){await this._processThemeEntry(F,S,N[1]);break}if(N=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),N){await this._processMediaEntry(F,S,N[1]);break}if(N=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),N){await this._processDrawingEntry(F,S,N[1]);break}if(N=O.match(/xl\/(comments\d+)[.]xml/),N){await this._processCommentEntry(F,S,N[1]);break}if(N=O.match(/xl\/tables\/(table\d+)[.]xml/),N){await this._processTableEntry(F,S,N[1]);break}if(N=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),N){await this._processDrawingRelsEntry(F,S,N[1]);break}if(N=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),N){await this._processVmlDrawingEntry(F,S,N[1]);break}}}}return this.reconcile(S,R),this.workbook.model=S,this.workbook}async addMedia(M,R){await Promise.all(R.media.map(async y=>{if(y.type==="image"){const S=`xl/media/${y.name}.${y.extension}`;if(y.filename){const C=await function(x,F){return new Promise((O,N)=>{a.readFile(x,F,(j,W)=>{j?N(j):O(W)})})}(y.filename);return M.append(C,{name:S})}if(y.buffer)return M.append(y.buffer,{name:S});if(y.base64){const C=y.base64,x=C.substring(C.indexOf(",")+1);return M.append(x,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(M,R){const y=new L,S=new v;R.worksheets.forEach(C=>{const{drawing:x}=C;if(x){y.prepare(x,{});let F=y.toXml(x);M.append(F,{name:`xl/drawings/${x.name}.xml`}),F=S.toXml(x.rels),M.append(F,{name:`xl/drawings/_rels/${x.name}.xml.rels`})}})}addTables(M,R){const y=new T;R.worksheets.forEach(S=>{const{tables:C}=S;C.forEach(x=>{y.prepare(x,{});const F=y.toXml(x);M.append(F,{name:"xl/tables/"+x.target})})})}async addContentTypes(M,R){const y=new b().toXml(R);M.append(y,{name:"[Content_Types].xml"})}async addApp(M,R){const y=new E().toXml(R);M.append(y,{name:"docProps/app.xml"})}async addCore(M,R){const y=new g;M.append(y.toXml(R),{name:"docProps/core.xml"})}async addThemes(M,R){const y=R.themes||{theme1:G};Object.keys(y).forEach(S=>{const C=y[S],x=`xl/theme/${S}.xml`;M.append(C,{name:x})})}async addOfficeRels(M){const R=new v().toXml([{Id:"rId1",Type:D.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:D.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:D.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);M.append(R,{name:"_rels/.rels"})}async addWorkbookRels(M,R){let y=1;const S=[{Id:"rId"+y++,Type:D.RelType.Styles,Target:"styles.xml"},{Id:"rId"+y++,Type:D.RelType.Theme,Target:"theme/theme1.xml"}];R.sharedStrings.count&&S.push({Id:"rId"+y++,Type:D.RelType.SharedStrings,Target:"sharedStrings.xml"}),R.worksheets.forEach(x=>{x.rId="rId"+y++,S.push({Id:x.rId,Type:D.RelType.Worksheet,Target:`worksheets/sheet${x.id}.xml`})});const C=new v().toXml(S);M.append(C,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(M,R){R.sharedStrings&&R.sharedStrings.count&&M.append(R.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(M,R){const{xml:y}=R.styles;y&&M.append(y,{name:"xl/styles.xml"})}async addWorkbook(M,R){const y=new P;M.append(y.toXml(R),{name:"xl/workbook.xml"})}async addWorksheets(M,R){const y=new A,S=new v,C=new B,x=new H;R.worksheets.forEach(F=>{let O=new f;y.render(O,F),M.append(O.xml,{name:`xl/worksheets/sheet${F.id}.xml`}),F.rels&&F.rels.length&&(O=new f,S.render(O,F.rels),M.append(O.xml,{name:`xl/worksheets/_rels/sheet${F.id}.xml.rels`})),F.comments.length>0&&(O=new f,C.render(O,F),M.append(O.xml,{name:`xl/comments${F.id}.xml`}),O=new f,x.render(O,F),M.append(O.xml,{name:`xl/drawings/vmlDrawing${F.id}.vml`}))})}_finalize(M){return new Promise((R,y)=>{M.on("finish",()=>{R(this)}),M.on("error",y),M.finalize()})}prepareModel(M,R){M.creator=M.creator||"ExcelJS",M.lastModifiedBy=M.lastModifiedBy||"ExcelJS",M.created=M.created||new Date,M.modified=M.modified||new Date,M.useSharedStrings=R.useSharedStrings===void 0||R.useSharedStrings,M.useStyles=R.useStyles===void 0||R.useStyles,M.sharedStrings=new w,M.styles=M.useStyles?new m(!0):new m.Mock;const y=new P,S=new A;y.prepare(M);const C={sharedStrings:M.sharedStrings,styles:M.styles,date1904:M.properties.date1904,drawingsCount:0,media:M.media};C.drawings=M.drawings=[],C.commentRefs=M.commentRefs=[];let x=0;M.tables=[],M.worksheets.forEach(F=>{F.tables.forEach(O=>{x++,O.target=`table${x}.xml`,O.id=x,M.tables.push(O)}),S.prepare(F,C)})}async write(M,R){R=R||{};const{model:y}=this.workbook,S=new u.ZipWriter(R.zip);return S.pipe(M),this.prepareModel(y,R),await this.addContentTypes(S,y),await this.addOfficeRels(S,y),await this.addWorkbookRels(S,y),await this.addWorksheets(S,y),await this.addSharedStrings(S,y),await this.addDrawings(S,y),await this.addTables(S,y),await Promise.all([this.addThemes(S,y),this.addStyles(S,y)]),await this.addMedia(S,y),await Promise.all([this.addApp(S,y),this.addCore(S,y)]),await this.addWorkbook(S,y),this._finalize(S)}writeFile(M,R){const y=a.createWriteStream(M);return new Promise((S,C)=>{y.on("finish",()=>{S()}),y.on("error",x=>{C(x)}),this.write(y,R).then(()=>{y.end()}).catch(x=>{C(x)})})}async writeBuffer(M){const R=new h;return await this.write(R,M),R.read()}}D.RelType=r("./rel-type"),n.exports=D}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=r("stream"),a=r("./formatter");class l extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new a.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,h,d){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(p,m)=>p?(f=!0,d(p)):(m&&m.forEach(g=>{this.push(s.from(g,"utf8"))}),f=!0,d()))}catch(p){if(f)throw p;d(p)}}_flush(u){this.rowFormatter.finish((h,d)=>h?u(h):(d&&d.forEach(f=>{this.push(s.from(f,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),s?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),s?.quote===!0?this.quote='"':s?.quote===!1&&(this.quote=""),typeof s?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=s.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=s(r("lodash.isboolean")),a=s(r("lodash.isnil")),l=s(r("lodash.escaperegexp"));i.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const u=`[${c.delimiter}${l.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(c){this._headers=c}shouldQuote(c,u){const h=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(h)?h:Array.isArray(h)?h[c]:this._headers!==null&&h[this._headers[c]]}format(c,u,h){const d=(""+(a.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&d.indexOf(f.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,f.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,h)?this.quoteField(d):d}quoteField(c){const{quote:u}=this.formatterOptions;return`${u}${c}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,i){var s=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=s(r("lodash.isfunction")),a=s(r("lodash.isequal")),l=r("./FieldFormatter"),c=r("../types");class u{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new l.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return u.isRowHashArray(d)?d.map(f=>f[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return c.isSyncTransform(d)?(f,p)=>{let m=null;try{m=d(f)}catch(g){return p(g)}return p(null,m)}:(f,p)=>{d(f,p)}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}format(d,f){this.callTransformer(d,(p,m)=>{if(p)return f(p);if(!d)return f(null);const g=[];if(m){const{shouldFormatColumns:w,headers:v}=this.checkHeaders(m);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),w){const b=this.gatherColumns(m);g.push(this.formatColumns(b,!1))}}return f(null,g)})}finish(d){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),d(null,f)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=u.gatherHeaders(d);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(f,d),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?u.isRowHashArray(d)?this.headers.map((f,p)=>{const m=d[p];return m?m[1]:""}):u.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((f,p)=>d[p]):this.headers.map(f=>d[f])}callTransformer(d,f){return this._rowTransform?this._rowTransform(d,f):f(null,d)}formatColumns(d,f){const p=d.map((g,w)=>this.fieldFormatter.format(g,w,f)).join(this.formatterOptions.delimiter),{rowCount:m}=this;return this.rowCount+=1,m?[this.formatterOptions.rowDelimiter,p].join(""):p}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var o=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,i){(function(s){(function(){var o=Object.create?function(w,v,b,E){E===void 0&&(E=b),Object.defineProperty(w,E,{enumerable:!0,get:function(){return v[b]}})}:function(w,v,b,E){E===void 0&&(E=b),w[E]=v[b]},a=Object.create?function(w,v){Object.defineProperty(w,"default",{enumerable:!0,value:v})}:function(w,v){w.default=v},l=function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&o(v,w,b);return a(v,w),v},c=function(w,v){for(var b in w)b==="default"||Object.prototype.hasOwnProperty.call(v,b)||o(v,w,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=r("util"),h=r("stream"),d=l(r("fs")),f=r("./FormatterOptions"),p=r("./CsvFormatterStream");c(r("./types"),i);var m=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return m.CsvFormatterStream}});var g=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),i.format=w=>new p.CsvFormatterStream(new f.FormatterOptions(w)),i.write=(w,v)=>{const b=i.format(v),E=u.promisify((P,A)=>{b.write(P,void 0,A)});return w.reduce((P,A)=>P.then(()=>E(A)),Promise.resolve()).then(()=>b.end()).catch(P=>{b.emit("error",P)}),b},i.writeToStream=(w,v,b)=>i.write(v,b).pipe(w),i.writeToBuffer=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],E=new h.Writable({write(P,A,L){b.push(P),L()}});return new Promise((P,A)=>{E.on("error",A).on("finish",()=>P(s.concat(b))),i.write(w,v).pipe(E)})},i.writeToString=(w,v)=>i.writeToBuffer(w,v).then(b=>b.toString()),i.writeToPath=(w,v,b)=>{const E=d.createWriteStream(w,{encoding:"utf8"});return i.write(v,b).pipe(E)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=r("string_decoder"),a=r("stream"),l=r("./transforms"),c=r("./parser");class u extends a.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new c.Parser(d),this.headerTransformer=new l.HeaderTransformer(d),this.decoder=new o.StringDecoder(d.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];return super.emit(d,...p)}_transform(d,f,p){if(this.hasHitRowLimit)return p();const m=u.wrapDoneCallback(p);try{const{lines:g}=this,w=g+this.decoder.write(d),v=this.parse(w,!0);return this.processRows(v,m)}catch(g){return m(g)}}_flush(d){const f=u.wrapDoneCallback(d);if(this.hasHitRowLimit)return f();try{const p=this.lines+this.decoder.end(),m=this.parse(p,!1);return this.processRows(m,f)}catch(p){return f(p)}}parse(d,f){if(!d)return[];const{line:p,rows:m}=this.parser.parse(d,f);return this.lines=p,m}processRows(d,f){const p=d.length,m=g=>{const w=E=>E?f(E):g%100!=0?m(g+1):void s(()=>m(g+1));if(this.checkAndEmitHeaders(),g>=p||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const v=d[g];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(v,(E,P)=>{if(E)return this.rowCount-=1,w(E);if(!P)return w(new Error("expected transform result"));if(P.isValid){if(P.row)return this.pushRow(P.row,w)}else this.emit("data-invalid",P.row,b,P.reason);return w()})};m(0)}transformRow(d,f){try{this.headerTransformer.transform(d,(p,m)=>p?f(p):m?m.isValid?m.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(m.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:d}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(p){f(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,f){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),f()}catch(p){f(p)}}static wrapDoneCallback(d){let f=!1;return function(p){if(p){if(f)throw p;return f=!0,void d(p)}for(var m=arguments.length,g=new Array(m>1?m-1:0),w=1;w<m;w++)g[w-1]=arguments[w];d(...g)}}}i.CsvParserStream=u}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=s(r("lodash.escaperegexp")),a=s(r("lodash.isnil"));i.ParserOptions=class{constructor(l){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,i){var s=Object.create?function(m,g,w,v){v===void 0&&(v=w),Object.defineProperty(m,v,{enumerable:!0,get:function(){return g[w]}})}:function(m,g,w,v){v===void 0&&(v=w),m[v]=g[w]},o=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g},a=function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var w in m)w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)&&s(g,m,w);return o(g,m),g},l=function(m,g){for(var w in m)w==="default"||Object.prototype.hasOwnProperty.call(g,w)||s(g,m,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const c=a(r("fs")),u=r("stream"),h=r("./ParserOptions"),d=r("./CsvParserStream");l(r("./types"),i);var f=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var p=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),i.parse=m=>new d.CsvParserStream(new h.ParserOptions(m)),i.parseStream=(m,g)=>m.pipe(new d.CsvParserStream(new h.ParserOptions(g))),i.parseFile=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(m).pipe(new d.CsvParserStream(new h.ParserOptions(g)))},i.parseString=(m,g)=>{const w=new u.Readable;return w.push(m),w.push(null),w.pipe(new d.CsvParserStream(new h.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=r("./Scanner"),o=r("./RowParser"),a=r("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,h){const d=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(u){const h=[];let d=!0;for(;d;)d=this.parseRow(u,h);return{line:u.line,rows:h}}parseWithComments(u){const{parserOptions:h}=this,d=[];for(let f=u.nextCharacterToken;f!==null;f=u.nextCharacterToken)if(a.Token.isTokenComment(f,h)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:d};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:d};u.truncateToCursor()}else if(!this.parseRow(u,d))break;return{line:u.line,rows:d}}parseRow(u,h){if(!u.nextNonSpaceToken)return!1;const d=this.rowParser.parse(u);return d!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(d)||h.push(d),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=r("./column"),o=r("./Token");i.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new s.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:l}=this,{hasMoreData:c}=a,u=a,h=[];let d=this.getStartToken(u,h);for(;d;){if(o.Token.isTokenRowDelimiter(d))return u.advancePastToken(d),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(d,l)&&c?null:(u.truncateToCursor(),h);if(!this.shouldSkipColumnParse(u,d,h)){const f=this.columnParser.parse(u);if(f===null)return null;h.push(f)}d=u.nextNonSpaceToken}return c?null:(u.truncateToCursor(),h)}getStartToken(a,l){const c=a.nextNonSpaceToken;return c!==null&&o.Token.isTokenDelimiter(c,this.parserOptions)?(l.push(""),a.nextNonSpaceToken):c}shouldSkipColumnParse(a,l,c){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(l,u)){a.advancePastToken(l);const h=a.nextCharacterToken;if(!a.hasMoreCharacters||h!==null&&o.Token.isTokenRowDelimiter(h)||h!==null&&o.Token.isTokenDelimiter(h,u))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=r("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(l)===-1)return null;const c=l.exec(a);if(c==null)return null;const u=c[1],h=this.cursor+(c.index||0);return new s.Token({token:u,startCursor:h,endCursor:h+u.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:l}=this;return l<=a?null:new s.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=o.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const o=s.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(s,o){return s.token===o.carriageReturn}static isTokenComment(s,o){return o.supportsComments&&!!s&&s.token===o.comment}static isTokenEscapeCharacter(s,o){return s.token===o.escapeChar}static isTokenQuote(s,o){return s.token===o.quote}static isTokenDelimiter(s,o){return s.token===o.delimiter}}},{}],160:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=o=>o.trim():s.ltrim?this.format=o=>o.trimLeft():s.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=r("./NonQuotedColumnParser"),o=r("./QuotedColumnParser"),a=r("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:c}=l;return c!==null&&a.Token.isTokenQuote(c,this.parserOptions)?(l.advanceToToken(c),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:l}=this,c=[];let u=a.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,l)&&!o.Token.isTokenRowDelimiter(u);u=a.nextCharacterToken)c.push(u.token),a.advancePastToken(u);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const l=a.cursor,{foundClosingQuote:c,col:u}=this.gatherDataBetweenQuotes(a);if(!c){if(a.advanceTo(l),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),u}gatherDataBetweenQuotes(a){const{parserOptions:l}=this;let c=!1,u=!1;const h=[];let d=a.nextCharacterToken;for(;!u&&d!==null;d=a.nextCharacterToken){const f=o.Token.isTokenQuote(d,l);if(!c&&f)c=!0;else if(c)if(o.Token.isTokenEscapeCharacter(d,l)){a.advancePastToken(d);const p=a.nextCharacterToken;p!==null&&(o.Token.isTokenQuote(p,l)||o.Token.isTokenEscapeCharacter(p,l))?(h.push(p.token),d=p):f?u=!0:h.push(d.token)}else f?u=!0:h.push(d.token);a.advancePastToken(d)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:u}}checkForMalformedColumn(a){const{parserOptions:l}=this,{nextNonSpaceToken:c}=a;if(c){const u=o.Token.isTokenDelimiter(c,l),h=o.Token.isTokenRowDelimiter(c);if(!u&&!h){const d=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${c.token}'. at '${d}`)}a.advanceToToken(c)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var o=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var a=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var a=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var c=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=s(r("lodash.isundefined")),a=s(r("lodash.isfunction")),l=s(r("lodash.uniq")),c=s(r("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):a.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,h){return this.shouldMapRow(u)?h(null,this.processRow(u)):h(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&u.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return h.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const h={},{headers:d,headersLength:f}=this;for(let p=0;p<f;p+=1){const m=d[p];if(!o.default(m)){const g=u[p];o.default(g)?h[m]="":h[m]=g}}return h}setHeaders(u){var h;const d=u.filter(f=>!!f);if(l.default(d).length!==d.length){const f=c.default(d),p=Object.keys(f).filter(m=>f[m].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=s(r("lodash.isfunction")),a=r("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return a.isSyncTransform(u)?(h,d)=>{let f=null;try{f=u(h)}catch(p){return d(p)}return d(null,f)}:u}static createValidator(u){return a.isSyncValidate(u)?(h,d)=>{d(null,{row:h,isValid:u(h)})}:(h,d)=>{u(h,(f,p,m)=>f?d(f):d(null,p?{row:h,isValid:p,reason:m}:{row:h,isValid:!1,reason:m}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,h){return this.callTransformer(u,(d,f)=>d?h(d):f?this.callValidator(f,(p,m)=>p?h(p):m&&!m.isValid?h(null,{row:f,isValid:!1,reason:m.reason}):h(null,{row:f,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(u,h){return this._rowTransform?this._rowTransform(u,h):h(null,u)}callValidator(u,h){return this._rowValidator?this._rowValidator(u,h):h(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var o=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(r,n,i){const s=i;s.bignum=r("bn.js"),s.define=r("./asn1/api").define,s.base=r("./asn1/base"),s.constants=r("./asn1/constants"),s.decoders=r("./asn1/decoders"),s.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,i){const s=r("./encoders"),o=r("./decoders"),a=r("inherits");function l(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}i.define=function(c,u){return new l(c,u)},l.prototype._createNamed=function(c){const u=this.name;function h(d){this._initNamed(d,u)}return a(h,c),h.prototype._initNamed=function(d,f){c.call(this,d,f)},new h(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(o[c])),this.decoders[c]},l.prototype.decode=function(c,u,h){return this._getDecoder(u).decode(c,h)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(s[c])),this.encoders[c]},l.prototype.encode=function(c,u,h){return this._getEncoder(u).encode(c,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,i){const s=r("inherits"),o=r("../base/reporter").Reporter,a=r("safer-buffer").Buffer;function l(u,h){o.call(this,h),a.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function c(u,h){if(Array.isArray(u))this.length=0,this.value=u.map(function(d){return c.isEncoderBuffer(d)||(d=new c(d,h)),this.length+=d.length,d},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return h.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=a.byteLength(u);else{if(!a.isBuffer(u))return h.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,o),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&a.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(u){const h=new l(this.base);return h.offset=u.offset,h.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),h},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,h){if(!(this.offset+u<=this.length))return this.error(h||"DecoderBuffer overrun");const d=new l(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+u,this.offset+=u,d},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=c,c.isEncoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},c.prototype.join=function(u,h){return u||(u=a.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(u,h),h+=d.length}):(typeof this.value=="number"?u[h]=this.value:typeof this.value=="string"?u.write(this.value,h):a.isBuffer(this.value)&&this.value.copy(u,h),h+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,i){const s=i;s.Reporter=r("./reporter").Reporter,s.DecoderBuffer=r("./buffer").DecoderBuffer,s.EncoderBuffer=r("./buffer").EncoderBuffer,s.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,i){const s=r("../base/reporter").Reporter,o=r("../base/buffer").EncoderBuffer,a=r("../base/buffer").DecoderBuffer,l=r("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function h(f,p,m){const g={};this._baseState=g,g.name=m,g.enc=f,g.parent=p||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}n.exports=h;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const f=this._baseState,p={};d.forEach(function(g){p[g]=f[g]});const m=new this.constructor(p.parent);return m._baseState=p,m},h.prototype._wrap=function(){const f=this._baseState;u.forEach(function(p){this[p]=function(){const m=new this.constructor(this);return f.children.push(m),m[p].apply(m,arguments)}},this)},h.prototype._init=function(f){const p=this._baseState;l(p.parent===null),f.call(this),p.children=p.children.filter(function(m){return m._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(f){const p=this._baseState,m=f.filter(function(g){return g instanceof this.constructor},this);f=f.filter(function(g){return!(g instanceof this.constructor)},this),m.length!==0&&(l(p.children===null),p.children=m,m.forEach(function(g){g._baseState.parent=this},this)),f.length!==0&&(l(p.args===null),p.args=f,p.reverseArgs=f.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const w={};return Object.keys(g).forEach(function(v){v==(0|v)&&(v|=0);const b=g[v];w[b]=v}),w}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){h.prototype[f]=function(){const p=this._baseState;throw new Error(f+" not implemented for encoding: "+p.enc)}}),c.forEach(function(f){h.prototype[f]=function(){const p=this._baseState,m=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=f,this._useArgs(m),this}}),h.prototype.use=function(f){l(f);const p=this._baseState;return l(p.use===null),p.use=f,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(f){const p=this._baseState;return l(p.default===null),p.default=f,p.optional=!0,this},h.prototype.explicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=f,this},h.prototype.implicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=f,this},h.prototype.obj=function(){const f=this._baseState,p=Array.prototype.slice.call(arguments);return f.obj=!0,p.length!==0&&this._useArgs(p),this},h.prototype.key=function(f){const p=this._baseState;return l(p.key===null),p.key=f,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(f){const p=this._baseState;return l(p.choice===null),p.choice=f,this._useArgs(Object.keys(f).map(function(m){return f[m]})),this},h.prototype.contains=function(f){const p=this._baseState;return l(p.use===null),p.contains=f,this},h.prototype._decode=function(f,p){const m=this._baseState;if(m.parent===null)return f.wrapResult(m.children[0]._decode(f,p));let g,w=m.default,v=!0,b=null;if(m.key!==null&&(b=f.enterKey(m.key)),m.optional){let E=null;if(m.explicit!==null?E=m.explicit:m.implicit!==null?E=m.implicit:m.tag!==null&&(E=m.tag),E!==null||m.any){if(v=this._peekTag(f,E,m.any),f.isError(v))return v}else{const P=f.save();try{m.choice===null?this._decodeGeneric(m.tag,f,p):this._decodeChoice(f,p),v=!0}catch{v=!1}f.restore(P)}}if(m.obj&&v&&(g=f.enterObject()),v){if(m.explicit!==null){const P=this._decodeTag(f,m.explicit);if(f.isError(P))return P;f=P}const E=f.offset;if(m.use===null&&m.choice===null){let P;m.any&&(P=f.save());const A=this._decodeTag(f,m.implicit!==null?m.implicit:m.tag,m.any);if(f.isError(A))return A;m.any?w=f.raw(P):f=A}if(p&&p.track&&m.tag!==null&&p.track(f.path(),E,f.length,"tagged"),p&&p.track&&m.tag!==null&&p.track(f.path(),f.offset,f.length,"content"),m.any||(w=m.choice===null?this._decodeGeneric(m.tag,f,p):this._decodeChoice(f,p)),f.isError(w))return w;if(m.any||m.choice!==null||m.children===null||m.children.forEach(function(P){P._decode(f,p)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const P=new a(w);w=this._getUse(m.contains,f._reporterState.obj)._decode(P,p)}}return m.obj&&v&&(w=f.leaveObject(g)),m.key===null||w===null&&v!==!0?b!==null&&f.exitKey(b):f.leaveKey(b,m.key,w),w},h.prototype._decodeGeneric=function(f,p,m){const g=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(p,f,g.args[0],m):/str$/.test(f)?this._decodeStr(p,f,m):f==="objid"&&g.args?this._decodeObjid(p,g.args[0],g.args[1],m):f==="objid"?this._decodeObjid(p,null,null,m):f==="gentime"||f==="utctime"?this._decodeTime(p,f,m):f==="null_"?this._decodeNull(p,m):f==="bool"?this._decodeBool(p,m):f==="objDesc"?this._decodeStr(p,f,m):f==="int"||f==="enum"?this._decodeInt(p,g.args&&g.args[0],m):g.use!==null?this._getUse(g.use,p._reporterState.obj)._decode(p,m):p.error("unknown tag: "+f)},h.prototype._getUse=function(f,p){const m=this._baseState;return m.useDecoder=this._use(f,p),l(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},h.prototype._decodeChoice=function(f,p){const m=this._baseState;let g=null,w=!1;return Object.keys(m.choice).some(function(v){const b=f.save(),E=m.choice[v];try{const P=E._decode(f,p);if(f.isError(P))return!1;g={type:v,value:P},w=!0}catch{return f.restore(b),!1}return!0},this),w?g:f.error("Choice not matched")},h.prototype._createEncoderBuffer=function(f){return new o(f,this.reporter)},h.prototype._encode=function(f,p,m){const g=this._baseState;if(g.default!==null&&g.default===f)return;const w=this._encodeValue(f,p,m);return w===void 0||this._skipDefault(w,p,m)?void 0:w},h.prototype._encodeValue=function(f,p,m){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(f,p||new s);let w=null;if(this.reporter=p,g.optional&&f===void 0){if(g.default===null)return;f=g.default}let v=null,b=!1;if(g.any)w=this._createEncoderBuffer(f);else if(g.choice)w=this._encodeChoice(f,p);else if(g.contains)v=this._getUse(g.contains,m)._encode(f,p),b=!0;else if(g.children)v=g.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,p,f);if(E._baseState.key===null)return p.error("Child should have a key");const P=p.enterKey(E._baseState.key);if(typeof f!="object")return p.error("Child expected, but input is not object");const A=E._encode(f[E._baseState.key],p,f);return p.leaveKey(P),A},this).filter(function(E){return E}),v=this._createEncoderBuffer(v);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return p.error("Too many args for : "+g.tag);if(!Array.isArray(f))return p.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,v=this._createEncoderBuffer(f.map(function(P){const A=this._baseState;return this._getUse(A.args[0],f)._encode(P,p)},E))}else g.use!==null?w=this._getUse(g.use,m)._encode(f,p):(v=this._encodePrimitive(g.tag,f),b=!0);if(!g.any&&g.choice===null){const E=g.implicit!==null?g.implicit:g.tag,P=g.implicit===null?"universal":"context";E===null?g.use===null&&p.error("Tag could be omitted only for .use()"):g.use===null&&(w=this._encodeComposite(E,b,P,v))}return g.explicit!==null&&(w=this._encodeComposite(g.explicit,!1,"context",w)),w},h.prototype._encodeChoice=function(f,p){const m=this._baseState,g=m.choice[f.type];return g||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(m.choice))),g._encode(f.value,p)},h.prototype._encodePrimitive=function(f,p){const m=this._baseState;if(/str$/.test(f))return this._encodeStr(p,f);if(f==="objid"&&m.args)return this._encodeObjid(p,m.reverseArgs[0],m.args[1]);if(f==="objid")return this._encodeObjid(p,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(p,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(p,m.args&&m.reverseArgs[0]);if(f==="bool")return this._encodeBool(p);if(f==="objDesc")return this._encodeStr(p,f);throw new Error("Unsupported tag: "+f)},h.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},h.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,i){const s=r("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function a(l,c){this.path=l,this.rethrow(c)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof a},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const c=this._reporterState;c.obj=l.obj,c.path=c.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const c=this._reporterState;c.path=c.path.slice(0,l-1)},o.prototype.leaveKey=function(l,c,u){const h=this._reporterState;this.exitKey(l),h.obj!==null&&(h.obj[c]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,c=l.obj;return l.obj={},c},o.prototype.leaveObject=function(l){const c=this._reporterState,u=c.obj;return c.obj=l,u},o.prototype.error=function(l){let c;const u=this._reporterState,h=l instanceof a;if(c=h?l:new a(u.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw c;return h||u.errors.push(c),c},o.prototype.wrapResult=function(l){const c=this._reporterState;return c.options.partial?{result:this.isError(l)?null:l,errors:c.errors}:l},s(a,Error),a.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(r,n,i){function s(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(r,n,i){const s=i;s._reverse=function(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a},s.der=r("./der")},{"./der":176}],178:[function(r,n,i){const s=r("inherits"),o=r("bn.js"),a=r("../base/buffer").DecoderBuffer,l=r("../base/node"),c=r("../constants/der");function u(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new h,this.tree._init(p.body)}function h(p){l.call(this,"der",p)}function d(p,m){let g=p.readUInt8(m);if(p.isError(g))return g;const w=c.tagClass[g>>6],v=(32&g)==0;if((31&g)==31){let b=g;for(g=0;(128&b)==128;){if(b=p.readUInt8(m),p.isError(b))return b;g<<=7,g|=127&b}}else g&=31;return{cls:w,primitive:v,tag:g,tagStr:c.tag[g]}}function f(p,m,g){let w=p.readUInt8(g);if(p.isError(w))return w;if(!m&&w===128)return null;if(!(128&w))return w;const v=127&w;if(v>4)return p.error("length octect is too long");w=0;for(let b=0;b<v;b++){w<<=8;const E=p.readUInt8(g);if(p.isError(E))return E;w|=E}return w}n.exports=u,u.prototype.decode=function(p,m){return a.isDecoderBuffer(p)||(p=new a(p,m)),this.tree._decode(p,m)},s(h,l),h.prototype._peekTag=function(p,m,g){if(p.isEmpty())return!1;const w=p.save(),v=d(p,'Failed to peek tag: "'+m+'"');return p.isError(v)?v:(p.restore(w),v.tag===m||v.tagStr===m||v.tagStr+"of"===m||g)},h.prototype._decodeTag=function(p,m,g){const w=d(p,'Failed to decode tag of "'+m+'"');if(p.isError(w))return w;let v=f(p,w.primitive,'Failed to get length of "'+m+'"');if(p.isError(v))return v;if(!g&&w.tag!==m&&w.tagStr!==m&&w.tagStr+"of"!==m)return p.error('Failed to match tag: "'+m+'"');if(w.primitive||v!==null)return p.skip(v,'Failed to match body of: "'+m+'"');const b=p.save(),E=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(E)?E:(v=p.offset-b.offset,p.restore(b),p.skip(v,'Failed to match body of: "'+m+'"'))},h.prototype._skipUntilEnd=function(p,m){for(;;){const g=d(p,m);if(p.isError(g))return g;const w=f(p,g.primitive,m);if(p.isError(w))return w;let v;if(v=g.primitive||w!==null?p.skip(w):this._skipUntilEnd(p,m),p.isError(v))return v;if(g.tagStr==="end")break}},h.prototype._decodeList=function(p,m,g,w){const v=[];for(;!p.isEmpty();){const b=this._peekTag(p,"end");if(p.isError(b))return b;const E=g.decode(p,"der",w);if(p.isError(E)&&b)break;v.push(E)}return v},h.prototype._decodeStr=function(p,m){if(m==="bitstr"){const g=p.readUInt8();return p.isError(g)?g:{unused:g,data:p.raw()}}if(m==="bmpstr"){const g=p.raw();if(g.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let w="";for(let v=0;v<g.length/2;v++)w+=String.fromCharCode(g.readUInt16BE(2*v));return w}if(m==="numstr"){const g=p.raw().toString("ascii");return this._isNumstr(g)?g:p.error("Decoding of string type: numstr unsupported characters")}if(m==="octstr"||m==="objDesc")return p.raw();if(m==="printstr"){const g=p.raw().toString("ascii");return this._isPrintstr(g)?g:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(m)?p.raw().toString():p.error("Decoding of string type: "+m+" unsupported")},h.prototype._decodeObjid=function(p,m,g){let w;const v=[];let b=0,E=0;for(;!p.isEmpty();)E=p.readUInt8(),b<<=7,b|=127&E,!(128&E)&&(v.push(b),b=0);128&E&&v.push(b);const P=v[0]/40|0,A=v[0]%40;if(w=g?v:[P,A].concat(v.slice(1)),m){let L=m[w.join(" ")];L===void 0&&(L=m[w.join(".")]),L!==void 0&&(w=L)}return w},h.prototype._decodeTime=function(p,m){const g=p.raw().toString();let w,v,b,E,P,A;if(m==="gentime")w=0|g.slice(0,4),v=0|g.slice(4,6),b=0|g.slice(6,8),E=0|g.slice(8,10),P=0|g.slice(10,12),A=0|g.slice(12,14);else{if(m!=="utctime")return p.error("Decoding "+m+" time is not supported yet");w=0|g.slice(0,2),v=0|g.slice(2,4),b=0|g.slice(4,6),E=0|g.slice(6,8),P=0|g.slice(8,10),A=0|g.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,v-1,b,E,P,A,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(p){const m=p.readUInt8();return p.isError(m)?m:m!==0},h.prototype._decodeInt=function(p,m){const g=p.raw();let w=new o(g);return m&&(w=m[w.toString(10)]||w),w},h.prototype._use=function(p,m){return typeof p=="function"&&(p=p(m)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("./der");function l(c){a.call(this,c),this.enc="pem"}s(l,a),n.exports=l,l.prototype.decode=function(c,u){const h=c.toString().split(/[\r\n]+/g),d=u.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,m=-1;for(let v=0;v<h.length;v++){const b=h[v].match(f);if(b!==null&&b[2]===d){if(p!==-1){if(b[1]!=="END")break;m=v;break}if(b[1]!=="BEGIN")break;p=v}}if(p===-1||m===-1)throw new Error("PEM section not found for: "+d);const g=h.slice(p+1,m).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const w=o.from(g,"base64");return a.prototype.decode.call(this,w,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("../base/node"),l=r("../constants/der");function c(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){a.call(this,"der",d)}function h(d){return d<10?"0"+d:d}n.exports=c,c.prototype.encode=function(d,f){return this.tree._encode(d,f).join()},s(u,a),u.prototype._encodeComposite=function(d,f,p,m){const g=function(b,E,P,A){let L;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),l.tagByName.hasOwnProperty(b))L=l.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return A.error("Unknown tag: "+b);L=b}return L>=31?A.error("Multi-octet tag encoding unsupported"):(E||(L|=32),L|=l.tagClassByName[P||"universal"]<<6,L)}(d,f,p,this.reporter);if(m.length<128){const b=o.alloc(2);return b[0]=g,b[1]=m.length,this._createEncoderBuffer([b,m])}let w=1;for(let b=m.length;b>=256;b>>=8)w++;const v=o.alloc(2+w);v[0]=g,v[1]=128|w;for(let b=1+w,E=m.length;E>0;b--,E>>=8)v[b]=255&E;return this._createEncoderBuffer([v,m])},u.prototype._encodeStr=function(d,f){if(f==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(f==="bmpstr"){const p=o.alloc(2*d.length);for(let m=0;m<d.length;m++)p.writeUInt16BE(d.charCodeAt(m),2*m);return this._createEncoderBuffer(p)}return f==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+f+" unsupported")},u.prototype._encodeObjid=function(d,f,p){if(typeof d=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=f[d].split(/[\s.]+/g);for(let v=0;v<d.length;v++)d[v]|=0}else if(Array.isArray(d)){d=d.slice();for(let v=0;v<d.length;v++)d[v]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!p){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let m=0;for(let v=0;v<d.length;v++){let b=d[v];for(m++;b>=128;b>>=7)m++}const g=o.alloc(m);let w=g.length-1;for(let v=d.length-1;v>=0;v--){let b=d[v];for(g[w--]=127&b;(b>>=7)>0;)g[w--]=128|127&b}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(d,f){let p;const m=new Date(d);return f==="gentime"?p=[h(m.getUTCFullYear()),h(m.getUTCMonth()+1),h(m.getUTCDate()),h(m.getUTCHours()),h(m.getUTCMinutes()),h(m.getUTCSeconds()),"Z"].join(""):f==="utctime"?p=[h(m.getUTCFullYear()%100),h(m.getUTCMonth()+1),h(m.getUTCDate()),h(m.getUTCHours()),h(m.getUTCMinutes()),h(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(p,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,f){if(typeof d=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=f[d]}if(typeof d!="number"&&!o.isBuffer(d)){const g=d.toArray();!d.sign&&128&g[0]&&g.unshift(0),d=o.from(g)}if(o.isBuffer(d)){let g=d.length;d.length===0&&g++;const w=o.alloc(g);return d.copy(w),d.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let p=1;for(let g=d;g>=256;g>>=8)p++;const m=new Array(p);for(let g=m.length-1;g>=0;g--)m[g]=255&d,d>>=8;return 128&m[0]&&m.unshift(0),this._createEncoderBuffer(o.from(m))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,f){return typeof d=="function"&&(d=d(f)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,f,p){const m=this._baseState;let g;if(m.default===null)return!1;const w=d.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,f,p).join()),w.length!==m.defaultBuffer.length)return!1;for(g=0;g<w.length;g++)if(w[g]!==m.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,i){const s=r("inherits"),o=r("./der");function a(l){o.call(this,l),this.enc="pem"}s(a,o),n.exports=a,a.prototype.encode=function(l,c){const u=o.prototype.encode.call(this,l).toString("base64"),h=["-----BEGIN "+c.label+"-----"];for(let d=0;d<u.length;d+=64)h.push(u.slice(d,d+64));return h.push("-----END "+c.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,i){(function(s,o){function a(k,M){if(!k)throw new Error(M||"Assertion failed")}function l(k,M){k.super_=M;var R=function(){};R.prototype=M.prototype,k.prototype=new R,k.prototype.constructor=k}function c(k,M,R){if(c.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(M!=="le"&&M!=="be"||(R=M,M=10),this._init(k||0,M||10,R||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(k,M){var R=k.charCodeAt(M);return R>=65&&R<=70?R-55:R>=97&&R<=102?R-87:R-48&15}function d(k,M,R){var y=h(k,R);return R-1>=M&&(y|=h(k,R-1)<<4),y}function f(k,M,R,y){for(var S=0,C=Math.min(k.length,R),x=M;x<C;x++){var F=k.charCodeAt(x)-48;S*=y,S+=F>=49?F-49+10:F>=17?F-17+10:F}return S}c.isBN=function(k){return k instanceof c||k!==null&&typeof k=="object"&&k.constructor.wordSize===c.wordSize&&Array.isArray(k.words)},c.max=function(k,M){return k.cmp(M)>0?k:M},c.min=function(k,M){return k.cmp(M)<0?k:M},c.prototype._init=function(k,M,R){if(typeof k=="number")return this._initNumber(k,M,R);if(typeof k=="object")return this._initArray(k,M,R);M==="hex"&&(M=16),a(M===(0|M)&&M>=2&&M<=36);var y=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(y++,this.negative=1),y<k.length&&(M===16?this._parseHex(k,y,R):(this._parseBase(k,M,y),R==="le"&&this._initArray(this.toArray(),M,R)))},c.prototype._initNumber=function(k,M,R){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(a(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),M,R)},c.prototype._initArray=function(k,M,R){if(a(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var S,C,x=0;if(R==="be")for(y=k.length-1,S=0;y>=0;y-=3)C=k[y]|k[y-1]<<8|k[y-2]<<16,this.words[S]|=C<<x&67108863,this.words[S+1]=C>>>26-x&67108863,(x+=24)>=26&&(x-=26,S++);else if(R==="le")for(y=0,S=0;y<k.length;y+=3)C=k[y]|k[y+1]<<8|k[y+2]<<16,this.words[S]|=C<<x&67108863,this.words[S+1]=C>>>26-x&67108863,(x+=24)>=26&&(x-=26,S++);return this.strip()},c.prototype._parseHex=function(k,M,R){this.length=Math.ceil((k.length-M)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var S,C=0,x=0;if(R==="be")for(y=k.length-1;y>=M;y-=2)S=d(k,M,y)<<C,this.words[x]|=67108863&S,C>=18?(C-=18,x+=1,this.words[x]|=S>>>26):C+=8;else for(y=(k.length-M)%2==0?M+1:M;y<k.length;y+=2)S=d(k,M,y)<<C,this.words[x]|=67108863&S,C>=18?(C-=18,x+=1,this.words[x]|=S>>>26):C+=8;this.strip()},c.prototype._parseBase=function(k,M,R){this.words=[0],this.length=1;for(var y=0,S=1;S<=67108863;S*=M)y++;y--,S=S/M|0;for(var C=k.length-R,x=C%y,F=Math.min(C,C-x)+R,O=0,N=R;N<F;N+=y)O=f(k,N,N+y,M),this.imuln(S),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(x!==0){var j=1;for(O=f(k,N,k.length,M),N=0;N<x;N++)j*=M;this.imuln(j),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},c.prototype.copy=function(k){k.words=new Array(this.length);for(var M=0;M<this.length;M++)k.words[M]=this.words[M];k.length=this.length,k.negative=this.negative,k.red=this.red},c.prototype.clone=function(){var k=new c(null);return this.copy(k),k},c.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(k,M,R){R.negative=M.negative^k.negative;var y=k.length+M.length|0;R.length=y,y=y-1|0;var S=0|k.words[0],C=0|M.words[0],x=S*C,F=67108863&x,O=x/67108864|0;R.words[0]=F;for(var N=1;N<y;N++){for(var j=O>>>26,W=67108863&O,q=Math.min(N,M.length-1),V=Math.max(0,N-k.length+1);V<=q;V++){var $=N-V|0;j+=(x=(S=0|k.words[$])*(C=0|M.words[V])+W)/67108864|0,W=67108863&x}R.words[N]=0|W,O=0|j}return O!==0?R.words[N]=0|O:R.length--,R.strip()}c.prototype.toString=function(k,M){var R;if(M=0|M||1,(k=k||10)===16||k==="hex"){R="";for(var y=0,S=0,C=0;C<this.length;C++){var x=this.words[C],F=(16777215&(x<<y|S)).toString(16);R=(S=x>>>24-y&16777215)!==0||C!==this.length-1?p[6-F.length]+F+R:F+R,(y+=2)>=26&&(y-=26,C--)}for(S!==0&&(R=S.toString(16)+R);R.length%M!=0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(k===(0|k)&&k>=2&&k<=36){var O=m[k],N=g[k];R="";var j=this.clone();for(j.negative=0;!j.isZero();){var W=j.modn(N).toString(k);R=(j=j.idivn(N)).isZero()?W+R:p[O-W.length]+W+R}for(this.isZero()&&(R="0"+R);R.length%M!=0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(k,M){return a(u!==void 0),this.toArrayLike(u,k,M)},c.prototype.toArray=function(k,M){return this.toArrayLike(Array,k,M)},c.prototype.toArrayLike=function(k,M,R){var y=this.byteLength(),S=R||Math.max(1,y);a(y<=S,"byte array longer than desired length"),a(S>0,"Requested array length <= 0"),this.strip();var C,x,F=M==="le",O=new k(S),N=this.clone();if(F){for(x=0;!N.isZero();x++)C=N.andln(255),N.iushrn(8),O[x]=C;for(;x<S;x++)O[x]=0}else{for(x=0;x<S-y;x++)O[x]=0;for(x=0;!N.isZero();x++)C=N.andln(255),N.iushrn(8),O[S-x-1]=C}return O},Math.clz32?c.prototype._countBits=function(k){return 32-Math.clz32(k)}:c.prototype._countBits=function(k){var M=k,R=0;return M>=4096&&(R+=13,M>>>=13),M>=64&&(R+=7,M>>>=7),M>=8&&(R+=4,M>>>=4),M>=2&&(R+=2,M>>>=2),R+M},c.prototype._zeroBits=function(k){if(k===0)return 26;var M=k,R=0;return!(8191&M)&&(R+=13,M>>>=13),!(127&M)&&(R+=7,M>>>=7),!(15&M)&&(R+=4,M>>>=4),!(3&M)&&(R+=2,M>>>=2),!(1&M)&&R++,R},c.prototype.bitLength=function(){var k=this.words[this.length-1],M=this._countBits(k);return 26*(this.length-1)+M},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,M=0;M<this.length;M++){var R=this._zeroBits(this.words[M]);if(k+=R,R!==26)break}return k},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},c.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var M=0;M<k.length;M++)this.words[M]=this.words[M]|k.words[M];return this.strip()},c.prototype.ior=function(k){return a((this.negative|k.negative)==0),this.iuor(k)},c.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},c.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},c.prototype.iuand=function(k){var M;M=this.length>k.length?k:this;for(var R=0;R<M.length;R++)this.words[R]=this.words[R]&k.words[R];return this.length=M.length,this.strip()},c.prototype.iand=function(k){return a((this.negative|k.negative)==0),this.iuand(k)},c.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},c.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},c.prototype.iuxor=function(k){var M,R;this.length>k.length?(M=this,R=k):(M=k,R=this);for(var y=0;y<R.length;y++)this.words[y]=M.words[y]^R.words[y];if(this!==M)for(;y<M.length;y++)this.words[y]=M.words[y];return this.length=M.length,this.strip()},c.prototype.ixor=function(k){return a((this.negative|k.negative)==0),this.iuxor(k)},c.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},c.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},c.prototype.inotn=function(k){a(typeof k=="number"&&k>=0);var M=0|Math.ceil(k/26),R=k%26;this._expand(M),R>0&&M--;for(var y=0;y<M;y++)this.words[y]=67108863&~this.words[y];return R>0&&(this.words[y]=~this.words[y]&67108863>>26-R),this.strip()},c.prototype.notn=function(k){return this.clone().inotn(k)},c.prototype.setn=function(k,M){a(typeof k=="number"&&k>=0);var R=k/26|0,y=k%26;return this._expand(R+1),this.words[R]=M?this.words[R]|1<<y:this.words[R]&~(1<<y),this.strip()},c.prototype.iadd=function(k){var M,R,y;if(this.negative!==0&&k.negative===0)return this.negative=0,M=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,M=this.isub(k),k.negative=1,M._normSign();this.length>k.length?(R=this,y=k):(R=k,y=this);for(var S=0,C=0;C<y.length;C++)M=(0|R.words[C])+(0|y.words[C])+S,this.words[C]=67108863&M,S=M>>>26;for(;S!==0&&C<R.length;C++)M=(0|R.words[C])+S,this.words[C]=67108863&M,S=M>>>26;if(this.length=R.length,S!==0)this.words[this.length]=S,this.length++;else if(R!==this)for(;C<R.length;C++)this.words[C]=R.words[C];return this},c.prototype.add=function(k){var M;return k.negative!==0&&this.negative===0?(k.negative=0,M=this.sub(k),k.negative^=1,M):k.negative===0&&this.negative!==0?(this.negative=0,M=k.sub(this),this.negative=1,M):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},c.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var M=this.iadd(k);return k.negative=1,M._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var R,y,S=this.cmp(k);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(R=this,y=k):(R=k,y=this);for(var C=0,x=0;x<y.length;x++)C=(M=(0|R.words[x])-(0|y.words[x])+C)>>26,this.words[x]=67108863&M;for(;C!==0&&x<R.length;x++)C=(M=(0|R.words[x])+C)>>26,this.words[x]=67108863&M;if(C===0&&x<R.length&&R!==this)for(;x<R.length;x++)this.words[x]=R.words[x];return this.length=Math.max(this.length,x),R!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(k){return this.clone().isub(k)};var v=function(k,M,R){var y,S,C,x=k.words,F=M.words,O=R.words,N=0,j=0|x[0],W=8191&j,q=j>>>13,V=0|x[1],$=8191&V,I=V>>>13,_=0|x[2],z=8191&_,K=_>>>13,Q=0|x[3],X=8191&Q,Z=Q>>>13,ne=0|x[4],ie=8191&ne,Y=ne>>>13,te=0|x[5],re=8191&te,ae=te>>>13,oe=0|x[6],le=8191&oe,he=oe>>>13,pe=0|x[7],be=8191&pe,_e=pe>>>13,Pe=0|x[8],ve=8191&Pe,Ie=Pe>>>13,Ve=0|x[9],je=8191&Ve,$e=Ve>>>13,Ae=0|F[0],xe=8191&Ae,De=Ae>>>13,Ge=0|F[1],Oe=8191&Ge,ut=Ge>>>13,Ct=0|F[2],Ke=8191&Ct,vt=Ct>>>13,ct=0|F[3],rt=8191&ct,At=ct>>>13,wt=0|F[4],Ze=8191&wt,pt=wt>>>13,Ft=0|F[5],Qe=8191&Ft,yt=Ft>>>13,Pt=0|F[6],it=8191&Pt,se=Pt>>>13,ce=0|F[7],ge=8191&ce,ke=ce>>>13,qe=0|F[8],Te=8191&qe,Je=qe>>>13,Xe=0|F[9],We=8191&Xe,nt=Xe>>>13;R.negative=k.negative^M.negative,R.length=19;var tt=(N+(y=Math.imul(W,xe))|0)+((8191&(S=(S=Math.imul(W,De))+Math.imul(q,xe)|0))<<13)|0;N=((C=Math.imul(q,De))+(S>>>13)|0)+(tt>>>26)|0,tt&=67108863,y=Math.imul($,xe),S=(S=Math.imul($,De))+Math.imul(I,xe)|0,C=Math.imul(I,De);var ot=(N+(y=y+Math.imul(W,Oe)|0)|0)+((8191&(S=(S=S+Math.imul(W,ut)|0)+Math.imul(q,Oe)|0))<<13)|0;N=((C=C+Math.imul(q,ut)|0)+(S>>>13)|0)+(ot>>>26)|0,ot&=67108863,y=Math.imul(z,xe),S=(S=Math.imul(z,De))+Math.imul(K,xe)|0,C=Math.imul(K,De),y=y+Math.imul($,Oe)|0,S=(S=S+Math.imul($,ut)|0)+Math.imul(I,Oe)|0,C=C+Math.imul(I,ut)|0;var qt=(N+(y=y+Math.imul(W,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(W,vt)|0)+Math.imul(q,Ke)|0))<<13)|0;N=((C=C+Math.imul(q,vt)|0)+(S>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,xe),S=(S=Math.imul(X,De))+Math.imul(Z,xe)|0,C=Math.imul(Z,De),y=y+Math.imul(z,Oe)|0,S=(S=S+Math.imul(z,ut)|0)+Math.imul(K,Oe)|0,C=C+Math.imul(K,ut)|0,y=y+Math.imul($,Ke)|0,S=(S=S+Math.imul($,vt)|0)+Math.imul(I,Ke)|0,C=C+Math.imul(I,vt)|0;var Ot=(N+(y=y+Math.imul(W,rt)|0)|0)+((8191&(S=(S=S+Math.imul(W,At)|0)+Math.imul(q,rt)|0))<<13)|0;N=((C=C+Math.imul(q,At)|0)+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(ie,xe),S=(S=Math.imul(ie,De))+Math.imul(Y,xe)|0,C=Math.imul(Y,De),y=y+Math.imul(X,Oe)|0,S=(S=S+Math.imul(X,ut)|0)+Math.imul(Z,Oe)|0,C=C+Math.imul(Z,ut)|0,y=y+Math.imul(z,Ke)|0,S=(S=S+Math.imul(z,vt)|0)+Math.imul(K,Ke)|0,C=C+Math.imul(K,vt)|0,y=y+Math.imul($,rt)|0,S=(S=S+Math.imul($,At)|0)+Math.imul(I,rt)|0,C=C+Math.imul(I,At)|0;var rr=(N+(y=y+Math.imul(W,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(W,pt)|0)+Math.imul(q,Ze)|0))<<13)|0;N=((C=C+Math.imul(q,pt)|0)+(S>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(re,xe),S=(S=Math.imul(re,De))+Math.imul(ae,xe)|0,C=Math.imul(ae,De),y=y+Math.imul(ie,Oe)|0,S=(S=S+Math.imul(ie,ut)|0)+Math.imul(Y,Oe)|0,C=C+Math.imul(Y,ut)|0,y=y+Math.imul(X,Ke)|0,S=(S=S+Math.imul(X,vt)|0)+Math.imul(Z,Ke)|0,C=C+Math.imul(Z,vt)|0,y=y+Math.imul(z,rt)|0,S=(S=S+Math.imul(z,At)|0)+Math.imul(K,rt)|0,C=C+Math.imul(K,At)|0,y=y+Math.imul($,Ze)|0,S=(S=S+Math.imul($,pt)|0)+Math.imul(I,Ze)|0,C=C+Math.imul(I,pt)|0;var nr=(N+(y=y+Math.imul(W,Qe)|0)|0)+((8191&(S=(S=S+Math.imul(W,yt)|0)+Math.imul(q,Qe)|0))<<13)|0;N=((C=C+Math.imul(q,yt)|0)+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863,y=Math.imul(le,xe),S=(S=Math.imul(le,De))+Math.imul(he,xe)|0,C=Math.imul(he,De),y=y+Math.imul(re,Oe)|0,S=(S=S+Math.imul(re,ut)|0)+Math.imul(ae,Oe)|0,C=C+Math.imul(ae,ut)|0,y=y+Math.imul(ie,Ke)|0,S=(S=S+Math.imul(ie,vt)|0)+Math.imul(Y,Ke)|0,C=C+Math.imul(Y,vt)|0,y=y+Math.imul(X,rt)|0,S=(S=S+Math.imul(X,At)|0)+Math.imul(Z,rt)|0,C=C+Math.imul(Z,At)|0,y=y+Math.imul(z,Ze)|0,S=(S=S+Math.imul(z,pt)|0)+Math.imul(K,Ze)|0,C=C+Math.imul(K,pt)|0,y=y+Math.imul($,Qe)|0,S=(S=S+Math.imul($,yt)|0)+Math.imul(I,Qe)|0,C=C+Math.imul(I,yt)|0;var Or=(N+(y=y+Math.imul(W,it)|0)|0)+((8191&(S=(S=S+Math.imul(W,se)|0)+Math.imul(q,it)|0))<<13)|0;N=((C=C+Math.imul(q,se)|0)+(S>>>13)|0)+(Or>>>26)|0,Or&=67108863,y=Math.imul(be,xe),S=(S=Math.imul(be,De))+Math.imul(_e,xe)|0,C=Math.imul(_e,De),y=y+Math.imul(le,Oe)|0,S=(S=S+Math.imul(le,ut)|0)+Math.imul(he,Oe)|0,C=C+Math.imul(he,ut)|0,y=y+Math.imul(re,Ke)|0,S=(S=S+Math.imul(re,vt)|0)+Math.imul(ae,Ke)|0,C=C+Math.imul(ae,vt)|0,y=y+Math.imul(ie,rt)|0,S=(S=S+Math.imul(ie,At)|0)+Math.imul(Y,rt)|0,C=C+Math.imul(Y,At)|0,y=y+Math.imul(X,Ze)|0,S=(S=S+Math.imul(X,pt)|0)+Math.imul(Z,Ze)|0,C=C+Math.imul(Z,pt)|0,y=y+Math.imul(z,Qe)|0,S=(S=S+Math.imul(z,yt)|0)+Math.imul(K,Qe)|0,C=C+Math.imul(K,yt)|0,y=y+Math.imul($,it)|0,S=(S=S+Math.imul($,se)|0)+Math.imul(I,it)|0,C=C+Math.imul(I,se)|0;var ee=(N+(y=y+Math.imul(W,ge)|0)|0)+((8191&(S=(S=S+Math.imul(W,ke)|0)+Math.imul(q,ge)|0))<<13)|0;N=((C=C+Math.imul(q,ke)|0)+(S>>>13)|0)+(ee>>>26)|0,ee&=67108863,y=Math.imul(ve,xe),S=(S=Math.imul(ve,De))+Math.imul(Ie,xe)|0,C=Math.imul(Ie,De),y=y+Math.imul(be,Oe)|0,S=(S=S+Math.imul(be,ut)|0)+Math.imul(_e,Oe)|0,C=C+Math.imul(_e,ut)|0,y=y+Math.imul(le,Ke)|0,S=(S=S+Math.imul(le,vt)|0)+Math.imul(he,Ke)|0,C=C+Math.imul(he,vt)|0,y=y+Math.imul(re,rt)|0,S=(S=S+Math.imul(re,At)|0)+Math.imul(ae,rt)|0,C=C+Math.imul(ae,At)|0,y=y+Math.imul(ie,Ze)|0,S=(S=S+Math.imul(ie,pt)|0)+Math.imul(Y,Ze)|0,C=C+Math.imul(Y,pt)|0,y=y+Math.imul(X,Qe)|0,S=(S=S+Math.imul(X,yt)|0)+Math.imul(Z,Qe)|0,C=C+Math.imul(Z,yt)|0,y=y+Math.imul(z,it)|0,S=(S=S+Math.imul(z,se)|0)+Math.imul(K,it)|0,C=C+Math.imul(K,se)|0,y=y+Math.imul($,ge)|0,S=(S=S+Math.imul($,ke)|0)+Math.imul(I,ge)|0,C=C+Math.imul(I,ke)|0;var ue=(N+(y=y+Math.imul(W,Te)|0)|0)+((8191&(S=(S=S+Math.imul(W,Je)|0)+Math.imul(q,Te)|0))<<13)|0;N=((C=C+Math.imul(q,Je)|0)+(S>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(je,xe),S=(S=Math.imul(je,De))+Math.imul($e,xe)|0,C=Math.imul($e,De),y=y+Math.imul(ve,Oe)|0,S=(S=S+Math.imul(ve,ut)|0)+Math.imul(Ie,Oe)|0,C=C+Math.imul(Ie,ut)|0,y=y+Math.imul(be,Ke)|0,S=(S=S+Math.imul(be,vt)|0)+Math.imul(_e,Ke)|0,C=C+Math.imul(_e,vt)|0,y=y+Math.imul(le,rt)|0,S=(S=S+Math.imul(le,At)|0)+Math.imul(he,rt)|0,C=C+Math.imul(he,At)|0,y=y+Math.imul(re,Ze)|0,S=(S=S+Math.imul(re,pt)|0)+Math.imul(ae,Ze)|0,C=C+Math.imul(ae,pt)|0,y=y+Math.imul(ie,Qe)|0,S=(S=S+Math.imul(ie,yt)|0)+Math.imul(Y,Qe)|0,C=C+Math.imul(Y,yt)|0,y=y+Math.imul(X,it)|0,S=(S=S+Math.imul(X,se)|0)+Math.imul(Z,it)|0,C=C+Math.imul(Z,se)|0,y=y+Math.imul(z,ge)|0,S=(S=S+Math.imul(z,ke)|0)+Math.imul(K,ge)|0,C=C+Math.imul(K,ke)|0,y=y+Math.imul($,Te)|0,S=(S=S+Math.imul($,Je)|0)+Math.imul(I,Te)|0,C=C+Math.imul(I,Je)|0;var me=(N+(y=y+Math.imul(W,We)|0)|0)+((8191&(S=(S=S+Math.imul(W,nt)|0)+Math.imul(q,We)|0))<<13)|0;N=((C=C+Math.imul(q,nt)|0)+(S>>>13)|0)+(me>>>26)|0,me&=67108863,y=Math.imul(je,Oe),S=(S=Math.imul(je,ut))+Math.imul($e,Oe)|0,C=Math.imul($e,ut),y=y+Math.imul(ve,Ke)|0,S=(S=S+Math.imul(ve,vt)|0)+Math.imul(Ie,Ke)|0,C=C+Math.imul(Ie,vt)|0,y=y+Math.imul(be,rt)|0,S=(S=S+Math.imul(be,At)|0)+Math.imul(_e,rt)|0,C=C+Math.imul(_e,At)|0,y=y+Math.imul(le,Ze)|0,S=(S=S+Math.imul(le,pt)|0)+Math.imul(he,Ze)|0,C=C+Math.imul(he,pt)|0,y=y+Math.imul(re,Qe)|0,S=(S=S+Math.imul(re,yt)|0)+Math.imul(ae,Qe)|0,C=C+Math.imul(ae,yt)|0,y=y+Math.imul(ie,it)|0,S=(S=S+Math.imul(ie,se)|0)+Math.imul(Y,it)|0,C=C+Math.imul(Y,se)|0,y=y+Math.imul(X,ge)|0,S=(S=S+Math.imul(X,ke)|0)+Math.imul(Z,ge)|0,C=C+Math.imul(Z,ke)|0,y=y+Math.imul(z,Te)|0,S=(S=S+Math.imul(z,Je)|0)+Math.imul(K,Te)|0,C=C+Math.imul(K,Je)|0;var Ce=(N+(y=y+Math.imul($,We)|0)|0)+((8191&(S=(S=S+Math.imul($,nt)|0)+Math.imul(I,We)|0))<<13)|0;N=((C=C+Math.imul(I,nt)|0)+(S>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(je,Ke),S=(S=Math.imul(je,vt))+Math.imul($e,Ke)|0,C=Math.imul($e,vt),y=y+Math.imul(ve,rt)|0,S=(S=S+Math.imul(ve,At)|0)+Math.imul(Ie,rt)|0,C=C+Math.imul(Ie,At)|0,y=y+Math.imul(be,Ze)|0,S=(S=S+Math.imul(be,pt)|0)+Math.imul(_e,Ze)|0,C=C+Math.imul(_e,pt)|0,y=y+Math.imul(le,Qe)|0,S=(S=S+Math.imul(le,yt)|0)+Math.imul(he,Qe)|0,C=C+Math.imul(he,yt)|0,y=y+Math.imul(re,it)|0,S=(S=S+Math.imul(re,se)|0)+Math.imul(ae,it)|0,C=C+Math.imul(ae,se)|0,y=y+Math.imul(ie,ge)|0,S=(S=S+Math.imul(ie,ke)|0)+Math.imul(Y,ge)|0,C=C+Math.imul(Y,ke)|0,y=y+Math.imul(X,Te)|0,S=(S=S+Math.imul(X,Je)|0)+Math.imul(Z,Te)|0,C=C+Math.imul(Z,Je)|0;var He=(N+(y=y+Math.imul(z,We)|0)|0)+((8191&(S=(S=S+Math.imul(z,nt)|0)+Math.imul(K,We)|0))<<13)|0;N=((C=C+Math.imul(K,nt)|0)+(S>>>13)|0)+(He>>>26)|0,He&=67108863,y=Math.imul(je,rt),S=(S=Math.imul(je,At))+Math.imul($e,rt)|0,C=Math.imul($e,At),y=y+Math.imul(ve,Ze)|0,S=(S=S+Math.imul(ve,pt)|0)+Math.imul(Ie,Ze)|0,C=C+Math.imul(Ie,pt)|0,y=y+Math.imul(be,Qe)|0,S=(S=S+Math.imul(be,yt)|0)+Math.imul(_e,Qe)|0,C=C+Math.imul(_e,yt)|0,y=y+Math.imul(le,it)|0,S=(S=S+Math.imul(le,se)|0)+Math.imul(he,it)|0,C=C+Math.imul(he,se)|0,y=y+Math.imul(re,ge)|0,S=(S=S+Math.imul(re,ke)|0)+Math.imul(ae,ge)|0,C=C+Math.imul(ae,ke)|0,y=y+Math.imul(ie,Te)|0,S=(S=S+Math.imul(ie,Je)|0)+Math.imul(Y,Te)|0,C=C+Math.imul(Y,Je)|0;var Re=(N+(y=y+Math.imul(X,We)|0)|0)+((8191&(S=(S=S+Math.imul(X,nt)|0)+Math.imul(Z,We)|0))<<13)|0;N=((C=C+Math.imul(Z,nt)|0)+(S>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(je,Ze),S=(S=Math.imul(je,pt))+Math.imul($e,Ze)|0,C=Math.imul($e,pt),y=y+Math.imul(ve,Qe)|0,S=(S=S+Math.imul(ve,yt)|0)+Math.imul(Ie,Qe)|0,C=C+Math.imul(Ie,yt)|0,y=y+Math.imul(be,it)|0,S=(S=S+Math.imul(be,se)|0)+Math.imul(_e,it)|0,C=C+Math.imul(_e,se)|0,y=y+Math.imul(le,ge)|0,S=(S=S+Math.imul(le,ke)|0)+Math.imul(he,ge)|0,C=C+Math.imul(he,ke)|0,y=y+Math.imul(re,Te)|0,S=(S=S+Math.imul(re,Je)|0)+Math.imul(ae,Te)|0,C=C+Math.imul(ae,Je)|0;var Fe=(N+(y=y+Math.imul(ie,We)|0)|0)+((8191&(S=(S=S+Math.imul(ie,nt)|0)+Math.imul(Y,We)|0))<<13)|0;N=((C=C+Math.imul(Y,nt)|0)+(S>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,y=Math.imul(je,Qe),S=(S=Math.imul(je,yt))+Math.imul($e,Qe)|0,C=Math.imul($e,yt),y=y+Math.imul(ve,it)|0,S=(S=S+Math.imul(ve,se)|0)+Math.imul(Ie,it)|0,C=C+Math.imul(Ie,se)|0,y=y+Math.imul(be,ge)|0,S=(S=S+Math.imul(be,ke)|0)+Math.imul(_e,ge)|0,C=C+Math.imul(_e,ke)|0,y=y+Math.imul(le,Te)|0,S=(S=S+Math.imul(le,Je)|0)+Math.imul(he,Te)|0,C=C+Math.imul(he,Je)|0;var ht=(N+(y=y+Math.imul(re,We)|0)|0)+((8191&(S=(S=S+Math.imul(re,nt)|0)+Math.imul(ae,We)|0))<<13)|0;N=((C=C+Math.imul(ae,nt)|0)+(S>>>13)|0)+(ht>>>26)|0,ht&=67108863,y=Math.imul(je,it),S=(S=Math.imul(je,se))+Math.imul($e,it)|0,C=Math.imul($e,se),y=y+Math.imul(ve,ge)|0,S=(S=S+Math.imul(ve,ke)|0)+Math.imul(Ie,ge)|0,C=C+Math.imul(Ie,ke)|0,y=y+Math.imul(be,Te)|0,S=(S=S+Math.imul(be,Je)|0)+Math.imul(_e,Te)|0,C=C+Math.imul(_e,Je)|0;var st=(N+(y=y+Math.imul(le,We)|0)|0)+((8191&(S=(S=S+Math.imul(le,nt)|0)+Math.imul(he,We)|0))<<13)|0;N=((C=C+Math.imul(he,nt)|0)+(S>>>13)|0)+(st>>>26)|0,st&=67108863,y=Math.imul(je,ge),S=(S=Math.imul(je,ke))+Math.imul($e,ge)|0,C=Math.imul($e,ke),y=y+Math.imul(ve,Te)|0,S=(S=S+Math.imul(ve,Je)|0)+Math.imul(Ie,Te)|0,C=C+Math.imul(Ie,Je)|0;var at=(N+(y=y+Math.imul(be,We)|0)|0)+((8191&(S=(S=S+Math.imul(be,nt)|0)+Math.imul(_e,We)|0))<<13)|0;N=((C=C+Math.imul(_e,nt)|0)+(S>>>13)|0)+(at>>>26)|0,at&=67108863,y=Math.imul(je,Te),S=(S=Math.imul(je,Je))+Math.imul($e,Te)|0,C=Math.imul($e,Je);var Ye=(N+(y=y+Math.imul(ve,We)|0)|0)+((8191&(S=(S=S+Math.imul(ve,nt)|0)+Math.imul(Ie,We)|0))<<13)|0;N=((C=C+Math.imul(Ie,nt)|0)+(S>>>13)|0)+(Ye>>>26)|0,Ye&=67108863;var St=(N+(y=Math.imul(je,We))|0)+((8191&(S=(S=Math.imul(je,nt))+Math.imul($e,We)|0))<<13)|0;return N=((C=Math.imul($e,nt))+(S>>>13)|0)+(St>>>26)|0,St&=67108863,O[0]=tt,O[1]=ot,O[2]=qt,O[3]=Ot,O[4]=rr,O[5]=nr,O[6]=Or,O[7]=ee,O[8]=ue,O[9]=me,O[10]=Ce,O[11]=He,O[12]=Re,O[13]=Fe,O[14]=ht,O[15]=st,O[16]=at,O[17]=Ye,O[18]=St,N!==0&&(O[19]=N,R.length++),R};function b(k,M,R){return new E().mulp(k,M,R)}function E(k,M){this.x=k,this.y=M}Math.imul||(v=w),c.prototype.mulTo=function(k,M){var R=this.length+k.length;return this.length===10&&k.length===10?v(this,k,M):R<63?w(this,k,M):R<1024?function(y,S,C){C.negative=S.negative^y.negative,C.length=y.length+S.length;for(var x=0,F=0,O=0;O<C.length-1;O++){var N=F;F=0;for(var j=67108863&x,W=Math.min(O,S.length-1),q=Math.max(0,O-y.length+1);q<=W;q++){var V=O-q,$=(0|y.words[V])*(0|S.words[q]),I=67108863&$;j=67108863&(I=I+j|0),F+=(N=(N=N+($/67108864|0)|0)+(I>>>26)|0)>>>26,N&=67108863}C.words[O]=j,x=N,N=F}return x!==0?C.words[O]=x:C.length--,C.strip()}(this,k,M):b(this,k,M)},E.prototype.makeRBT=function(k){for(var M=new Array(k),R=c.prototype._countBits(k)-1,y=0;y<k;y++)M[y]=this.revBin(y,R,k);return M},E.prototype.revBin=function(k,M,R){if(k===0||k===R-1)return k;for(var y=0,S=0;S<M;S++)y|=(1&k)<<M-S-1,k>>=1;return y},E.prototype.permute=function(k,M,R,y,S,C){for(var x=0;x<C;x++)y[x]=M[k[x]],S[x]=R[k[x]]},E.prototype.transform=function(k,M,R,y,S,C){this.permute(C,k,M,R,y,S);for(var x=1;x<S;x<<=1)for(var F=x<<1,O=Math.cos(2*Math.PI/F),N=Math.sin(2*Math.PI/F),j=0;j<S;j+=F)for(var W=O,q=N,V=0;V<x;V++){var $=R[j+V],I=y[j+V],_=R[j+V+x],z=y[j+V+x],K=W*_-q*z;z=W*z+q*_,_=K,R[j+V]=$+_,y[j+V]=I+z,R[j+V+x]=$-_,y[j+V+x]=I-z,V!==F&&(K=O*W-N*q,q=O*q+N*W,W=K)}},E.prototype.guessLen13b=function(k,M){var R=1|Math.max(M,k),y=1&R,S=0;for(R=R/2|0;R;R>>>=1)S++;return 1<<S+1+y},E.prototype.conjugate=function(k,M,R){if(!(R<=1))for(var y=0;y<R/2;y++){var S=k[y];k[y]=k[R-y-1],k[R-y-1]=S,S=M[y],M[y]=-M[R-y-1],M[R-y-1]=-S}},E.prototype.normalize13b=function(k,M){for(var R=0,y=0;y<M/2;y++){var S=8192*Math.round(k[2*y+1]/M)+Math.round(k[2*y]/M)+R;k[y]=67108863&S,R=S<67108864?0:S/67108864|0}return k},E.prototype.convert13b=function(k,M,R,y){for(var S=0,C=0;C<M;C++)S+=0|k[C],R[2*C]=8191&S,S>>>=13,R[2*C+1]=8191&S,S>>>=13;for(C=2*M;C<y;++C)R[C]=0;a(S===0),a((-8192&S)==0)},E.prototype.stub=function(k){for(var M=new Array(k),R=0;R<k;R++)M[R]=0;return M},E.prototype.mulp=function(k,M,R){var y=2*this.guessLen13b(k.length,M.length),S=this.makeRBT(y),C=this.stub(y),x=new Array(y),F=new Array(y),O=new Array(y),N=new Array(y),j=new Array(y),W=new Array(y),q=R.words;q.length=y,this.convert13b(k.words,k.length,x,y),this.convert13b(M.words,M.length,N,y),this.transform(x,C,F,O,y,S),this.transform(N,C,j,W,y,S);for(var V=0;V<y;V++){var $=F[V]*j[V]-O[V]*W[V];O[V]=F[V]*W[V]+O[V]*j[V],F[V]=$}return this.conjugate(F,O,y),this.transform(F,O,q,C,y,S),this.conjugate(q,C,y),this.normalize13b(q,y),R.negative=k.negative^M.negative,R.length=k.length+M.length,R.strip()},c.prototype.mul=function(k){var M=new c(null);return M.words=new Array(this.length+k.length),this.mulTo(k,M)},c.prototype.mulf=function(k){var M=new c(null);return M.words=new Array(this.length+k.length),b(this,k,M)},c.prototype.imul=function(k){return this.clone().mulTo(k,this)},c.prototype.imuln=function(k){a(typeof k=="number"),a(k<67108864);for(var M=0,R=0;R<this.length;R++){var y=(0|this.words[R])*k,S=(67108863&y)+(67108863&M);M>>=26,M+=y/67108864|0,M+=S>>>26,this.words[R]=67108863&S}return M!==0&&(this.words[R]=M,this.length++),this},c.prototype.muln=function(k){return this.clone().imuln(k)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(k){var M=function(C){for(var x=new Array(C.bitLength()),F=0;F<x.length;F++){var O=F/26|0,N=F%26;x[F]=(C.words[O]&1<<N)>>>N}return x}(k);if(M.length===0)return new c(1);for(var R=this,y=0;y<M.length&&M[y]===0;y++,R=R.sqr());if(++y<M.length)for(var S=R.sqr();y<M.length;y++,S=S.sqr())M[y]!==0&&(R=R.mul(S));return R},c.prototype.iushln=function(k){a(typeof k=="number"&&k>=0);var M,R=k%26,y=(k-R)/26,S=67108863>>>26-R<<26-R;if(R!==0){var C=0;for(M=0;M<this.length;M++){var x=this.words[M]&S,F=(0|this.words[M])-x<<R;this.words[M]=F|C,C=x>>>26-R}C&&(this.words[M]=C,this.length++)}if(y!==0){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},c.prototype.ishln=function(k){return a(this.negative===0),this.iushln(k)},c.prototype.iushrn=function(k,M,R){var y;a(typeof k=="number"&&k>=0),y=M?(M-M%26)/26:0;var S=k%26,C=Math.min((k-S)/26,this.length),x=67108863^67108863>>>S<<S,F=R;if(y-=C,y=Math.max(0,y),F){for(var O=0;O<C;O++)F.words[O]=this.words[O];F.length=C}if(C!==0)if(this.length>C)for(this.length-=C,O=0;O<this.length;O++)this.words[O]=this.words[O+C];else this.words[0]=0,this.length=1;var N=0;for(O=this.length-1;O>=0&&(N!==0||O>=y);O--){var j=0|this.words[O];this.words[O]=N<<26-S|j>>>S,N=j&x}return F&&N!==0&&(F.words[F.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(k,M,R){return a(this.negative===0),this.iushrn(k,M,R)},c.prototype.shln=function(k){return this.clone().ishln(k)},c.prototype.ushln=function(k){return this.clone().iushln(k)},c.prototype.shrn=function(k){return this.clone().ishrn(k)},c.prototype.ushrn=function(k){return this.clone().iushrn(k)},c.prototype.testn=function(k){a(typeof k=="number"&&k>=0);var M=k%26,R=(k-M)/26,y=1<<M;return!(this.length<=R)&&!!(this.words[R]&y)},c.prototype.imaskn=function(k){a(typeof k=="number"&&k>=0);var M=k%26,R=(k-M)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(M!==0&&R++,this.length=Math.min(R,this.length),M!==0){var y=67108863^67108863>>>M<<M;this.words[this.length-1]&=y}return this.strip()},c.prototype.maskn=function(k){return this.clone().imaskn(k)},c.prototype.iaddn=function(k){return a(typeof k=="number"),a(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},c.prototype._iaddn=function(k){this.words[0]+=k;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},c.prototype.isubn=function(k){if(a(typeof k=="number"),a(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},c.prototype.addn=function(k){return this.clone().iaddn(k)},c.prototype.subn=function(k){return this.clone().isubn(k)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(k,M,R){var y,S,C=k.length+R;this._expand(C);var x=0;for(y=0;y<k.length;y++){S=(0|this.words[y+R])+x;var F=(0|k.words[y])*M;x=((S-=67108863&F)>>26)-(F/67108864|0),this.words[y+R]=67108863&S}for(;y<this.length-R;y++)x=(S=(0|this.words[y+R])+x)>>26,this.words[y+R]=67108863&S;if(x===0)return this.strip();for(a(x===-1),x=0,y=0;y<this.length;y++)x=(S=-(0|this.words[y])+x)>>26,this.words[y]=67108863&S;return this.negative=1,this.strip()},c.prototype._wordDiv=function(k,M){var R=(this.length,k.length),y=this.clone(),S=k,C=0|S.words[S.length-1];(R=26-this._countBits(C))!==0&&(S=S.ushln(R),y.iushln(R),C=0|S.words[S.length-1]);var x,F=y.length-S.length;if(M!=="mod"){(x=new c(null)).length=F+1,x.words=new Array(x.length);for(var O=0;O<x.length;O++)x.words[O]=0}var N=y.clone()._ishlnsubmul(S,1,F);N.negative===0&&(y=N,x&&(x.words[F]=1));for(var j=F-1;j>=0;j--){var W=67108864*(0|y.words[S.length+j])+(0|y.words[S.length+j-1]);for(W=Math.min(W/C|0,67108863),y._ishlnsubmul(S,W,j);y.negative!==0;)W--,y.negative=0,y._ishlnsubmul(S,1,j),y.isZero()||(y.negative^=1);x&&(x.words[j]=W)}return x&&x.strip(),y.strip(),M!=="div"&&R!==0&&y.iushrn(R),{div:x||null,mod:y}},c.prototype.divmod=function(k,M,R){return a(!k.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&k.negative===0?(C=this.neg().divmod(k,M),M!=="mod"&&(y=C.div.neg()),M!=="div"&&(S=C.mod.neg(),R&&S.negative!==0&&S.iadd(k)),{div:y,mod:S}):this.negative===0&&k.negative!==0?(C=this.divmod(k.neg(),M),M!=="mod"&&(y=C.div.neg()),{div:y,mod:C.mod}):this.negative&k.negative?(C=this.neg().divmod(k.neg(),M),M!=="div"&&(S=C.mod.neg(),R&&S.negative!==0&&S.isub(k)),{div:C.div,mod:S}):k.length>this.length||this.cmp(k)<0?{div:new c(0),mod:this}:k.length===1?M==="div"?{div:this.divn(k.words[0]),mod:null}:M==="mod"?{div:null,mod:new c(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new c(this.modn(k.words[0]))}:this._wordDiv(k,M);var y,S,C},c.prototype.div=function(k){return this.divmod(k,"div",!1).div},c.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},c.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},c.prototype.divRound=function(k){var M=this.divmod(k);if(M.mod.isZero())return M.div;var R=M.div.negative!==0?M.mod.isub(k):M.mod,y=k.ushrn(1),S=k.andln(1),C=R.cmp(y);return C<0||S===1&&C===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},c.prototype.modn=function(k){a(k<=67108863);for(var M=(1<<26)%k,R=0,y=this.length-1;y>=0;y--)R=(M*R+(0|this.words[y]))%k;return R},c.prototype.idivn=function(k){a(k<=67108863);for(var M=0,R=this.length-1;R>=0;R--){var y=(0|this.words[R])+67108864*M;this.words[R]=y/k|0,M=y%k}return this.strip()},c.prototype.divn=function(k){return this.clone().idivn(k)},c.prototype.egcd=function(k){a(k.negative===0),a(!k.isZero());var M=this,R=k.clone();M=M.negative!==0?M.umod(k):M.clone();for(var y=new c(1),S=new c(0),C=new c(0),x=new c(1),F=0;M.isEven()&&R.isEven();)M.iushrn(1),R.iushrn(1),++F;for(var O=R.clone(),N=M.clone();!M.isZero();){for(var j=0,W=1;!(M.words[0]&W)&&j<26;++j,W<<=1);if(j>0)for(M.iushrn(j);j-- >0;)(y.isOdd()||S.isOdd())&&(y.iadd(O),S.isub(N)),y.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(R.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(R.iushrn(q);q-- >0;)(C.isOdd()||x.isOdd())&&(C.iadd(O),x.isub(N)),C.iushrn(1),x.iushrn(1);M.cmp(R)>=0?(M.isub(R),y.isub(C),S.isub(x)):(R.isub(M),C.isub(y),x.isub(S))}return{a:C,b:x,gcd:R.iushln(F)}},c.prototype._invmp=function(k){a(k.negative===0),a(!k.isZero());var M=this,R=k.clone();M=M.negative!==0?M.umod(k):M.clone();for(var y,S=new c(1),C=new c(0),x=R.clone();M.cmpn(1)>0&&R.cmpn(1)>0;){for(var F=0,O=1;!(M.words[0]&O)&&F<26;++F,O<<=1);if(F>0)for(M.iushrn(F);F-- >0;)S.isOdd()&&S.iadd(x),S.iushrn(1);for(var N=0,j=1;!(R.words[0]&j)&&N<26;++N,j<<=1);if(N>0)for(R.iushrn(N);N-- >0;)C.isOdd()&&C.iadd(x),C.iushrn(1);M.cmp(R)>=0?(M.isub(R),S.isub(C)):(R.isub(M),C.isub(S))}return(y=M.cmpn(1)===0?S:C).cmpn(0)<0&&y.iadd(k),y},c.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var M=this.clone(),R=k.clone();M.negative=0,R.negative=0;for(var y=0;M.isEven()&&R.isEven();y++)M.iushrn(1),R.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;R.isEven();)R.iushrn(1);var S=M.cmp(R);if(S<0){var C=M;M=R,R=C}else if(S===0||R.cmpn(1)===0)break;M.isub(R)}return R.iushln(y)},c.prototype.invm=function(k){return this.egcd(k).a.umod(k)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(k){return this.words[0]&k},c.prototype.bincn=function(k){a(typeof k=="number");var M=k%26,R=(k-M)/26,y=1<<M;if(this.length<=R)return this._expand(R+1),this.words[R]|=y,this;for(var S=y,C=R;S!==0&&C<this.length;C++){var x=0|this.words[C];S=(x+=S)>>>26,x&=67108863,this.words[C]=x}return S!==0&&(this.words[C]=S,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(k){var M,R=k<0;if(this.negative!==0&&!R)return-1;if(this.negative===0&&R)return 1;if(this.strip(),this.length>1)M=1;else{R&&(k=-k),a(k<=67108863,"Number is too big");var y=0|this.words[0];M=y===k?0:y<k?-1:1}return this.negative!==0?0|-M:M},c.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var M=this.ucmp(k);return this.negative!==0?0|-M:M},c.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var M=0,R=this.length-1;R>=0;R--){var y=0|this.words[R],S=0|k.words[R];if(y!==S){y<S?M=-1:y>S&&(M=1);break}}return M},c.prototype.gtn=function(k){return this.cmpn(k)===1},c.prototype.gt=function(k){return this.cmp(k)===1},c.prototype.gten=function(k){return this.cmpn(k)>=0},c.prototype.gte=function(k){return this.cmp(k)>=0},c.prototype.ltn=function(k){return this.cmpn(k)===-1},c.prototype.lt=function(k){return this.cmp(k)===-1},c.prototype.lten=function(k){return this.cmpn(k)<=0},c.prototype.lte=function(k){return this.cmp(k)<=0},c.prototype.eqn=function(k){return this.cmpn(k)===0},c.prototype.eq=function(k){return this.cmp(k)===0},c.red=function(k){return new G(k)},c.prototype.toRed=function(k){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(k){return this.red=k,this},c.prototype.forceRed=function(k){return a(!this.red,"Already a number in reduction context"),this._forceRed(k)},c.prototype.redAdd=function(k){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},c.prototype.redIAdd=function(k){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},c.prototype.redSub=function(k){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},c.prototype.redISub=function(k){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},c.prototype.redShl=function(k){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},c.prototype.redMul=function(k){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},c.prototype.redIMul=function(k){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(k){return a(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var P={k256:null,p224:null,p192:null,p25519:null};function A(k,M){this.name=k,this.p=new c(M,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function T(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(k){if(typeof k=="string"){var M=c._prime(k);this.m=M.p,this.prime=M}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function D(k){G.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var k=new c(null);return k.words=new Array(Math.ceil(this.n/13)),k},A.prototype.ireduce=function(k){var M,R=k;do this.split(R,this.tmp),M=(R=(R=this.imulK(R)).iadd(this.tmp)).bitLength();while(M>this.n);var y=M<this.n?-1:R.ucmp(this.p);return y===0?(R.words[0]=0,R.length=1):y>0?R.isub(this.p):R.strip!==void 0?R.strip():R._strip(),R},A.prototype.split=function(k,M){k.iushrn(this.n,0,M)},A.prototype.imulK=function(k){return k.imul(this.k)},l(L,A),L.prototype.split=function(k,M){for(var R=Math.min(k.length,9),y=0;y<R;y++)M.words[y]=k.words[y];if(M.length=R,k.length<=9)return k.words[0]=0,void(k.length=1);var S=k.words[9];for(M.words[M.length++]=4194303&S,y=10;y<k.length;y++){var C=0|k.words[y];k.words[y-10]=(4194303&C)<<4|S>>>22,S=C}S>>>=22,k.words[y-10]=S,S===0&&k.length>10?k.length-=10:k.length-=9},L.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var M=0,R=0;R<k.length;R++){var y=0|k.words[R];M+=977*y,k.words[R]=67108863&M,M=64*y+(M/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},l(T,A),l(B,A),l(H,A),H.prototype.imulK=function(k){for(var M=0,R=0;R<k.length;R++){var y=19*(0|k.words[R])+M,S=67108863&y;y>>>=26,k.words[R]=S,M=y}return M!==0&&(k.words[k.length++]=M),k},c._prime=function(k){if(P[k])return P[k];var M;if(k==="k256")M=new L;else if(k==="p224")M=new T;else if(k==="p192")M=new B;else{if(k!=="p25519")throw new Error("Unknown prime "+k);M=new H}return P[k]=M,M},G.prototype._verify1=function(k){a(k.negative===0,"red works only with positives"),a(k.red,"red works only with red numbers")},G.prototype._verify2=function(k,M){a((k.negative|M.negative)==0,"red works only with positives"),a(k.red&&k.red===M.red,"red works only with red numbers")},G.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},G.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},G.prototype.add=function(k,M){this._verify2(k,M);var R=k.add(M);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},G.prototype.iadd=function(k,M){this._verify2(k,M);var R=k.iadd(M);return R.cmp(this.m)>=0&&R.isub(this.m),R},G.prototype.sub=function(k,M){this._verify2(k,M);var R=k.sub(M);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},G.prototype.isub=function(k,M){this._verify2(k,M);var R=k.isub(M);return R.cmpn(0)<0&&R.iadd(this.m),R},G.prototype.shl=function(k,M){return this._verify1(k),this.imod(k.ushln(M))},G.prototype.imul=function(k,M){return this._verify2(k,M),this.imod(k.imul(M))},G.prototype.mul=function(k,M){return this._verify2(k,M),this.imod(k.mul(M))},G.prototype.isqr=function(k){return this.imul(k,k.clone())},G.prototype.sqr=function(k){return this.mul(k,k)},G.prototype.sqrt=function(k){if(k.isZero())return k.clone();var M=this.m.andln(3);if(a(M%2==1),M===3){var R=this.m.add(new c(1)).iushrn(2);return this.pow(k,R)}for(var y=this.m.subn(1),S=0;!y.isZero()&&y.andln(1)===0;)S++,y.iushrn(1);a(!y.isZero());var C=new c(1).toRed(this),x=C.redNeg(),F=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new c(2*O*O).toRed(this);this.pow(O,F).cmp(x)!==0;)O.redIAdd(x);for(var N=this.pow(O,y),j=this.pow(k,y.addn(1).iushrn(1)),W=this.pow(k,y),q=S;W.cmp(C)!==0;){for(var V=W,$=0;V.cmp(C)!==0;$++)V=V.redSqr();a($<q);var I=this.pow(N,new c(1).iushln(q-$-1));j=j.redMul(I),N=I.redSqr(),W=W.redMul(N),q=$}return j},G.prototype.invm=function(k){var M=k._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},G.prototype.pow=function(k,M){if(M.isZero())return new c(1).toRed(this);if(M.cmpn(1)===0)return k.clone();var R=new Array(16);R[0]=new c(1).toRed(this),R[1]=k;for(var y=2;y<R.length;y++)R[y]=this.mul(R[y-1],k);var S=R[0],C=0,x=0,F=M.bitLength()%26;for(F===0&&(F=26),y=M.length-1;y>=0;y--){for(var O=M.words[y],N=F-1;N>=0;N--){var j=O>>N&1;S!==R[0]&&(S=this.sqr(S)),j!==0||C!==0?(C<<=1,C|=j,(++x===4||y===0&&N===0)&&(S=this.mul(S,R[C]),x=0,C=0)):x=0}F=26}return S},G.prototype.convertTo=function(k){var M=k.umod(this.m);return M===k?M.clone():M},G.prototype.convertFrom=function(k){var M=k.clone();return M.red=null,M},c.mont=function(k){return new D(k)},l(D,G),D.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},D.prototype.convertFrom=function(k){var M=this.imod(k.mul(this.rinv));return M.red=null,M},D.prototype.imul=function(k,M){if(k.isZero()||M.isZero())return k.words[0]=0,k.length=1,k;var R=k.imul(M),y=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=R.isub(y).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},D.prototype.mul=function(k,M){if(k.isZero()||M.isZero())return new c(0)._forceRed(this);var R=k.mul(M),y=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=R.isub(y).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},D.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,i){i.byteLength=function(f){var p=h(f),m=p[0],g=p[1];return 3*(m+g)/4-g},i.toByteArray=function(f){var p,m,g=h(f),w=g[0],v=g[1],b=new a(function(A,L,T){return 3*(L+T)/4-T}(0,w,v)),E=0,P=v>0?w-4:w;for(m=0;m<P;m+=4)p=o[f.charCodeAt(m)]<<18|o[f.charCodeAt(m+1)]<<12|o[f.charCodeAt(m+2)]<<6|o[f.charCodeAt(m+3)],b[E++]=p>>16&255,b[E++]=p>>8&255,b[E++]=255&p;return v===2&&(p=o[f.charCodeAt(m)]<<2|o[f.charCodeAt(m+1)]>>4,b[E++]=255&p),v===1&&(p=o[f.charCodeAt(m)]<<10|o[f.charCodeAt(m+1)]<<4|o[f.charCodeAt(m+2)]>>2,b[E++]=p>>8&255,b[E++]=255&p),b},i.fromByteArray=function(f){for(var p,m=f.length,g=m%3,w=[],v=0,b=m-g;v<b;v+=16383)w.push(d(f,v,v+16383>b?b:v+16383));return g===1?(p=f[m-1],w.push(s[p>>2]+s[p<<4&63]+"==")):g===2&&(p=(f[m-2]<<8)+f[m-1],w.push(s[p>>10]+s[p>>4&63]+s[p<<2&63]+"=")),w.join("")};for(var s=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)s[c]=l[c],o[l.charCodeAt(c)]=c;function h(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");return m===-1&&(m=p),[m,m===p?0:4-m%4]}function d(f,p,m){for(var g,w,v=[],b=p;b<m;b+=3)g=(f[b]<<16&16711680)+(f[b+1]<<8&65280)+(255&f[b+2]),v.push(s[(w=g)>>18&63]+s[w>>12&63]+s[w>>6&63]+s[63&w]);return v.join("")}o[45]=62,o[95]=63},{}],186:[function(r,n,i){(function(s,o){function a(R,y){if(!R)throw new Error(y||"Assertion failed")}function l(R,y){R.super_=y;var S=function(){};S.prototype=y.prototype,R.prototype=new S,R.prototype.constructor=R}function c(R,y,S){if(c.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(y!=="le"&&y!=="be"||(S=y,y=10),this._init(R||0,y||10,S||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(R,y){var S=R.charCodeAt(y);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void a(!1,"Invalid character in "+R)}function d(R,y,S){var C=h(R,S);return S-1>=y&&(C|=h(R,S-1)<<4),C}function f(R,y,S,C){for(var x=0,F=0,O=Math.min(R.length,S),N=y;N<O;N++){var j=R.charCodeAt(N)-48;x*=C,F=j>=49?j-49+10:j>=17?j-17+10:j,a(j>=0&&F<C,"Invalid character"),x+=F}return x}function p(R,y){R.words=y.words,R.length=y.length,R.negative=y.negative,R.red=y.red}if(c.isBN=function(R){return R instanceof c||R!==null&&typeof R=="object"&&R.constructor.wordSize===c.wordSize&&Array.isArray(R.words)},c.max=function(R,y){return R.cmp(y)>0?R:y},c.min=function(R,y){return R.cmp(y)<0?R:y},c.prototype._init=function(R,y,S){if(typeof R=="number")return this._initNumber(R,y,S);if(typeof R=="object")return this._initArray(R,y,S);y==="hex"&&(y=16),a(y===(0|y)&&y>=2&&y<=36);var C=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<R.length&&(y===16?this._parseHex(R,C,S):(this._parseBase(R,y,C),S==="le"&&this._initArray(this.toArray(),y,S)))},c.prototype._initNumber=function(R,y,S){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(a(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),y,S)},c.prototype._initArray=function(R,y,S){if(a(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var x,F,O=0;if(S==="be")for(C=R.length-1,x=0;C>=0;C-=3)F=R[C]|R[C-1]<<8|R[C-2]<<16,this.words[x]|=F<<O&67108863,this.words[x+1]=F>>>26-O&67108863,(O+=24)>=26&&(O-=26,x++);else if(S==="le")for(C=0,x=0;C<R.length;C+=3)F=R[C]|R[C+1]<<8|R[C+2]<<16,this.words[x]|=F<<O&67108863,this.words[x+1]=F>>>26-O&67108863,(O+=24)>=26&&(O-=26,x++);return this._strip()},c.prototype._parseHex=function(R,y,S){this.length=Math.ceil((R.length-y)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var x,F=0,O=0;if(S==="be")for(C=R.length-1;C>=y;C-=2)x=d(R,y,C)<<F,this.words[O]|=67108863&x,F>=18?(F-=18,O+=1,this.words[O]|=x>>>26):F+=8;else for(C=(R.length-y)%2==0?y+1:y;C<R.length;C+=2)x=d(R,y,C)<<F,this.words[O]|=67108863&x,F>=18?(F-=18,O+=1,this.words[O]|=x>>>26):F+=8;this._strip()},c.prototype._parseBase=function(R,y,S){this.words=[0],this.length=1;for(var C=0,x=1;x<=67108863;x*=y)C++;C--,x=x/y|0;for(var F=R.length-S,O=F%C,N=Math.min(F,F-O)+S,j=0,W=S;W<N;W+=C)j=f(R,W,W+C,y),this.imuln(x),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(O!==0){var q=1;for(j=f(R,W,R.length,y),W=0;W<O;W++)q*=y;this.imuln(q),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this._strip()},c.prototype.copy=function(R){R.words=new Array(this.length);for(var y=0;y<this.length;y++)R.words[y]=this.words[y];R.length=this.length,R.negative=this.negative,R.red=this.red},c.prototype._move=function(R){p(R,this)},c.prototype.clone=function(){var R=new c(null);return this.copy(R),R},c.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{c.prototype.inspect=m}else c.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(R,y){var S;if(y=0|y||1,(R=R||10)===16||R==="hex"){S="";for(var C=0,x=0,F=0;F<this.length;F++){var O=this.words[F],N=(16777215&(O<<C|x)).toString(16);x=O>>>24-C&16777215,(C+=2)>=26&&(C-=26,F--),S=x!==0||F!==this.length-1?g[6-N.length]+N+S:N+S}for(x!==0&&(S=x.toString(16)+S);S.length%y!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(R===(0|R)&&R>=2&&R<=36){var j=w[R],W=v[R];S="";var q=this.clone();for(q.negative=0;!q.isZero();){var V=q.modrn(W).toString(R);S=(q=q.idivn(W)).isZero()?V+S:g[j-V.length]+V+S}for(this.isZero()&&(S="0"+S);S.length%y!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(R,y){return this.toArrayLike(u,R,y)}),c.prototype.toArray=function(R,y){return this.toArrayLike(Array,R,y)};function b(R,y,S){S.negative=y.negative^R.negative;var C=R.length+y.length|0;S.length=C,C=C-1|0;var x=0|R.words[0],F=0|y.words[0],O=x*F,N=67108863&O,j=O/67108864|0;S.words[0]=N;for(var W=1;W<C;W++){for(var q=j>>>26,V=67108863&j,$=Math.min(W,y.length-1),I=Math.max(0,W-R.length+1);I<=$;I++){var _=W-I|0;q+=(O=(x=0|R.words[_])*(F=0|y.words[I])+V)/67108864|0,V=67108863&O}S.words[W]=0|V,j=0|q}return j!==0?S.words[W]=0|j:S.length--,S._strip()}c.prototype.toArrayLike=function(R,y,S){this._strip();var C=this.byteLength(),x=S||Math.max(1,C);a(C<=x,"byte array longer than desired length"),a(x>0,"Requested array length <= 0");var F=function(O,N){return O.allocUnsafe?O.allocUnsafe(N):new O(N)}(R,x);return this["_toArrayLike"+(y==="le"?"LE":"BE")](F,C),F},c.prototype._toArrayLikeLE=function(R,y){for(var S=0,C=0,x=0,F=0;x<this.length;x++){var O=this.words[x]<<F|C;R[S++]=255&O,S<R.length&&(R[S++]=O>>8&255),S<R.length&&(R[S++]=O>>16&255),F===6?(S<R.length&&(R[S++]=O>>24&255),C=0,F=0):(C=O>>>24,F+=2)}if(S<R.length)for(R[S++]=C;S<R.length;)R[S++]=0},c.prototype._toArrayLikeBE=function(R,y){for(var S=R.length-1,C=0,x=0,F=0;x<this.length;x++){var O=this.words[x]<<F|C;R[S--]=255&O,S>=0&&(R[S--]=O>>8&255),S>=0&&(R[S--]=O>>16&255),F===6?(S>=0&&(R[S--]=O>>24&255),C=0,F=0):(C=O>>>24,F+=2)}if(S>=0)for(R[S--]=C;S>=0;)R[S--]=0},Math.clz32?c.prototype._countBits=function(R){return 32-Math.clz32(R)}:c.prototype._countBits=function(R){var y=R,S=0;return y>=4096&&(S+=13,y>>>=13),y>=64&&(S+=7,y>>>=7),y>=8&&(S+=4,y>>>=4),y>=2&&(S+=2,y>>>=2),S+y},c.prototype._zeroBits=function(R){if(R===0)return 26;var y=R,S=0;return!(8191&y)&&(S+=13,y>>>=13),!(127&y)&&(S+=7,y>>>=7),!(15&y)&&(S+=4,y>>>=4),!(3&y)&&(S+=2,y>>>=2),!(1&y)&&S++,S},c.prototype.bitLength=function(){var R=this.words[this.length-1],y=this._countBits(R);return 26*(this.length-1)+y},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,y=0;y<this.length;y++){var S=this._zeroBits(this.words[y]);if(R+=S,S!==26)break}return R},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},c.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var y=0;y<R.length;y++)this.words[y]=this.words[y]|R.words[y];return this._strip()},c.prototype.ior=function(R){return a((this.negative|R.negative)==0),this.iuor(R)},c.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},c.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},c.prototype.iuand=function(R){var y;y=this.length>R.length?R:this;for(var S=0;S<y.length;S++)this.words[S]=this.words[S]&R.words[S];return this.length=y.length,this._strip()},c.prototype.iand=function(R){return a((this.negative|R.negative)==0),this.iuand(R)},c.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},c.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},c.prototype.iuxor=function(R){var y,S;this.length>R.length?(y=this,S=R):(y=R,S=this);for(var C=0;C<S.length;C++)this.words[C]=y.words[C]^S.words[C];if(this!==y)for(;C<y.length;C++)this.words[C]=y.words[C];return this.length=y.length,this._strip()},c.prototype.ixor=function(R){return a((this.negative|R.negative)==0),this.iuxor(R)},c.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},c.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},c.prototype.inotn=function(R){a(typeof R=="number"&&R>=0);var y=0|Math.ceil(R/26),S=R%26;this._expand(y),S>0&&y--;for(var C=0;C<y;C++)this.words[C]=67108863&~this.words[C];return S>0&&(this.words[C]=~this.words[C]&67108863>>26-S),this._strip()},c.prototype.notn=function(R){return this.clone().inotn(R)},c.prototype.setn=function(R,y){a(typeof R=="number"&&R>=0);var S=R/26|0,C=R%26;return this._expand(S+1),this.words[S]=y?this.words[S]|1<<C:this.words[S]&~(1<<C),this._strip()},c.prototype.iadd=function(R){var y,S,C;if(this.negative!==0&&R.negative===0)return this.negative=0,y=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,y=this.isub(R),R.negative=1,y._normSign();this.length>R.length?(S=this,C=R):(S=R,C=this);for(var x=0,F=0;F<C.length;F++)y=(0|S.words[F])+(0|C.words[F])+x,this.words[F]=67108863&y,x=y>>>26;for(;x!==0&&F<S.length;F++)y=(0|S.words[F])+x,this.words[F]=67108863&y,x=y>>>26;if(this.length=S.length,x!==0)this.words[this.length]=x,this.length++;else if(S!==this)for(;F<S.length;F++)this.words[F]=S.words[F];return this},c.prototype.add=function(R){var y;return R.negative!==0&&this.negative===0?(R.negative=0,y=this.sub(R),R.negative^=1,y):R.negative===0&&this.negative!==0?(this.negative=0,y=R.sub(this),this.negative=1,y):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},c.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var y=this.iadd(R);return R.negative=1,y._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var S,C,x=this.cmp(R);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(S=this,C=R):(S=R,C=this);for(var F=0,O=0;O<C.length;O++)F=(y=(0|S.words[O])-(0|C.words[O])+F)>>26,this.words[O]=67108863&y;for(;F!==0&&O<S.length;O++)F=(y=(0|S.words[O])+F)>>26,this.words[O]=67108863&y;if(F===0&&O<S.length&&S!==this)for(;O<S.length;O++)this.words[O]=S.words[O];return this.length=Math.max(this.length,O),S!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(R){return this.clone().isub(R)};var E=function(R,y,S){var C,x,F,O=R.words,N=y.words,j=S.words,W=0,q=0|O[0],V=8191&q,$=q>>>13,I=0|O[1],_=8191&I,z=I>>>13,K=0|O[2],Q=8191&K,X=K>>>13,Z=0|O[3],ne=8191&Z,ie=Z>>>13,Y=0|O[4],te=8191&Y,re=Y>>>13,ae=0|O[5],oe=8191&ae,le=ae>>>13,he=0|O[6],pe=8191&he,be=he>>>13,_e=0|O[7],Pe=8191&_e,ve=_e>>>13,Ie=0|O[8],Ve=8191&Ie,je=Ie>>>13,$e=0|O[9],Ae=8191&$e,xe=$e>>>13,De=0|N[0],Ge=8191&De,Oe=De>>>13,ut=0|N[1],Ct=8191&ut,Ke=ut>>>13,vt=0|N[2],ct=8191&vt,rt=vt>>>13,At=0|N[3],wt=8191&At,Ze=At>>>13,pt=0|N[4],Ft=8191&pt,Qe=pt>>>13,yt=0|N[5],Pt=8191&yt,it=yt>>>13,se=0|N[6],ce=8191&se,ge=se>>>13,ke=0|N[7],qe=8191&ke,Te=ke>>>13,Je=0|N[8],Xe=8191&Je,We=Je>>>13,nt=0|N[9],tt=8191&nt,ot=nt>>>13;S.negative=R.negative^y.negative,S.length=19;var qt=(W+(C=Math.imul(V,Ge))|0)+((8191&(x=(x=Math.imul(V,Oe))+Math.imul($,Ge)|0))<<13)|0;W=((F=Math.imul($,Oe))+(x>>>13)|0)+(qt>>>26)|0,qt&=67108863,C=Math.imul(_,Ge),x=(x=Math.imul(_,Oe))+Math.imul(z,Ge)|0,F=Math.imul(z,Oe);var Ot=(W+(C=C+Math.imul(V,Ct)|0)|0)+((8191&(x=(x=x+Math.imul(V,Ke)|0)+Math.imul($,Ct)|0))<<13)|0;W=((F=F+Math.imul($,Ke)|0)+(x>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,C=Math.imul(Q,Ge),x=(x=Math.imul(Q,Oe))+Math.imul(X,Ge)|0,F=Math.imul(X,Oe),C=C+Math.imul(_,Ct)|0,x=(x=x+Math.imul(_,Ke)|0)+Math.imul(z,Ct)|0,F=F+Math.imul(z,Ke)|0;var rr=(W+(C=C+Math.imul(V,ct)|0)|0)+((8191&(x=(x=x+Math.imul(V,rt)|0)+Math.imul($,ct)|0))<<13)|0;W=((F=F+Math.imul($,rt)|0)+(x>>>13)|0)+(rr>>>26)|0,rr&=67108863,C=Math.imul(ne,Ge),x=(x=Math.imul(ne,Oe))+Math.imul(ie,Ge)|0,F=Math.imul(ie,Oe),C=C+Math.imul(Q,Ct)|0,x=(x=x+Math.imul(Q,Ke)|0)+Math.imul(X,Ct)|0,F=F+Math.imul(X,Ke)|0,C=C+Math.imul(_,ct)|0,x=(x=x+Math.imul(_,rt)|0)+Math.imul(z,ct)|0,F=F+Math.imul(z,rt)|0;var nr=(W+(C=C+Math.imul(V,wt)|0)|0)+((8191&(x=(x=x+Math.imul(V,Ze)|0)+Math.imul($,wt)|0))<<13)|0;W=((F=F+Math.imul($,Ze)|0)+(x>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(te,Ge),x=(x=Math.imul(te,Oe))+Math.imul(re,Ge)|0,F=Math.imul(re,Oe),C=C+Math.imul(ne,Ct)|0,x=(x=x+Math.imul(ne,Ke)|0)+Math.imul(ie,Ct)|0,F=F+Math.imul(ie,Ke)|0,C=C+Math.imul(Q,ct)|0,x=(x=x+Math.imul(Q,rt)|0)+Math.imul(X,ct)|0,F=F+Math.imul(X,rt)|0,C=C+Math.imul(_,wt)|0,x=(x=x+Math.imul(_,Ze)|0)+Math.imul(z,wt)|0,F=F+Math.imul(z,Ze)|0;var Or=(W+(C=C+Math.imul(V,Ft)|0)|0)+((8191&(x=(x=x+Math.imul(V,Qe)|0)+Math.imul($,Ft)|0))<<13)|0;W=((F=F+Math.imul($,Qe)|0)+(x>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(oe,Ge),x=(x=Math.imul(oe,Oe))+Math.imul(le,Ge)|0,F=Math.imul(le,Oe),C=C+Math.imul(te,Ct)|0,x=(x=x+Math.imul(te,Ke)|0)+Math.imul(re,Ct)|0,F=F+Math.imul(re,Ke)|0,C=C+Math.imul(ne,ct)|0,x=(x=x+Math.imul(ne,rt)|0)+Math.imul(ie,ct)|0,F=F+Math.imul(ie,rt)|0,C=C+Math.imul(Q,wt)|0,x=(x=x+Math.imul(Q,Ze)|0)+Math.imul(X,wt)|0,F=F+Math.imul(X,Ze)|0,C=C+Math.imul(_,Ft)|0,x=(x=x+Math.imul(_,Qe)|0)+Math.imul(z,Ft)|0,F=F+Math.imul(z,Qe)|0;var ee=(W+(C=C+Math.imul(V,Pt)|0)|0)+((8191&(x=(x=x+Math.imul(V,it)|0)+Math.imul($,Pt)|0))<<13)|0;W=((F=F+Math.imul($,it)|0)+(x>>>13)|0)+(ee>>>26)|0,ee&=67108863,C=Math.imul(pe,Ge),x=(x=Math.imul(pe,Oe))+Math.imul(be,Ge)|0,F=Math.imul(be,Oe),C=C+Math.imul(oe,Ct)|0,x=(x=x+Math.imul(oe,Ke)|0)+Math.imul(le,Ct)|0,F=F+Math.imul(le,Ke)|0,C=C+Math.imul(te,ct)|0,x=(x=x+Math.imul(te,rt)|0)+Math.imul(re,ct)|0,F=F+Math.imul(re,rt)|0,C=C+Math.imul(ne,wt)|0,x=(x=x+Math.imul(ne,Ze)|0)+Math.imul(ie,wt)|0,F=F+Math.imul(ie,Ze)|0,C=C+Math.imul(Q,Ft)|0,x=(x=x+Math.imul(Q,Qe)|0)+Math.imul(X,Ft)|0,F=F+Math.imul(X,Qe)|0,C=C+Math.imul(_,Pt)|0,x=(x=x+Math.imul(_,it)|0)+Math.imul(z,Pt)|0,F=F+Math.imul(z,it)|0;var ue=(W+(C=C+Math.imul(V,ce)|0)|0)+((8191&(x=(x=x+Math.imul(V,ge)|0)+Math.imul($,ce)|0))<<13)|0;W=((F=F+Math.imul($,ge)|0)+(x>>>13)|0)+(ue>>>26)|0,ue&=67108863,C=Math.imul(Pe,Ge),x=(x=Math.imul(Pe,Oe))+Math.imul(ve,Ge)|0,F=Math.imul(ve,Oe),C=C+Math.imul(pe,Ct)|0,x=(x=x+Math.imul(pe,Ke)|0)+Math.imul(be,Ct)|0,F=F+Math.imul(be,Ke)|0,C=C+Math.imul(oe,ct)|0,x=(x=x+Math.imul(oe,rt)|0)+Math.imul(le,ct)|0,F=F+Math.imul(le,rt)|0,C=C+Math.imul(te,wt)|0,x=(x=x+Math.imul(te,Ze)|0)+Math.imul(re,wt)|0,F=F+Math.imul(re,Ze)|0,C=C+Math.imul(ne,Ft)|0,x=(x=x+Math.imul(ne,Qe)|0)+Math.imul(ie,Ft)|0,F=F+Math.imul(ie,Qe)|0,C=C+Math.imul(Q,Pt)|0,x=(x=x+Math.imul(Q,it)|0)+Math.imul(X,Pt)|0,F=F+Math.imul(X,it)|0,C=C+Math.imul(_,ce)|0,x=(x=x+Math.imul(_,ge)|0)+Math.imul(z,ce)|0,F=F+Math.imul(z,ge)|0;var me=(W+(C=C+Math.imul(V,qe)|0)|0)+((8191&(x=(x=x+Math.imul(V,Te)|0)+Math.imul($,qe)|0))<<13)|0;W=((F=F+Math.imul($,Te)|0)+(x>>>13)|0)+(me>>>26)|0,me&=67108863,C=Math.imul(Ve,Ge),x=(x=Math.imul(Ve,Oe))+Math.imul(je,Ge)|0,F=Math.imul(je,Oe),C=C+Math.imul(Pe,Ct)|0,x=(x=x+Math.imul(Pe,Ke)|0)+Math.imul(ve,Ct)|0,F=F+Math.imul(ve,Ke)|0,C=C+Math.imul(pe,ct)|0,x=(x=x+Math.imul(pe,rt)|0)+Math.imul(be,ct)|0,F=F+Math.imul(be,rt)|0,C=C+Math.imul(oe,wt)|0,x=(x=x+Math.imul(oe,Ze)|0)+Math.imul(le,wt)|0,F=F+Math.imul(le,Ze)|0,C=C+Math.imul(te,Ft)|0,x=(x=x+Math.imul(te,Qe)|0)+Math.imul(re,Ft)|0,F=F+Math.imul(re,Qe)|0,C=C+Math.imul(ne,Pt)|0,x=(x=x+Math.imul(ne,it)|0)+Math.imul(ie,Pt)|0,F=F+Math.imul(ie,it)|0,C=C+Math.imul(Q,ce)|0,x=(x=x+Math.imul(Q,ge)|0)+Math.imul(X,ce)|0,F=F+Math.imul(X,ge)|0,C=C+Math.imul(_,qe)|0,x=(x=x+Math.imul(_,Te)|0)+Math.imul(z,qe)|0,F=F+Math.imul(z,Te)|0;var Ce=(W+(C=C+Math.imul(V,Xe)|0)|0)+((8191&(x=(x=x+Math.imul(V,We)|0)+Math.imul($,Xe)|0))<<13)|0;W=((F=F+Math.imul($,We)|0)+(x>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,C=Math.imul(Ae,Ge),x=(x=Math.imul(Ae,Oe))+Math.imul(xe,Ge)|0,F=Math.imul(xe,Oe),C=C+Math.imul(Ve,Ct)|0,x=(x=x+Math.imul(Ve,Ke)|0)+Math.imul(je,Ct)|0,F=F+Math.imul(je,Ke)|0,C=C+Math.imul(Pe,ct)|0,x=(x=x+Math.imul(Pe,rt)|0)+Math.imul(ve,ct)|0,F=F+Math.imul(ve,rt)|0,C=C+Math.imul(pe,wt)|0,x=(x=x+Math.imul(pe,Ze)|0)+Math.imul(be,wt)|0,F=F+Math.imul(be,Ze)|0,C=C+Math.imul(oe,Ft)|0,x=(x=x+Math.imul(oe,Qe)|0)+Math.imul(le,Ft)|0,F=F+Math.imul(le,Qe)|0,C=C+Math.imul(te,Pt)|0,x=(x=x+Math.imul(te,it)|0)+Math.imul(re,Pt)|0,F=F+Math.imul(re,it)|0,C=C+Math.imul(ne,ce)|0,x=(x=x+Math.imul(ne,ge)|0)+Math.imul(ie,ce)|0,F=F+Math.imul(ie,ge)|0,C=C+Math.imul(Q,qe)|0,x=(x=x+Math.imul(Q,Te)|0)+Math.imul(X,qe)|0,F=F+Math.imul(X,Te)|0,C=C+Math.imul(_,Xe)|0,x=(x=x+Math.imul(_,We)|0)+Math.imul(z,Xe)|0,F=F+Math.imul(z,We)|0;var He=(W+(C=C+Math.imul(V,tt)|0)|0)+((8191&(x=(x=x+Math.imul(V,ot)|0)+Math.imul($,tt)|0))<<13)|0;W=((F=F+Math.imul($,ot)|0)+(x>>>13)|0)+(He>>>26)|0,He&=67108863,C=Math.imul(Ae,Ct),x=(x=Math.imul(Ae,Ke))+Math.imul(xe,Ct)|0,F=Math.imul(xe,Ke),C=C+Math.imul(Ve,ct)|0,x=(x=x+Math.imul(Ve,rt)|0)+Math.imul(je,ct)|0,F=F+Math.imul(je,rt)|0,C=C+Math.imul(Pe,wt)|0,x=(x=x+Math.imul(Pe,Ze)|0)+Math.imul(ve,wt)|0,F=F+Math.imul(ve,Ze)|0,C=C+Math.imul(pe,Ft)|0,x=(x=x+Math.imul(pe,Qe)|0)+Math.imul(be,Ft)|0,F=F+Math.imul(be,Qe)|0,C=C+Math.imul(oe,Pt)|0,x=(x=x+Math.imul(oe,it)|0)+Math.imul(le,Pt)|0,F=F+Math.imul(le,it)|0,C=C+Math.imul(te,ce)|0,x=(x=x+Math.imul(te,ge)|0)+Math.imul(re,ce)|0,F=F+Math.imul(re,ge)|0,C=C+Math.imul(ne,qe)|0,x=(x=x+Math.imul(ne,Te)|0)+Math.imul(ie,qe)|0,F=F+Math.imul(ie,Te)|0,C=C+Math.imul(Q,Xe)|0,x=(x=x+Math.imul(Q,We)|0)+Math.imul(X,Xe)|0,F=F+Math.imul(X,We)|0;var Re=(W+(C=C+Math.imul(_,tt)|0)|0)+((8191&(x=(x=x+Math.imul(_,ot)|0)+Math.imul(z,tt)|0))<<13)|0;W=((F=F+Math.imul(z,ot)|0)+(x>>>13)|0)+(Re>>>26)|0,Re&=67108863,C=Math.imul(Ae,ct),x=(x=Math.imul(Ae,rt))+Math.imul(xe,ct)|0,F=Math.imul(xe,rt),C=C+Math.imul(Ve,wt)|0,x=(x=x+Math.imul(Ve,Ze)|0)+Math.imul(je,wt)|0,F=F+Math.imul(je,Ze)|0,C=C+Math.imul(Pe,Ft)|0,x=(x=x+Math.imul(Pe,Qe)|0)+Math.imul(ve,Ft)|0,F=F+Math.imul(ve,Qe)|0,C=C+Math.imul(pe,Pt)|0,x=(x=x+Math.imul(pe,it)|0)+Math.imul(be,Pt)|0,F=F+Math.imul(be,it)|0,C=C+Math.imul(oe,ce)|0,x=(x=x+Math.imul(oe,ge)|0)+Math.imul(le,ce)|0,F=F+Math.imul(le,ge)|0,C=C+Math.imul(te,qe)|0,x=(x=x+Math.imul(te,Te)|0)+Math.imul(re,qe)|0,F=F+Math.imul(re,Te)|0,C=C+Math.imul(ne,Xe)|0,x=(x=x+Math.imul(ne,We)|0)+Math.imul(ie,Xe)|0,F=F+Math.imul(ie,We)|0;var Fe=(W+(C=C+Math.imul(Q,tt)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ot)|0)+Math.imul(X,tt)|0))<<13)|0;W=((F=F+Math.imul(X,ot)|0)+(x>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,C=Math.imul(Ae,wt),x=(x=Math.imul(Ae,Ze))+Math.imul(xe,wt)|0,F=Math.imul(xe,Ze),C=C+Math.imul(Ve,Ft)|0,x=(x=x+Math.imul(Ve,Qe)|0)+Math.imul(je,Ft)|0,F=F+Math.imul(je,Qe)|0,C=C+Math.imul(Pe,Pt)|0,x=(x=x+Math.imul(Pe,it)|0)+Math.imul(ve,Pt)|0,F=F+Math.imul(ve,it)|0,C=C+Math.imul(pe,ce)|0,x=(x=x+Math.imul(pe,ge)|0)+Math.imul(be,ce)|0,F=F+Math.imul(be,ge)|0,C=C+Math.imul(oe,qe)|0,x=(x=x+Math.imul(oe,Te)|0)+Math.imul(le,qe)|0,F=F+Math.imul(le,Te)|0,C=C+Math.imul(te,Xe)|0,x=(x=x+Math.imul(te,We)|0)+Math.imul(re,Xe)|0,F=F+Math.imul(re,We)|0;var ht=(W+(C=C+Math.imul(ne,tt)|0)|0)+((8191&(x=(x=x+Math.imul(ne,ot)|0)+Math.imul(ie,tt)|0))<<13)|0;W=((F=F+Math.imul(ie,ot)|0)+(x>>>13)|0)+(ht>>>26)|0,ht&=67108863,C=Math.imul(Ae,Ft),x=(x=Math.imul(Ae,Qe))+Math.imul(xe,Ft)|0,F=Math.imul(xe,Qe),C=C+Math.imul(Ve,Pt)|0,x=(x=x+Math.imul(Ve,it)|0)+Math.imul(je,Pt)|0,F=F+Math.imul(je,it)|0,C=C+Math.imul(Pe,ce)|0,x=(x=x+Math.imul(Pe,ge)|0)+Math.imul(ve,ce)|0,F=F+Math.imul(ve,ge)|0,C=C+Math.imul(pe,qe)|0,x=(x=x+Math.imul(pe,Te)|0)+Math.imul(be,qe)|0,F=F+Math.imul(be,Te)|0,C=C+Math.imul(oe,Xe)|0,x=(x=x+Math.imul(oe,We)|0)+Math.imul(le,Xe)|0,F=F+Math.imul(le,We)|0;var st=(W+(C=C+Math.imul(te,tt)|0)|0)+((8191&(x=(x=x+Math.imul(te,ot)|0)+Math.imul(re,tt)|0))<<13)|0;W=((F=F+Math.imul(re,ot)|0)+(x>>>13)|0)+(st>>>26)|0,st&=67108863,C=Math.imul(Ae,Pt),x=(x=Math.imul(Ae,it))+Math.imul(xe,Pt)|0,F=Math.imul(xe,it),C=C+Math.imul(Ve,ce)|0,x=(x=x+Math.imul(Ve,ge)|0)+Math.imul(je,ce)|0,F=F+Math.imul(je,ge)|0,C=C+Math.imul(Pe,qe)|0,x=(x=x+Math.imul(Pe,Te)|0)+Math.imul(ve,qe)|0,F=F+Math.imul(ve,Te)|0,C=C+Math.imul(pe,Xe)|0,x=(x=x+Math.imul(pe,We)|0)+Math.imul(be,Xe)|0,F=F+Math.imul(be,We)|0;var at=(W+(C=C+Math.imul(oe,tt)|0)|0)+((8191&(x=(x=x+Math.imul(oe,ot)|0)+Math.imul(le,tt)|0))<<13)|0;W=((F=F+Math.imul(le,ot)|0)+(x>>>13)|0)+(at>>>26)|0,at&=67108863,C=Math.imul(Ae,ce),x=(x=Math.imul(Ae,ge))+Math.imul(xe,ce)|0,F=Math.imul(xe,ge),C=C+Math.imul(Ve,qe)|0,x=(x=x+Math.imul(Ve,Te)|0)+Math.imul(je,qe)|0,F=F+Math.imul(je,Te)|0,C=C+Math.imul(Pe,Xe)|0,x=(x=x+Math.imul(Pe,We)|0)+Math.imul(ve,Xe)|0,F=F+Math.imul(ve,We)|0;var Ye=(W+(C=C+Math.imul(pe,tt)|0)|0)+((8191&(x=(x=x+Math.imul(pe,ot)|0)+Math.imul(be,tt)|0))<<13)|0;W=((F=F+Math.imul(be,ot)|0)+(x>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,C=Math.imul(Ae,qe),x=(x=Math.imul(Ae,Te))+Math.imul(xe,qe)|0,F=Math.imul(xe,Te),C=C+Math.imul(Ve,Xe)|0,x=(x=x+Math.imul(Ve,We)|0)+Math.imul(je,Xe)|0,F=F+Math.imul(je,We)|0;var St=(W+(C=C+Math.imul(Pe,tt)|0)|0)+((8191&(x=(x=x+Math.imul(Pe,ot)|0)+Math.imul(ve,tt)|0))<<13)|0;W=((F=F+Math.imul(ve,ot)|0)+(x>>>13)|0)+(St>>>26)|0,St&=67108863,C=Math.imul(Ae,Xe),x=(x=Math.imul(Ae,We))+Math.imul(xe,Xe)|0,F=Math.imul(xe,We);var xt=(W+(C=C+Math.imul(Ve,tt)|0)|0)+((8191&(x=(x=x+Math.imul(Ve,ot)|0)+Math.imul(je,tt)|0))<<13)|0;W=((F=F+Math.imul(je,ot)|0)+(x>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Mt=(W+(C=Math.imul(Ae,tt))|0)+((8191&(x=(x=Math.imul(Ae,ot))+Math.imul(xe,tt)|0))<<13)|0;return W=((F=Math.imul(xe,ot))+(x>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,j[0]=qt,j[1]=Ot,j[2]=rr,j[3]=nr,j[4]=Or,j[5]=ee,j[6]=ue,j[7]=me,j[8]=Ce,j[9]=He,j[10]=Re,j[11]=Fe,j[12]=ht,j[13]=st,j[14]=at,j[15]=Ye,j[16]=St,j[17]=xt,j[18]=Mt,W!==0&&(j[19]=W,S.length++),S};function P(R,y,S){S.negative=y.negative^R.negative,S.length=R.length+y.length;for(var C=0,x=0,F=0;F<S.length-1;F++){var O=x;x=0;for(var N=67108863&C,j=Math.min(F,y.length-1),W=Math.max(0,F-R.length+1);W<=j;W++){var q=F-W,V=(0|R.words[q])*(0|y.words[W]),$=67108863&V;N=67108863&($=$+N|0),x+=(O=(O=O+(V/67108864|0)|0)+($>>>26)|0)>>>26,O&=67108863}S.words[F]=N,C=O,O=x}return C!==0?S.words[F]=C:S.length--,S._strip()}function A(R,y,S){return P(R,y,S)}Math.imul||(E=b),c.prototype.mulTo=function(R,y){var S=this.length+R.length;return this.length===10&&R.length===10?E(this,R,y):S<63?b(this,R,y):S<1024?P(this,R,y):A(this,R,y)},c.prototype.mul=function(R){var y=new c(null);return y.words=new Array(this.length+R.length),this.mulTo(R,y)},c.prototype.mulf=function(R){var y=new c(null);return y.words=new Array(this.length+R.length),A(this,R,y)},c.prototype.imul=function(R){return this.clone().mulTo(R,this)},c.prototype.imuln=function(R){var y=R<0;y&&(R=-R),a(typeof R=="number"),a(R<67108864);for(var S=0,C=0;C<this.length;C++){var x=(0|this.words[C])*R,F=(67108863&x)+(67108863&S);S>>=26,S+=x/67108864|0,S+=F>>>26,this.words[C]=67108863&F}return S!==0&&(this.words[C]=S,this.length++),y?this.ineg():this},c.prototype.muln=function(R){return this.clone().imuln(R)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(R){var y=function(F){for(var O=new Array(F.bitLength()),N=0;N<O.length;N++){var j=N/26|0,W=N%26;O[N]=F.words[j]>>>W&1}return O}(R);if(y.length===0)return new c(1);for(var S=this,C=0;C<y.length&&y[C]===0;C++,S=S.sqr());if(++C<y.length)for(var x=S.sqr();C<y.length;C++,x=x.sqr())y[C]!==0&&(S=S.mul(x));return S},c.prototype.iushln=function(R){a(typeof R=="number"&&R>=0);var y,S=R%26,C=(R-S)/26,x=67108863>>>26-S<<26-S;if(S!==0){var F=0;for(y=0;y<this.length;y++){var O=this.words[y]&x,N=(0|this.words[y])-O<<S;this.words[y]=N|F,F=O>>>26-S}F&&(this.words[y]=F,this.length++)}if(C!==0){for(y=this.length-1;y>=0;y--)this.words[y+C]=this.words[y];for(y=0;y<C;y++)this.words[y]=0;this.length+=C}return this._strip()},c.prototype.ishln=function(R){return a(this.negative===0),this.iushln(R)},c.prototype.iushrn=function(R,y,S){var C;a(typeof R=="number"&&R>=0),C=y?(y-y%26)/26:0;var x=R%26,F=Math.min((R-x)/26,this.length),O=67108863^67108863>>>x<<x,N=S;if(C-=F,C=Math.max(0,C),N){for(var j=0;j<F;j++)N.words[j]=this.words[j];N.length=F}if(F!==0)if(this.length>F)for(this.length-=F,j=0;j<this.length;j++)this.words[j]=this.words[j+F];else this.words[0]=0,this.length=1;var W=0;for(j=this.length-1;j>=0&&(W!==0||j>=C);j--){var q=0|this.words[j];this.words[j]=W<<26-x|q>>>x,W=q&O}return N&&W!==0&&(N.words[N.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(R,y,S){return a(this.negative===0),this.iushrn(R,y,S)},c.prototype.shln=function(R){return this.clone().ishln(R)},c.prototype.ushln=function(R){return this.clone().iushln(R)},c.prototype.shrn=function(R){return this.clone().ishrn(R)},c.prototype.ushrn=function(R){return this.clone().iushrn(R)},c.prototype.testn=function(R){a(typeof R=="number"&&R>=0);var y=R%26,S=(R-y)/26,C=1<<y;return!(this.length<=S)&&!!(this.words[S]&C)},c.prototype.imaskn=function(R){a(typeof R=="number"&&R>=0);var y=R%26,S=(R-y)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(y!==0&&S++,this.length=Math.min(S,this.length),y!==0){var C=67108863^67108863>>>y<<y;this.words[this.length-1]&=C}return this._strip()},c.prototype.maskn=function(R){return this.clone().imaskn(R)},c.prototype.iaddn=function(R){return a(typeof R=="number"),a(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<=R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},c.prototype._iaddn=function(R){this.words[0]+=R;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},c.prototype.isubn=function(R){if(a(typeof R=="number"),a(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},c.prototype.addn=function(R){return this.clone().iaddn(R)},c.prototype.subn=function(R){return this.clone().isubn(R)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(R,y,S){var C,x,F=R.length+S;this._expand(F);var O=0;for(C=0;C<R.length;C++){x=(0|this.words[C+S])+O;var N=(0|R.words[C])*y;O=((x-=67108863&N)>>26)-(N/67108864|0),this.words[C+S]=67108863&x}for(;C<this.length-S;C++)O=(x=(0|this.words[C+S])+O)>>26,this.words[C+S]=67108863&x;if(O===0)return this._strip();for(a(O===-1),O=0,C=0;C<this.length;C++)O=(x=-(0|this.words[C])+O)>>26,this.words[C]=67108863&x;return this.negative=1,this._strip()},c.prototype._wordDiv=function(R,y){var S=(this.length,R.length),C=this.clone(),x=R,F=0|x.words[x.length-1];(S=26-this._countBits(F))!==0&&(x=x.ushln(S),C.iushln(S),F=0|x.words[x.length-1]);var O,N=C.length-x.length;if(y!=="mod"){(O=new c(null)).length=N+1,O.words=new Array(O.length);for(var j=0;j<O.length;j++)O.words[j]=0}var W=C.clone()._ishlnsubmul(x,1,N);W.negative===0&&(C=W,O&&(O.words[N]=1));for(var q=N-1;q>=0;q--){var V=67108864*(0|C.words[x.length+q])+(0|C.words[x.length+q-1]);for(V=Math.min(V/F|0,67108863),C._ishlnsubmul(x,V,q);C.negative!==0;)V--,C.negative=0,C._ishlnsubmul(x,1,q),C.isZero()||(C.negative^=1);O&&(O.words[q]=V)}return O&&O._strip(),C._strip(),y!=="div"&&S!==0&&C.iushrn(S),{div:O||null,mod:C}},c.prototype.divmod=function(R,y,S){return a(!R.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&R.negative===0?(F=this.neg().divmod(R,y),y!=="mod"&&(C=F.div.neg()),y!=="div"&&(x=F.mod.neg(),S&&x.negative!==0&&x.iadd(R)),{div:C,mod:x}):this.negative===0&&R.negative!==0?(F=this.divmod(R.neg(),y),y!=="mod"&&(C=F.div.neg()),{div:C,mod:F.mod}):this.negative&R.negative?(F=this.neg().divmod(R.neg(),y),y!=="div"&&(x=F.mod.neg(),S&&x.negative!==0&&x.isub(R)),{div:F.div,mod:x}):R.length>this.length||this.cmp(R)<0?{div:new c(0),mod:this}:R.length===1?y==="div"?{div:this.divn(R.words[0]),mod:null}:y==="mod"?{div:null,mod:new c(this.modrn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new c(this.modrn(R.words[0]))}:this._wordDiv(R,y);var C,x,F},c.prototype.div=function(R){return this.divmod(R,"div",!1).div},c.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},c.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},c.prototype.divRound=function(R){var y=this.divmod(R);if(y.mod.isZero())return y.div;var S=y.div.negative!==0?y.mod.isub(R):y.mod,C=R.ushrn(1),x=R.andln(1),F=S.cmp(C);return F<0||x===1&&F===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},c.prototype.modrn=function(R){var y=R<0;y&&(R=-R),a(R<=67108863);for(var S=(1<<26)%R,C=0,x=this.length-1;x>=0;x--)C=(S*C+(0|this.words[x]))%R;return y?-C:C},c.prototype.modn=function(R){return this.modrn(R)},c.prototype.idivn=function(R){var y=R<0;y&&(R=-R),a(R<=67108863);for(var S=0,C=this.length-1;C>=0;C--){var x=(0|this.words[C])+67108864*S;this.words[C]=x/R|0,S=x%R}return this._strip(),y?this.ineg():this},c.prototype.divn=function(R){return this.clone().idivn(R)},c.prototype.egcd=function(R){a(R.negative===0),a(!R.isZero());var y=this,S=R.clone();y=y.negative!==0?y.umod(R):y.clone();for(var C=new c(1),x=new c(0),F=new c(0),O=new c(1),N=0;y.isEven()&&S.isEven();)y.iushrn(1),S.iushrn(1),++N;for(var j=S.clone(),W=y.clone();!y.isZero();){for(var q=0,V=1;!(y.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(y.iushrn(q);q-- >0;)(C.isOdd()||x.isOdd())&&(C.iadd(j),x.isub(W)),C.iushrn(1),x.iushrn(1);for(var $=0,I=1;!(S.words[0]&I)&&$<26;++$,I<<=1);if($>0)for(S.iushrn($);$-- >0;)(F.isOdd()||O.isOdd())&&(F.iadd(j),O.isub(W)),F.iushrn(1),O.iushrn(1);y.cmp(S)>=0?(y.isub(S),C.isub(F),x.isub(O)):(S.isub(y),F.isub(C),O.isub(x))}return{a:F,b:O,gcd:S.iushln(N)}},c.prototype._invmp=function(R){a(R.negative===0),a(!R.isZero());var y=this,S=R.clone();y=y.negative!==0?y.umod(R):y.clone();for(var C,x=new c(1),F=new c(0),O=S.clone();y.cmpn(1)>0&&S.cmpn(1)>0;){for(var N=0,j=1;!(y.words[0]&j)&&N<26;++N,j<<=1);if(N>0)for(y.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(O),x.iushrn(1);for(var W=0,q=1;!(S.words[0]&q)&&W<26;++W,q<<=1);if(W>0)for(S.iushrn(W);W-- >0;)F.isOdd()&&F.iadd(O),F.iushrn(1);y.cmp(S)>=0?(y.isub(S),x.isub(F)):(S.isub(y),F.isub(x))}return(C=y.cmpn(1)===0?x:F).cmpn(0)<0&&C.iadd(R),C},c.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var y=this.clone(),S=R.clone();y.negative=0,S.negative=0;for(var C=0;y.isEven()&&S.isEven();C++)y.iushrn(1),S.iushrn(1);for(;;){for(;y.isEven();)y.iushrn(1);for(;S.isEven();)S.iushrn(1);var x=y.cmp(S);if(x<0){var F=y;y=S,S=F}else if(x===0||S.cmpn(1)===0)break;y.isub(S)}return S.iushln(C)},c.prototype.invm=function(R){return this.egcd(R).a.umod(R)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(R){return this.words[0]&R},c.prototype.bincn=function(R){a(typeof R=="number");var y=R%26,S=(R-y)/26,C=1<<y;if(this.length<=S)return this._expand(S+1),this.words[S]|=C,this;for(var x=C,F=S;x!==0&&F<this.length;F++){var O=0|this.words[F];x=(O+=x)>>>26,O&=67108863,this.words[F]=O}return x!==0&&(this.words[F]=x,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(R){var y,S=R<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)y=1;else{S&&(R=-R),a(R<=67108863,"Number is too big");var C=0|this.words[0];y=C===R?0:C<R?-1:1}return this.negative!==0?0|-y:y},c.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var y=this.ucmp(R);return this.negative!==0?0|-y:y},c.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var y=0,S=this.length-1;S>=0;S--){var C=0|this.words[S],x=0|R.words[S];if(C!==x){C<x?y=-1:C>x&&(y=1);break}}return y},c.prototype.gtn=function(R){return this.cmpn(R)===1},c.prototype.gt=function(R){return this.cmp(R)===1},c.prototype.gten=function(R){return this.cmpn(R)>=0},c.prototype.gte=function(R){return this.cmp(R)>=0},c.prototype.ltn=function(R){return this.cmpn(R)===-1},c.prototype.lt=function(R){return this.cmp(R)===-1},c.prototype.lten=function(R){return this.cmpn(R)<=0},c.prototype.lte=function(R){return this.cmp(R)<=0},c.prototype.eqn=function(R){return this.cmpn(R)===0},c.prototype.eq=function(R){return this.cmp(R)===0},c.red=function(R){return new k(R)},c.prototype.toRed=function(R){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(R){return this.red=R,this},c.prototype.forceRed=function(R){return a(!this.red,"Already a number in reduction context"),this._forceRed(R)},c.prototype.redAdd=function(R){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},c.prototype.redIAdd=function(R){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},c.prototype.redSub=function(R){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},c.prototype.redISub=function(R){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},c.prototype.redShl=function(R){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},c.prototype.redMul=function(R){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},c.prototype.redIMul=function(R){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(R){return a(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var L={k256:null,p224:null,p192:null,p25519:null};function T(R,y){this.name=R,this.p=new c(y,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function D(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(R){if(typeof R=="string"){var y=c._prime(R);this.m=y.p,this.prime=y}else a(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function M(R){k.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var R=new c(null);return R.words=new Array(Math.ceil(this.n/13)),R},T.prototype.ireduce=function(R){var y,S=R;do this.split(S,this.tmp),y=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(y>this.n);var C=y<this.n?-1:S.ucmp(this.p);return C===0?(S.words[0]=0,S.length=1):C>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},T.prototype.split=function(R,y){R.iushrn(this.n,0,y)},T.prototype.imulK=function(R){return R.imul(this.k)},l(B,T),B.prototype.split=function(R,y){for(var S=Math.min(R.length,9),C=0;C<S;C++)y.words[C]=R.words[C];if(y.length=S,R.length<=9)return R.words[0]=0,void(R.length=1);var x=R.words[9];for(y.words[y.length++]=4194303&x,C=10;C<R.length;C++){var F=0|R.words[C];R.words[C-10]=(4194303&F)<<4|x>>>22,x=F}x>>>=22,R.words[C-10]=x,x===0&&R.length>10?R.length-=10:R.length-=9},B.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var y=0,S=0;S<R.length;S++){var C=0|R.words[S];y+=977*C,R.words[S]=67108863&y,y=64*C+(y/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},l(H,T),l(G,T),l(D,T),D.prototype.imulK=function(R){for(var y=0,S=0;S<R.length;S++){var C=19*(0|R.words[S])+y,x=67108863&C;C>>>=26,R.words[S]=x,y=C}return y!==0&&(R.words[R.length++]=y),R},c._prime=function(R){if(L[R])return L[R];var y;if(R==="k256")y=new B;else if(R==="p224")y=new H;else if(R==="p192")y=new G;else{if(R!=="p25519")throw new Error("Unknown prime "+R);y=new D}return L[R]=y,y},k.prototype._verify1=function(R){a(R.negative===0,"red works only with positives"),a(R.red,"red works only with red numbers")},k.prototype._verify2=function(R,y){a((R.negative|y.negative)==0,"red works only with positives"),a(R.red&&R.red===y.red,"red works only with red numbers")},k.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):(p(R,R.umod(this.m)._forceRed(this)),R)},k.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},k.prototype.add=function(R,y){this._verify2(R,y);var S=R.add(y);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},k.prototype.iadd=function(R,y){this._verify2(R,y);var S=R.iadd(y);return S.cmp(this.m)>=0&&S.isub(this.m),S},k.prototype.sub=function(R,y){this._verify2(R,y);var S=R.sub(y);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},k.prototype.isub=function(R,y){this._verify2(R,y);var S=R.isub(y);return S.cmpn(0)<0&&S.iadd(this.m),S},k.prototype.shl=function(R,y){return this._verify1(R),this.imod(R.ushln(y))},k.prototype.imul=function(R,y){return this._verify2(R,y),this.imod(R.imul(y))},k.prototype.mul=function(R,y){return this._verify2(R,y),this.imod(R.mul(y))},k.prototype.isqr=function(R){return this.imul(R,R.clone())},k.prototype.sqr=function(R){return this.mul(R,R)},k.prototype.sqrt=function(R){if(R.isZero())return R.clone();var y=this.m.andln(3);if(a(y%2==1),y===3){var S=this.m.add(new c(1)).iushrn(2);return this.pow(R,S)}for(var C=this.m.subn(1),x=0;!C.isZero()&&C.andln(1)===0;)x++,C.iushrn(1);a(!C.isZero());var F=new c(1).toRed(this),O=F.redNeg(),N=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new c(2*j*j).toRed(this);this.pow(j,N).cmp(O)!==0;)j.redIAdd(O);for(var W=this.pow(j,C),q=this.pow(R,C.addn(1).iushrn(1)),V=this.pow(R,C),$=x;V.cmp(F)!==0;){for(var I=V,_=0;I.cmp(F)!==0;_++)I=I.redSqr();a(_<$);var z=this.pow(W,new c(1).iushln($-_-1));q=q.redMul(z),W=z.redSqr(),V=V.redMul(W),$=_}return q},k.prototype.invm=function(R){var y=R._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},k.prototype.pow=function(R,y){if(y.isZero())return new c(1).toRed(this);if(y.cmpn(1)===0)return R.clone();var S=new Array(16);S[0]=new c(1).toRed(this),S[1]=R;for(var C=2;C<S.length;C++)S[C]=this.mul(S[C-1],R);var x=S[0],F=0,O=0,N=y.bitLength()%26;for(N===0&&(N=26),C=y.length-1;C>=0;C--){for(var j=y.words[C],W=N-1;W>=0;W--){var q=j>>W&1;x!==S[0]&&(x=this.sqr(x)),q!==0||F!==0?(F<<=1,F|=q,(++O===4||C===0&&W===0)&&(x=this.mul(x,S[F]),O=0,F=0)):O=0}N=26}return x},k.prototype.convertTo=function(R){var y=R.umod(this.m);return y===R?y.clone():y},k.prototype.convertFrom=function(R){var y=R.clone();return y.red=null,y},c.mont=function(R){return new M(R)},l(M,k),M.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},M.prototype.convertFrom=function(R){var y=this.imod(R.mul(this.rinv));return y.red=null,y},M.prototype.imul=function(R,y){if(R.isZero()||y.isZero())return R.words[0]=0,R.length=1,R;var S=R.imul(y),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=S.isub(C).iushrn(this.shift),F=x;return x.cmp(this.m)>=0?F=x.isub(this.m):x.cmpn(0)<0&&(F=x.iadd(this.m)),F._forceRed(this)},M.prototype.mul=function(R,y){if(R.isZero()||y.isZero())return new c(0)._forceRed(this);var S=R.mul(y),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=S.isub(C).iushrn(this.shift),F=x;return x.cmp(this.m)>=0?F=x.isub(this.m):x.cmpn(0)<0&&(F=x.iadd(this.m)),F._forceRed(this)},M.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,i){var s;function o(l){this.rand=l}if(n.exports=function(l){return s||(s=new o(null)),s.generate(l)},n.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),u=0;u<c.length;u++)c[u]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=r("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return a.randomBytes(l)}}catch{}},{crypto:188}],188:[function(r,n,i){},{}],189:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(d){s.isBuffer(d)||(d=s.from(d));for(var f=d.length/4|0,p=new Array(f),m=0;m<f;m++)p[m]=d.readUInt32BE(4*m);return p}function a(d){for(;0<d.length;d++)d[0]=0}function l(d,f,p,m,g){for(var w,v,b,E,P=p[0],A=p[1],L=p[2],T=p[3],B=d[0]^f[0],H=d[1]^f[1],G=d[2]^f[2],D=d[3]^f[3],k=4,M=1;M<g;M++)w=P[B>>>24]^A[H>>>16&255]^L[G>>>8&255]^T[255&D]^f[k++],v=P[H>>>24]^A[G>>>16&255]^L[D>>>8&255]^T[255&B]^f[k++],b=P[G>>>24]^A[D>>>16&255]^L[B>>>8&255]^T[255&H]^f[k++],E=P[D>>>24]^A[B>>>16&255]^L[H>>>8&255]^T[255&G]^f[k++],B=w,H=v,G=b,D=E;return w=(m[B>>>24]<<24|m[H>>>16&255]<<16|m[G>>>8&255]<<8|m[255&D])^f[k++],v=(m[H>>>24]<<24|m[G>>>16&255]<<16|m[D>>>8&255]<<8|m[255&B])^f[k++],b=(m[G>>>24]<<24|m[D>>>16&255]<<16|m[B>>>8&255]<<8|m[255&H])^f[k++],E=(m[D>>>24]<<24|m[B>>>16&255]<<16|m[H>>>8&255]<<8|m[255&G])^f[k++],[w>>>=0,v>>>=0,b>>>=0,E>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var d=new Array(256),f=0;f<256;f++)d[f]=f<128?f<<1:f<<1^283;for(var p=[],m=[],g=[[],[],[],[]],w=[[],[],[],[]],v=0,b=0,E=0;E<256;++E){var P=b^b<<1^b<<2^b<<3^b<<4;P=P>>>8^255&P^99,p[v]=P,m[P]=v;var A=d[v],L=d[A],T=d[L],B=257*d[P]^16843008*P;g[0][v]=B<<24|B>>>8,g[1][v]=B<<16|B>>>16,g[2][v]=B<<8|B>>>24,g[3][v]=B,B=16843009*T^65537*L^257*A^16843008*v,w[0][P]=B<<24|B>>>8,w[1][P]=B<<16|B>>>16,w[2][P]=B<<8|B>>>24,w[3][P]=B,v===0?v=b=1:(v=A^d[d[d[T^A]]],b^=d[d[b]])}return{SBOX:p,INV_SBOX:m,SUB_MIX:g,INV_SUB_MIX:w}}();function h(d){this._key=o(d),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var d=this._key,f=d.length,p=f+6,m=4*(p+1),g=[],w=0;w<f;w++)g[w]=d[w];for(w=f;w<m;w++){var v=g[w-1];w%f==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=c[w/f|0]<<24):f>6&&w%f==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),g[w]=g[w-f]^v}for(var b=[],E=0;E<m;E++){var P=m-E,A=g[P-(E%4?0:4)];b[E]=E<4||P<=4?A:u.INV_SUB_MIX[0][u.SBOX[A>>>24]]^u.INV_SUB_MIX[1][u.SBOX[A>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[A>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&A]]}this._nRounds=p,this._keySchedule=g,this._invKeySchedule=b},h.prototype.encryptBlockRaw=function(d){return l(d=o(d),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},h.prototype.encryptBlock=function(d){var f=this.encryptBlockRaw(d),p=s.allocUnsafe(16);return p.writeUInt32BE(f[0],0),p.writeUInt32BE(f[1],4),p.writeUInt32BE(f[2],8),p.writeUInt32BE(f[3],12),p},h.prototype.decryptBlock=function(d){var f=(d=o(d))[1];d[1]=d[3],d[3]=f;var p=l(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),m=s.allocUnsafe(16);return m.writeUInt32BE(p[0],0),m.writeUInt32BE(p[3],4),m.writeUInt32BE(p[2],8),m.writeUInt32BE(p[1],12),m},h.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n.exports.AES=h},{"safe-buffer":494}],190:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=r("inherits"),c=r("./ghash"),u=r("buffer-xor"),h=r("./incr32");function d(f,p,m,g){a.call(this);var w=o.alloc(4,0);this._cipher=new s.AES(p);var v=this._cipher.encryptBlock(w);this._ghash=new c(v),m=function(b,E,P){if(E.length===12)return b._finID=o.concat([E,o.from([0,0,0,1])]),o.concat([E,o.from([0,0,0,2])]);var A=new c(P),L=E.length,T=L%16;A.update(E),T&&(T=16-T,A.update(o.alloc(T,0))),A.update(o.alloc(8,0));var B=8*L,H=o.alloc(8);H.writeUIntBE(B,0,8),A.update(H),b._finID=A.state;var G=o.from(b._finID);return h(G),G}(this,m,v),this._prev=o.from(m),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(d,a),d.prototype._update=function(f){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=o.alloc(p,0),this._ghash.update(p))}this._called=!0;var m=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(m),this._len+=f.length,m},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,m){var g=0;p.length!==m.length&&g++;for(var w=Math.min(p.length,m.length),v=0;v<w;++v)g+=p[v]^m[v];return g}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},d.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,i){var s=r("./encrypter"),o=r("./decrypter"),a=r("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,i){var s=r("./authCipher"),o=r("safe-buffer").Buffer,a=r("./modes"),l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),h=r("evp_bytestokey");function d(m,g,w){c.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(g),this._prev=o.from(w),this._mode=m,this._autopadding=!0}function f(){this.cache=o.allocUnsafe(0)}function p(m,g,w){var v=a[m.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=o.from(w)),v.mode!=="GCM"&&w.length!==v.iv)throw new TypeError("invalid iv length "+w.length);if(typeof g=="string"&&(g=o.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);return v.type==="stream"?new l(v.module,g,w,!0):v.type==="auth"?new s(v.module,g,w,!0):new d(v.module,g,w)}r("inherits")(d,c),d.prototype._update=function(m){var g,w;this._cache.add(m);for(var v=[];g=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,g),v.push(w);return o.concat(v)},d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return function(g){var w=g[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var v=-1;++v<w;)if(g[v+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return g.slice(0,16-w)}(this._mode.decrypt(this,m));if(m)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},f.prototype.add=function(m){this.cache=o.concat([this.cache,m])},f.prototype.get=function(m){var g;if(m){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(m,g){var w=a[m.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var v=h(g,!1,w.key,w.iv);return p(m,v.key,v.iv)},i.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,i){var s=r("./modes"),o=r("./authCipher"),a=r("safe-buffer").Buffer,l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),h=r("evp_bytestokey");function d(g,w,v){c.call(this),this._cache=new p,this._cipher=new u.AES(w),this._prev=a.from(v),this._mode=g,this._autopadding=!0}r("inherits")(d,c),d.prototype._update=function(g){var w,v;this._cache.add(g);for(var b=[];w=this._cache.get();)v=this._mode.encrypt(this,w),b.push(v);return a.concat(b)};var f=a.alloc(16,16);function p(){this.cache=a.allocUnsafe(0)}function m(g,w,v){var b=s[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=a.from(w)),w.length!==b.key/8)throw new TypeError("invalid key length "+w.length);if(typeof v=="string"&&(v=a.from(v)),b.mode!=="GCM"&&v.length!==b.iv)throw new TypeError("invalid iv length "+v.length);return b.type==="stream"?new l(b.module,w,v):b.type==="auth"?new o(b.module,w,v):new d(b.module,w,v)}d.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},p.prototype.add=function(g){this.cache=a.concat([this.cache,g])},p.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},p.prototype.flush=function(){for(var g=16-this.cache.length,w=a.allocUnsafe(g),v=-1;++v<g;)w.writeUInt8(g,v);return a.concat([this.cache,w])},i.createCipheriv=m,i.createCipher=function(g,w){var v=s[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var b=h(w,!1,v.key,v.iv);return m(g,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.alloc(16,0);function a(c){var u=s.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function l(c){this.h=c,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},l.prototype._multiply=function(){for(var c,u,h,d=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],f=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(f[0]^=d[0],f[1]^=d[1],f[2]^=d[2],f[3]^=d[3]),h=(1&d[3])!=0,u=3;u>0;u--)d[u]=d[u]>>>1|(1&d[u-1])<<31;d[0]=d[0]>>>1,h&&(d[0]=d[0]^225<<24)}this.state=a(f)},l.prototype.update=function(c){var u;for(this.cache=s.concat([this.cache,c]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(c,u){return this.cache.length&&this.ghash(s.concat([this.cache,o],16)),this.ghash(a([0,c,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(r,n,i){n.exports=function(s){for(var o,a=s.length;a--;){if((o=s.readUInt8(a))!==255){o++,s.writeUInt8(o,a);break}s.writeUInt8(0,a)}}},{}],196:[function(r,n,i){var s=r("buffer-xor");i.encrypt=function(o,a){var l=s(a,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,a){var l=o._prev;o._prev=a;var c=o._cipher.decryptBlock(a);return s(c,l)}},{"buffer-xor":219}],197:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("buffer-xor");function a(l,c,u){var h=c.length,d=o(c,l._cache);return l._cache=l._cache.slice(h),l._prev=s.concat([l._prev,u?c:d]),d}i.encrypt=function(l,c,u){for(var h,d=s.allocUnsafe(0);c.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=c.length)){d=s.concat([d,a(l,c,u)]);break}h=l._cache.length,d=s.concat([d,a(l,c.slice(0,h),u)]),c=c.slice(h)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(l,c,u){for(var h,d,f=-1,p=0;++f<8;)h=c&1<<7-f?128:0,p+=(128&(d=l._cipher.encryptBlock(l._prev)[0]^h))>>f%8,l._prev=a(l._prev,u?h:d);return p}function a(l,c){var u=l.length,h=-1,d=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([c])]);++h<u;)d[h]=l[h]<<1|l[h+1]>>7;return d}i.encrypt=function(l,c,u){for(var h=c.length,d=s.allocUnsafe(h),f=-1;++f<h;)d[f]=o(l,c[f],u);return d}},{"safe-buffer":494}],199:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l,c){var u=a._cipher.encryptBlock(a._prev)[0]^l;return a._prev=s.concat([a._prev.slice(1),s.from([c?l:u])]),u}i.encrypt=function(a,l,c){for(var u=l.length,h=s.allocUnsafe(u),d=-1;++d<u;)h[d]=o(a,l[d],c);return h}},{"safe-buffer":494}],200:[function(r,n,i){var s=r("buffer-xor"),o=r("safe-buffer").Buffer,a=r("../incr32");function l(c){var u=c._cipher.encryptBlockRaw(c._prev);return a(c._prev),u}i.encrypt=function(c,u){var h=Math.ceil(u.length/16),d=c._cache.length;c._cache=o.concat([c._cache,o.allocUnsafe(16*h)]);for(var f=0;f<h;f++){var p=l(c),m=d+16*f;c._cache.writeUInt32BE(p[0],m+0),c._cache.writeUInt32BE(p[1],m+4),c._cache.writeUInt32BE(p[2],m+8),c._cache.writeUInt32BE(p[3],m+12)}var g=c._cache.slice(0,u.length);return c._cache=c._cache.slice(u.length),s(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,i){i.encrypt=function(s,o){return s._cipher.encryptBlock(o)},i.decrypt=function(s,o){return s._cipher.decryptBlock(o)}},{}],202:[function(r,n,i){var s={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},o=r("./list.json");for(var a in o)o[a].module=s[o[a].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,i){(function(s){(function(){var o=r("buffer-xor");function a(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,c){for(;l._cache.length<c.length;)l._cache=s.concat([l._cache,a(l)]);var u=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),o(c,u)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base");function l(c,u,h,d){a.call(this),this._cipher=new s.AES(u),this._prev=o.from(h),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=d,this._mode=c}r("inherits")(l,a),l.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,i){var s=r("browserify-des"),o=r("browserify-aes/browser"),a=r("browserify-aes/modes"),l=r("browserify-des/modes"),c=r("evp_bytestokey");function u(d,f,p){if(d=d.toLowerCase(),a[d])return o.createCipheriv(d,f,p);if(l[d])return new s({key:f,iv:p,mode:d});throw new TypeError("invalid suite type")}function h(d,f,p){if(d=d.toLowerCase(),a[d])return o.createDecipheriv(d,f,p);if(l[d])return new s({key:f,iv:p,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(d,f){var p,m;if(d=d.toLowerCase(),a[d])p=a[d].key,m=a[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");p=8*l[d].key,m=l[d].iv}var g=c(f,!1,p,m);return u(d,g.key,g.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(d,f){var p,m;if(d=d.toLowerCase(),a[d])p=a[d].key,m=a[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");p=8*l[d].key,m=l[d].iv}var g=c(f,!1,p,m);return h(d,g.key,g.iv)},i.createDecipheriv=i.Decipheriv=h,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,i){var s=r("cipher-base"),o=r("des.js"),a=r("inherits"),l=r("safe-buffer").Buffer,c={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(h){s.call(this);var d,f=h.mode.toLowerCase(),p=c[f];d=h.decrypt?"decrypt":"encrypt";var m=h.key;l.isBuffer(m)||(m=l.from(m)),f!=="des-ede"&&f!=="des-ede-cbc"||(m=l.concat([m,m.slice(0,8)]));var g=h.iv;l.isBuffer(g)||(g=l.from(g)),this._des=p.create({key:m,iv:g,type:d})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=u,a(u,s),u.prototype._update=function(h){return l.from(this._des.update(h))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=r("randombytes");function l(u){var h,d=u.modulus.byteLength();do h=new o(a(d));while(h.cmp(u.modulus)>=0||!h.umod(u.prime1)||!h.umod(u.prime2));return h}function c(u,h){var d=function(L){var T=l(L);return{blinder:T.toRed(o.mont(L.modulus)).redPow(new o(L.publicExponent)).fromRed(),unblinder:T.invm(L.modulus)}}(h),f=h.modulus.byteLength(),p=new o(u).mul(d.blinder).umod(h.modulus),m=p.toRed(o.mont(h.prime1)),g=p.toRed(o.mont(h.prime2)),w=h.coefficient,v=h.prime1,b=h.prime2,E=m.redPow(h.exponent1).fromRed(),P=g.redPow(h.exponent2).fromRed(),A=E.isub(P).imul(w).umod(v).imul(b);return P.iadd(A).imul(d.unblinder).umod(h.modulus).toArrayLike(s,"be",f)}c.getr=l,n.exports=c}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hash"),a=r("readable-stream"),l=r("inherits"),c=r("./sign"),u=r("./verify"),h=r("./algorithms.json");function d(g){a.Writable.call(this);var w=h[g];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=o(w.hash),this._tag=w.id,this._signType=w.sign}function f(g){a.Writable.call(this);var w=h[g];if(!w)throw new Error("Unknown message digest");this._hash=o(w.hash),this._tag=w.id,this._signType=w.sign}function p(g){return new d(g)}function m(g){return new f(g)}Object.keys(h).forEach(function(g){h[g].id=s.from(h[g].id,"hex"),h[g.toLowerCase()]=h[g]}),l(d,a.Writable),d.prototype._write=function(g,w,v){this._hash.update(g),v()},d.prototype.update=function(g,w){return typeof g=="string"&&(g=s.from(g,w)),this._hash.update(g),this},d.prototype.sign=function(g,w){this.end();var v=this._hash.digest(),b=c(v,g,this._hashType,this._signType,this._tag);return w?b.toString(w):b},l(f,a.Writable),f.prototype._write=function(g,w,v){this._hash.update(g),v()},f.prototype.update=function(g,w){return typeof g=="string"&&(g=s.from(g,w)),this._hash.update(g),this},f.prototype.verify=function(g,w,v){typeof w=="string"&&(w=s.from(w,v)),this.end();var b=this._hash.digest();return u(w,b,g,this._signType,this._tag)},n.exports={Sign:p,Verify:m,createSign:p,createVerify:m}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hmac"),a=r("browserify-rsa"),l=r("elliptic").ec,c=r("bn.js"),u=r("parse-asn1"),h=r("./curves.json");function d(g,w,v,b){if((g=s.from(g.toArray())).length<w.byteLength()){var E=s.alloc(w.byteLength()-g.length);g=s.concat([E,g])}var P=v.length,A=function(B,H){B=(B=f(B,H)).mod(H);var G=s.from(B.toArray());if(G.length<H.byteLength()){var D=s.alloc(H.byteLength()-G.length);G=s.concat([D,G])}return G}(v,w),L=s.alloc(P);L.fill(1);var T=s.alloc(P);return T=o(b,T).update(L).update(s.from([0])).update(g).update(A).digest(),L=o(b,T).update(L).digest(),{k:T=o(b,T).update(L).update(s.from([1])).update(g).update(A).digest(),v:L=o(b,T).update(L).digest()}}function f(g,w){var v=new c(g),b=(g.length<<3)-w.bitLength();return b>0&&v.ishrn(b),v}function p(g,w,v){var b,E;do{for(b=s.alloc(0);8*b.length<g.bitLength();)w.v=o(v,w.k).update(w.v).digest(),b=s.concat([b,w.v]);E=f(b,g),w.k=o(v,w.k).update(w.v).update(s.from([0])).digest(),w.v=o(v,w.k).update(w.v).digest()}while(E.cmp(g)!==-1);return E}function m(g,w,v,b){return g.toRed(c.mont(v)).redPow(w).fromRed().mod(b)}n.exports=function(g,w,v,b,E){var P=u(w);if(P.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(B,H){var G=h[H.curve.join(".")];if(!G)throw new Error("unknown curve "+H.curve.join("."));var D=new l(G).keyFromPrivate(H.privateKey).sign(B);return s.from(D.toDER())}(g,P)}if(P.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(B,H,G){for(var D,k=H.params.priv_key,M=H.params.p,R=H.params.q,y=H.params.g,S=new c(0),C=f(B,R).mod(R),x=!1,F=d(k,R,B,G);x===!1;)D=p(R,F,G),S=m(y,D,M,R),(x=D.invm(R).imul(C.add(k.mul(S))).mod(R)).cmpn(0)===0&&(x=!1,S=new c(0));return function(O,N){O=O.toArray(),N=N.toArray(),128&O[0]&&(O=[0].concat(O)),128&N[0]&&(N=[0].concat(N));var j=[48,O.length+N.length+4,2,O.length];return j=j.concat(O,[2,N.length],N),s.from(j)}(S,x)}(g,P,v)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");g=s.concat([E,g]);for(var A=P.modulus.byteLength(),L=[0,1];g.length+L.length+1<A;)L.push(255);L.push(0);for(var T=-1;++T<g.length;)L.push(g[T]);return a(L,P)},n.exports.getKey=d,n.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("bn.js"),a=r("elliptic").ec,l=r("parse-asn1"),c=r("./curves.json");function u(h,d){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(h,d,f,p,m){var g=l(f);if(g.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(L,T,B){var H=c[B.data.algorithm.curve.join(".")];if(!H)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var G=new a(H),D=B.data.subjectPrivateKey.data;return G.verify(T,L,D)}(h,d,g)}if(g.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(L,T,B){var H=B.data.p,G=B.data.q,D=B.data.g,k=B.data.pub_key,M=l.signature.decode(L,"der"),R=M.s,y=M.r;u(R,G),u(y,G);var S=o.mont(H),C=R.invm(G);return D.toRed(S).redPow(new o(T).mul(C).mod(G)).fromRed().mul(k.toRed(S).redPow(y.mul(C).mod(G)).fromRed()).mod(H).mod(G).cmp(y)===0}(h,d,g)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");d=s.concat([m,d]);for(var w=g.modulus.byteLength(),v=[1],b=0;d.length+v.length+2<w;)v.push(255),b++;v.push(0);for(var E=-1;++E<d.length;)v.push(d[E]);v=s.from(v);var P=o.mont(g.modulus);h=(h=new o(h).toRed(P)).redPow(new o(g.publicExponent)),h=s.from(h.fromRed().toArray());var A=b<8?1:0;for(w=Math.min(h.length,v.length),h.length!==v.length&&(A=1),E=-1;++E<w;)A|=h[E]^v[E];return A===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,i){},{}],217:[function(r,n,i){var s=r("buffer"),o=s.Buffer;function a(c,u){for(var h in c)u[h]=c[h]}function l(c,u,h){return o(c,u,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),a(o,l),l.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,h)},l.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=o(c);return u!==void 0?typeof h=="string"?d.fill(u,h):d.fill(u):d.fill(0),d},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],218:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(g){var w;switch(this.encoding=function(v){var b=function(E){if(!E)return"utf8";for(var P;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(P)return;E=(""+E).toLowerCase(),P=!0}}(v);if(typeof b!="string"&&(s.isEncoding===o||!o(v)))throw new Error("Unknown encoding: "+v);return b||v}(g),this.encoding){case"utf16le":this.text=u,this.end=h,w=4;break;case"utf8":this.fillLast=c,w=4;break;case"base64":this.text=d,this.end=f,w=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(w)}function l(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function c(g){var w=this.lastTotal-this.lastNeed,v=function(b,E,P){if((192&E[0])!=128)return b.lastNeed=0,"�";if(b.lastNeed>1&&E.length>1){if((192&E[1])!=128)return b.lastNeed=1,"�";if(b.lastNeed>2&&E.length>2&&(192&E[2])!=128)return b.lastNeed=2,"�"}}(this,g);return v!==void 0?v:this.lastNeed<=g.length?(g.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,w,0,g.length),void(this.lastNeed-=g.length))}function u(g,w){if((g.length-w)%2==0){var v=g.toString("utf16le",w);if(v){var b=v.charCodeAt(v.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",w,g.length-1)}function h(g){var w=g&&g.length?this.write(g):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,v)}return w}function d(g,w){var v=(g.length-w)%3;return v===0?g.toString("base64",w):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",w,g.length-v))}function f(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function p(g){return g.toString(this.encoding)}function m(g){return g&&g.length?this.write(g):""}i.StringDecoder=a,a.prototype.write=function(g){if(g.length===0)return"";var w,v;if(this.lastNeed){if((w=this.fillLast(g))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<g.length?w?w+this.text(g,v):this.text(g,v):w||""},a.prototype.end=function(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+"�":w},a.prototype.text=function(g,w){var v=function(E,P,A){var L=P.length-1;if(L<A)return 0;var T=l(P[L]);return T>=0?(T>0&&(E.lastNeed=T-1),T):--L<A||T===-2?0:(T=l(P[L]))>=0?(T>0&&(E.lastNeed=T-2),T):--L<A||T===-2?0:(T=l(P[L]))>=0?(T>0&&(T===2?T=0:E.lastNeed=T-3),T):0}(this,g,w);if(!this.lastNeed)return g.toString("utf8",w);this.lastTotal=v;var b=g.length-(v-this.lastNeed);return g.copy(this.lastChar,0,b),g.toString("utf8",w,b)},a.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(r,n,i){(function(s){(function(){n.exports=function(o,a){for(var l=Math.min(o.length,a.length),c=new s(l),u=0;u<l;++u)c[u]=o[u]^a[u];return c}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,i){(function(s){(function(){var o=r("base64-js"),a=r("ieee754");i.Buffer=c,i.SlowBuffer=function(I){return+I!=I&&(I=0),c.alloc(+I)},i.INSPECT_MAX_BYTES=50;function l(I){if(I>2147483647)throw new RangeError('The value "'+I+'" is invalid for option "size"');var _=new Uint8Array(I);return _.__proto__=c.prototype,_}function c(I,_,z){if(typeof I=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(I)}return u(I,_,z)}function u(I,_,z){if(typeof I=="string")return function(X,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!c.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var ne=0|m(X,Z),ie=l(ne),Y=ie.write(X,Z);return Y!==ne&&(ie=ie.slice(0,Y)),ie}(I,_);if(ArrayBuffer.isView(I))return f(I);if(I==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(V(I,ArrayBuffer)||I&&V(I.buffer,ArrayBuffer))return function(X,Z,ne){if(Z<0||X.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<Z+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return ie=Z===void 0&&ne===void 0?new Uint8Array(X):ne===void 0?new Uint8Array(X,Z):new Uint8Array(X,Z,ne),ie.__proto__=c.prototype,ie}(I,_,z);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var K=I.valueOf&&I.valueOf();if(K!=null&&K!==I)return c.from(K,_,z);var Q=function(X){if(c.isBuffer(X)){var Z=0|p(X.length),ne=l(Z);return ne.length===0||X.copy(ne,0,0,Z),ne}if(X.length!==void 0)return typeof X.length!="number"||$(X.length)?l(0):f(X);if(X.type==="Buffer"&&Array.isArray(X.data))return f(X.data)}(I);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return c.from(I[Symbol.toPrimitive]("string"),_,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function h(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function d(I){return h(I),l(I<0?0:0|p(I))}function f(I){for(var _=I.length<0?0:0|p(I.length),z=l(_),K=0;K<_;K+=1)z[K]=255&I[K];return z}function p(I){if(I>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|I}function m(I,_){if(c.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||V(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var z=I.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&z===0)return 0;for(var Q=!1;;)switch(_){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return j(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return W(I).length;default:if(Q)return K?-1:j(I).length;_=(""+_).toLowerCase(),Q=!0}}function g(I,_,z){var K=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(_>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return M(this,_,z);case"utf8":case"utf-8":return G(this,_,z);case"ascii":return D(this,_,z);case"latin1":case"binary":return k(this,_,z);case"base64":return H(this,_,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,_,z);default:if(K)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),K=!0}}function w(I,_,z){var K=I[_];I[_]=I[z],I[z]=K}function v(I,_,z,K,Q){if(I.length===0)return-1;if(typeof z=="string"?(K=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),$(z=+z)&&(z=Q?0:I.length-1),z<0&&(z=I.length+z),z>=I.length){if(Q)return-1;z=I.length-1}else if(z<0){if(!Q)return-1;z=0}if(typeof _=="string"&&(_=c.from(_,K)),c.isBuffer(_))return _.length===0?-1:b(I,_,z,K,Q);if(typeof _=="number")return _&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(I,_,z):Uint8Array.prototype.lastIndexOf.call(I,_,z):b(I,[_],z,K,Q);throw new TypeError("val must be string, number or Buffer")}function b(I,_,z,K,Q){var X,Z=1,ne=I.length,ie=_.length;if(K!==void 0&&((K=String(K).toLowerCase())==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(I.length<2||_.length<2)return-1;Z=2,ne/=2,ie/=2,z/=2}function Y(oe,le){return Z===1?oe[le]:oe.readUInt16BE(le*Z)}if(Q){var te=-1;for(X=z;X<ne;X++)if(Y(I,X)===Y(_,te===-1?0:X-te)){if(te===-1&&(te=X),X-te+1===ie)return te*Z}else te!==-1&&(X-=X-te),te=-1}else for(z+ie>ne&&(z=ne-ie),X=z;X>=0;X--){for(var re=!0,ae=0;ae<ie;ae++)if(Y(I,X+ae)!==Y(_,ae)){re=!1;break}if(re)return X}return-1}function E(I,_,z,K){z=Number(z)||0;var Q=I.length-z;K?(K=Number(K))>Q&&(K=Q):K=Q;var X=_.length;K>X/2&&(K=X/2);for(var Z=0;Z<K;++Z){var ne=parseInt(_.substr(2*Z,2),16);if($(ne))return Z;I[z+Z]=ne}return Z}function P(I,_,z,K){return q(j(_,I.length-z),I,z,K)}function A(I,_,z,K){return q(function(Q){for(var X=[],Z=0;Z<Q.length;++Z)X.push(255&Q.charCodeAt(Z));return X}(_),I,z,K)}function L(I,_,z,K){return A(I,_,z,K)}function T(I,_,z,K){return q(W(_),I,z,K)}function B(I,_,z,K){return q(function(Q,X){for(var Z,ne,ie,Y=[],te=0;te<Q.length&&!((X-=2)<0);++te)Z=Q.charCodeAt(te),ne=Z>>8,ie=Z%256,Y.push(ie),Y.push(ne);return Y}(_,I.length-z),I,z,K)}function H(I,_,z){return _===0&&z===I.length?o.fromByteArray(I):o.fromByteArray(I.slice(_,z))}function G(I,_,z){z=Math.min(I.length,z);for(var K=[],Q=_;Q<z;){var X,Z,ne,ie,Y=I[Q],te=null,re=Y>239?4:Y>223?3:Y>191?2:1;if(Q+re<=z)switch(re){case 1:Y<128&&(te=Y);break;case 2:(192&(X=I[Q+1]))==128&&(ie=(31&Y)<<6|63&X)>127&&(te=ie);break;case 3:X=I[Q+1],Z=I[Q+2],(192&X)==128&&(192&Z)==128&&(ie=(15&Y)<<12|(63&X)<<6|63&Z)>2047&&(ie<55296||ie>57343)&&(te=ie);break;case 4:X=I[Q+1],Z=I[Q+2],ne=I[Q+3],(192&X)==128&&(192&Z)==128&&(192&ne)==128&&(ie=(15&Y)<<18|(63&X)<<12|(63&Z)<<6|63&ne)>65535&&ie<1114112&&(te=ie)}te===null?(te=65533,re=1):te>65535&&(te-=65536,K.push(te>>>10&1023|55296),te=56320|1023&te),K.push(te),Q+=re}return function(ae){var oe=ae.length;if(oe<=4096)return String.fromCharCode.apply(String,ae);for(var le="",he=0;he<oe;)le+=String.fromCharCode.apply(String,ae.slice(he,he+=4096));return le}(K)}i.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(I,_,z){return u(I,_,z)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(I,_,z){return function(K,Q,X){return h(K),K<=0?l(K):Q!==void 0?typeof X=="string"?l(K).fill(Q,X):l(K).fill(Q):l(K)}(I,_,z)},c.allocUnsafe=function(I){return d(I)},c.allocUnsafeSlow=function(I){return d(I)},c.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==c.prototype},c.compare=function(I,_){if(V(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),V(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),!c.isBuffer(I)||!c.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===_)return 0;for(var z=I.length,K=_.length,Q=0,X=Math.min(z,K);Q<X;++Q)if(I[Q]!==_[Q]){z=I[Q],K=_[Q];break}return z<K?-1:K<z?1:0},c.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(I,_){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return c.alloc(0);var z;if(_===void 0)for(_=0,z=0;z<I.length;++z)_+=I[z].length;var K=c.allocUnsafe(_),Q=0;for(z=0;z<I.length;++z){var X=I[z];if(V(X,Uint8Array)&&(X=c.from(X)),!c.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(K,Q),Q+=X.length}return K},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<I;_+=2)w(this,_,_+1);return this},c.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<I;_+=4)w(this,_,_+3),w(this,_+1,_+2);return this},c.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<I;_+=8)w(this,_,_+7),w(this,_+1,_+6),w(this,_+2,_+5),w(this,_+3,_+4);return this},c.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?G(this,0,I):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(I){if(!c.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||c.compare(this,I)===0},c.prototype.inspect=function(){var I="",_=i.INSPECT_MAX_BYTES;return I=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(I+=" ... "),"<Buffer "+I+">"},c.prototype.compare=function(I,_,z,K,Q){if(V(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),!c.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(_===void 0&&(_=0),z===void 0&&(z=I?I.length:0),K===void 0&&(K=0),Q===void 0&&(Q=this.length),_<0||z>I.length||K<0||Q>this.length)throw new RangeError("out of range index");if(K>=Q&&_>=z)return 0;if(K>=Q)return-1;if(_>=z)return 1;if(this===I)return 0;for(var X=(Q>>>=0)-(K>>>=0),Z=(z>>>=0)-(_>>>=0),ne=Math.min(X,Z),ie=this.slice(K,Q),Y=I.slice(_,z),te=0;te<ne;++te)if(ie[te]!==Y[te]){X=ie[te],Z=Y[te];break}return X<Z?-1:Z<X?1:0},c.prototype.includes=function(I,_,z){return this.indexOf(I,_,z)!==-1},c.prototype.indexOf=function(I,_,z){return v(this,I,_,z,!0)},c.prototype.lastIndexOf=function(I,_,z){return v(this,I,_,z,!1)},c.prototype.write=function(I,_,z,K){if(_===void 0)K="utf8",z=this.length,_=0;else if(z===void 0&&typeof _=="string")K=_,z=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_>>>=0,isFinite(z)?(z>>>=0,K===void 0&&(K="utf8")):(K=z,z=void 0)}var Q=this.length-_;if((z===void 0||z>Q)&&(z=Q),I.length>0&&(z<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");for(var X=!1;;)switch(K){case"hex":return E(this,I,_,z);case"utf8":case"utf-8":return P(this,I,_,z);case"ascii":return A(this,I,_,z);case"latin1":case"binary":return L(this,I,_,z);case"base64":return T(this,I,_,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,I,_,z);default:if(X)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),X=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(I,_,z){var K="";z=Math.min(I.length,z);for(var Q=_;Q<z;++Q)K+=String.fromCharCode(127&I[Q]);return K}function k(I,_,z){var K="";z=Math.min(I.length,z);for(var Q=_;Q<z;++Q)K+=String.fromCharCode(I[Q]);return K}function M(I,_,z){var K=I.length;(!_||_<0)&&(_=0),(!z||z<0||z>K)&&(z=K);for(var Q="",X=_;X<z;++X)Q+=N(I[X]);return Q}function R(I,_,z){for(var K=I.slice(_,z),Q="",X=0;X<K.length;X+=2)Q+=String.fromCharCode(K[X]+256*K[X+1]);return Q}function y(I,_,z){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+_>z)throw new RangeError("Trying to access beyond buffer length")}function S(I,_,z,K,Q,X){if(!c.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>Q||_<X)throw new RangeError('"value" argument is out of bounds');if(z+K>I.length)throw new RangeError("Index out of range")}function C(I,_,z,K,Q,X){if(z+K>I.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function x(I,_,z,K,Q){return _=+_,z>>>=0,Q||C(I,0,z,4),a.write(I,_,z,K,23,4),z+4}function F(I,_,z,K,Q){return _=+_,z>>>=0,Q||C(I,0,z,8),a.write(I,_,z,K,52,8),z+8}c.prototype.slice=function(I,_){var z=this.length;(I=~~I)<0?(I+=z)<0&&(I=0):I>z&&(I=z),(_=_===void 0?z:~~_)<0?(_+=z)<0&&(_=0):_>z&&(_=z),_<I&&(_=I);var K=this.subarray(I,_);return K.__proto__=c.prototype,K},c.prototype.readUIntLE=function(I,_,z){I>>>=0,_>>>=0,z||y(I,_,this.length);for(var K=this[I],Q=1,X=0;++X<_&&(Q*=256);)K+=this[I+X]*Q;return K},c.prototype.readUIntBE=function(I,_,z){I>>>=0,_>>>=0,z||y(I,_,this.length);for(var K=this[I+--_],Q=1;_>0&&(Q*=256);)K+=this[I+--_]*Q;return K},c.prototype.readUInt8=function(I,_){return I>>>=0,_||y(I,1,this.length),this[I]},c.prototype.readUInt16LE=function(I,_){return I>>>=0,_||y(I,2,this.length),this[I]|this[I+1]<<8},c.prototype.readUInt16BE=function(I,_){return I>>>=0,_||y(I,2,this.length),this[I]<<8|this[I+1]},c.prototype.readUInt32LE=function(I,_){return I>>>=0,_||y(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},c.prototype.readUInt32BE=function(I,_){return I>>>=0,_||y(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},c.prototype.readIntLE=function(I,_,z){I>>>=0,_>>>=0,z||y(I,_,this.length);for(var K=this[I],Q=1,X=0;++X<_&&(Q*=256);)K+=this[I+X]*Q;return K>=(Q*=128)&&(K-=Math.pow(2,8*_)),K},c.prototype.readIntBE=function(I,_,z){I>>>=0,_>>>=0,z||y(I,_,this.length);for(var K=_,Q=1,X=this[I+--K];K>0&&(Q*=256);)X+=this[I+--K]*Q;return X>=(Q*=128)&&(X-=Math.pow(2,8*_)),X},c.prototype.readInt8=function(I,_){return I>>>=0,_||y(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},c.prototype.readInt16LE=function(I,_){I>>>=0,_||y(I,2,this.length);var z=this[I]|this[I+1]<<8;return 32768&z?4294901760|z:z},c.prototype.readInt16BE=function(I,_){I>>>=0,_||y(I,2,this.length);var z=this[I+1]|this[I]<<8;return 32768&z?4294901760|z:z},c.prototype.readInt32LE=function(I,_){return I>>>=0,_||y(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},c.prototype.readInt32BE=function(I,_){return I>>>=0,_||y(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},c.prototype.readFloatLE=function(I,_){return I>>>=0,_||y(I,4,this.length),a.read(this,I,!0,23,4)},c.prototype.readFloatBE=function(I,_){return I>>>=0,_||y(I,4,this.length),a.read(this,I,!1,23,4)},c.prototype.readDoubleLE=function(I,_){return I>>>=0,_||y(I,8,this.length),a.read(this,I,!0,52,8)},c.prototype.readDoubleBE=function(I,_){return I>>>=0,_||y(I,8,this.length),a.read(this,I,!1,52,8)},c.prototype.writeUIntLE=function(I,_,z,K){I=+I,_>>>=0,z>>>=0,K||S(this,I,_,z,Math.pow(2,8*z)-1,0);var Q=1,X=0;for(this[_]=255&I;++X<z&&(Q*=256);)this[_+X]=I/Q&255;return _+z},c.prototype.writeUIntBE=function(I,_,z,K){I=+I,_>>>=0,z>>>=0,K||S(this,I,_,z,Math.pow(2,8*z)-1,0);var Q=z-1,X=1;for(this[_+Q]=255&I;--Q>=0&&(X*=256);)this[_+Q]=I/X&255;return _+z},c.prototype.writeUInt8=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,1,255,0),this[_]=255&I,_+1},c.prototype.writeUInt16LE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,2,65535,0),this[_]=255&I,this[_+1]=I>>>8,_+2},c.prototype.writeUInt16BE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,2,65535,0),this[_]=I>>>8,this[_+1]=255&I,_+2},c.prototype.writeUInt32LE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,4,4294967295,0),this[_+3]=I>>>24,this[_+2]=I>>>16,this[_+1]=I>>>8,this[_]=255&I,_+4},c.prototype.writeUInt32BE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,4,4294967295,0),this[_]=I>>>24,this[_+1]=I>>>16,this[_+2]=I>>>8,this[_+3]=255&I,_+4},c.prototype.writeIntLE=function(I,_,z,K){if(I=+I,_>>>=0,!K){var Q=Math.pow(2,8*z-1);S(this,I,_,z,Q-1,-Q)}var X=0,Z=1,ne=0;for(this[_]=255&I;++X<z&&(Z*=256);)I<0&&ne===0&&this[_+X-1]!==0&&(ne=1),this[_+X]=(I/Z>>0)-ne&255;return _+z},c.prototype.writeIntBE=function(I,_,z,K){if(I=+I,_>>>=0,!K){var Q=Math.pow(2,8*z-1);S(this,I,_,z,Q-1,-Q)}var X=z-1,Z=1,ne=0;for(this[_+X]=255&I;--X>=0&&(Z*=256);)I<0&&ne===0&&this[_+X+1]!==0&&(ne=1),this[_+X]=(I/Z>>0)-ne&255;return _+z},c.prototype.writeInt8=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,1,127,-128),I<0&&(I=255+I+1),this[_]=255&I,_+1},c.prototype.writeInt16LE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,2,32767,-32768),this[_]=255&I,this[_+1]=I>>>8,_+2},c.prototype.writeInt16BE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,2,32767,-32768),this[_]=I>>>8,this[_+1]=255&I,_+2},c.prototype.writeInt32LE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,4,2147483647,-2147483648),this[_]=255&I,this[_+1]=I>>>8,this[_+2]=I>>>16,this[_+3]=I>>>24,_+4},c.prototype.writeInt32BE=function(I,_,z){return I=+I,_>>>=0,z||S(this,I,_,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[_]=I>>>24,this[_+1]=I>>>16,this[_+2]=I>>>8,this[_+3]=255&I,_+4},c.prototype.writeFloatLE=function(I,_,z){return x(this,I,_,!0,z)},c.prototype.writeFloatBE=function(I,_,z){return x(this,I,_,!1,z)},c.prototype.writeDoubleLE=function(I,_,z){return F(this,I,_,!0,z)},c.prototype.writeDoubleBE=function(I,_,z){return F(this,I,_,!1,z)},c.prototype.copy=function(I,_,z,K){if(!c.isBuffer(I))throw new TypeError("argument should be a Buffer");if(z||(z=0),K||K===0||(K=this.length),_>=I.length&&(_=I.length),_||(_=0),K>0&&K<z&&(K=z),K===z||I.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),I.length-_<K-z&&(K=I.length-_+z);var Q=K-z;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(_,z,K);else if(this===I&&z<_&&_<K)for(var X=Q-1;X>=0;--X)I[X+_]=this[X+z];else Uint8Array.prototype.set.call(I,this.subarray(z,K),_);return Q},c.prototype.fill=function(I,_,z,K){if(typeof I=="string"){if(typeof _=="string"?(K=_,_=0,z=this.length):typeof z=="string"&&(K=z,z=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!c.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(I.length===1){var Q=I.charCodeAt(0);(K==="utf8"&&Q<128||K==="latin1")&&(I=Q)}}else typeof I=="number"&&(I&=255);if(_<0||this.length<_||this.length<z)throw new RangeError("Out of range index");if(z<=_)return this;var X;if(_>>>=0,z=z===void 0?this.length:z>>>0,I||(I=0),typeof I=="number")for(X=_;X<z;++X)this[X]=I;else{var Z=c.isBuffer(I)?I:c.from(I,K),ne=Z.length;if(ne===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(X=0;X<z-_;++X)this[X+_]=Z[X%ne]}return this};var O=/[^+/0-9A-Za-z-_]/g;function N(I){return I<16?"0"+I.toString(16):I.toString(16)}function j(I,_){var z;_=_||1/0;for(var K=I.length,Q=null,X=[],Z=0;Z<K;++Z){if((z=I.charCodeAt(Z))>55295&&z<57344){if(!Q){if(z>56319){(_-=3)>-1&&X.push(239,191,189);continue}if(Z+1===K){(_-=3)>-1&&X.push(239,191,189);continue}Q=z;continue}if(z<56320){(_-=3)>-1&&X.push(239,191,189),Q=z;continue}z=65536+(Q-55296<<10|z-56320)}else Q&&(_-=3)>-1&&X.push(239,191,189);if(Q=null,z<128){if((_-=1)<0)break;X.push(z)}else if(z<2048){if((_-=2)<0)break;X.push(z>>6|192,63&z|128)}else if(z<65536){if((_-=3)<0)break;X.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;X.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return X}function W(I){return o.toByteArray(function(_){if((_=(_=_.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(I))}function q(I,_,z,K){for(var Q=0;Q<K&&!(Q+z>=_.length||Q>=I.length);++Q)_[Q+z]=I[Q];return Q}function V(I,_){return I instanceof _||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===_.name}function $(I){return I!=I}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("stream").Transform,a=r("string_decoder").StringDecoder;function l(c){o.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,o),l.prototype.update=function(c,u,h){typeof c=="string"&&(c=s.from(c,u));var d=this._update(c);return this.hashMode?this:(h&&(d=this._toString(d,h)),d)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(c,u,h){var d;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(f){d=f}finally{h(d)}},l.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(h){u=h}c(u)},l.prototype._finalOrDigest=function(c){var u=this.__final()||s.alloc(0);return c&&(u=this._toString(u,c,!0)),u},l.prototype._toString=function(c,u,h){if(this._decoder||(this._decoder=new a(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var d=this._decoder.write(c);return h&&(d+=this._decoder.end()),d},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,i){var s=r("../internals/is-constructor"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,i){var s=r("../internals/is-callable"),o=String,a=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new a("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/object-create"),a=r("../internals/object-define-property").f,l=s("unscopables"),c=Array.prototype;c[l]===void 0&&a(c,l,{configurable:!0,value:o(null)}),n.exports=function(u){c[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,i){var s=r("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(a,l){if(s(l,a))return a;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,i){var s=r("../internals/is-object"),o=String,a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),l=function(c){return function(u,h,d){var f,p=s(u),m=a(p),g=o(d,m);if(c&&h!=h){for(;m>g;)if((f=p[g++])!=f)return!0}else for(;m>g;g++)if((c||g in p)&&p[g]===h)return c||g||0;return!c&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-uncurry-this"),a=r("../internals/indexed-object"),l=r("../internals/to-object"),c=r("../internals/length-of-array-like"),u=r("../internals/array-species-create"),h=o([].push),d=function(f){var p=f===1,m=f===2,g=f===3,w=f===4,v=f===6,b=f===7,E=f===5||v;return function(P,A,L,T){for(var B,H,G=l(P),D=a(G),k=s(A,L),M=c(D),R=0,y=T||u,S=p?y(P,M):m||b?y(P,0):void 0;M>R;R++)if((E||R in D)&&(H=k(B=D[R],R,G),f))if(p)S[R]=H;else if(H)switch(f){case 3:return!0;case 5:return B;case 6:return R;case 2:h(S,B)}else switch(f){case 4:return!1;case 7:h(S,B)}return v?-1:g||w?w:S}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,i){var s=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),a=r("../internals/create-property"),l=Array,c=Math.max;n.exports=function(u,h,d){for(var f=o(u),p=s(h,f),m=s(d===void 0?f:d,f),g=l(c(m-p,0)),w=0;p<m;p++,w++)a(g,w,u[p]);return g.length=w,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,i){var s=r("../internals/is-array"),o=r("../internals/is-constructor"),a=r("../internals/is-object"),l=r("../internals/well-known-symbol")("species"),c=Array;n.exports=function(u){var h;return s(u)&&(h=u.constructor,(o(h)&&(h===c||s(h.prototype))||a(h)&&(h=h[l])===null)&&(h=void 0)),h===void 0?c:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,i){var s=r("../internals/array-species-constructor");n.exports=function(o,a){return new(s(o))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(r,n,i){var s=r("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,l={next:function(){return{done:!!a++}},return:function(){o=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(c,u){try{if(!u&&!o)return!1}catch{return!1}var h=!1;try{var d={};d[s]=function(){return{next:function(){return{done:h=!0}}}},c(d)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=s({}.toString),a=s("".slice);n.exports=function(l){return a(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,i){var s=r("../internals/to-string-tag-support"),o=r("../internals/is-callable"),a=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),c=Object,u=a(function(){return arguments}())==="Arguments";n.exports=s?a:function(h){var d,f,p;return h===void 0?"Undefined":h===null?"Null":typeof(f=function(m,g){try{return m[g]}catch{}}(d=c(h),l))=="string"?f:u?a(d):(p=a(d))==="Object"&&o(d.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/own-keys"),a=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(c,u,h){for(var d=o(u),f=l.f,p=a.f,m=0;m<d.length;m++){var g=d[m];s(c,g)||h&&s(h,g)||f(c,g,p(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,i){var s=r("../internals/well-known-symbol")("match");n.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[s]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(r,n,i){n.exports=function(s,o){return{value:s,done:o}}},{}],241:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=s?function(l,c,u){return o.f(l,c,a(1,u))}:function(l,c,u){return l[c]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,i){n.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},{}],243:[function(r,n,i){var s=r("../internals/to-property-key"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=function(l,c,u){var h=s(c);h in l?o.f(l,h,a(0,u)):l[h]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,i){var s=r("../internals/make-built-in"),o=r("../internals/object-define-property");n.exports=function(a,l,c){return c.get&&s(c.get,l,{getter:!0}),c.set&&s(c.set,l,{setter:!0}),o.f(a,l,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/object-define-property"),a=r("../internals/make-built-in"),l=r("../internals/define-global-property");n.exports=function(c,u,h,d){d||(d={});var f=d.enumerable,p=d.name!==void 0?d.name:u;if(s(h)&&a(h,p,d),d.global)f?c[u]=h:l(u,h);else{try{d.unsafe?c[u]&&(f=!0):delete c[u]}catch{}f?c[u]=h:o.f(c,u,{value:h,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,i){var s=r("../internals/global"),o=Object.defineProperty;n.exports=function(a,l){try{o(s,a,{value:l,configurable:!0,writable:!0})}catch{s[a]=l}return l}},{"../internals/global":274}],247:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,n,i){var s=typeof document=="object"&&document.all,o=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:o}},{}],249:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-object"),a=s.document,l=o(a)&&o(a.createElement);n.exports=function(c){return l?a.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,i){var s=r("../internals/engine-is-deno"),o=r("../internals/engine-is-node");n.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/classof-raw");n.exports=o(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(r,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,i){var s,o,a=r("../internals/global"),l=r("../internals/engine-user-agent"),c=a.process,u=a.Deno,h=c&&c.versions||u&&u.version,d=h&&h.v8;d&&(o=(s=d.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(o=+s[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/create-non-enumerable-property"),l=r("../internals/define-built-in"),c=r("../internals/define-global-property"),u=r("../internals/copy-constructor-properties"),h=r("../internals/is-forced");n.exports=function(d,f){var p,m,g,w,v,b=d.target,E=d.global,P=d.stat;if(p=E?s:P?s[b]||c(b,{}):(s[b]||{}).prototype)for(m in f){if(w=f[m],g=d.dontCallGetSet?(v=o(p,m))&&v.value:p[m],!h(E?m:b+(P?".":"#")+m,d.forced)&&g!==void 0){if(typeof w==typeof g)continue;u(w,g)}(d.sham||g&&g.sham)&&a(w,"sham",!0),l(p,m,w,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.apply,l=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(a):function(){return l.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,i){var s=r("../internals/function-uncurry-this-clause"),o=r("../internals/a-callable"),a=r("../internals/function-bind-native"),l=s(s.bind);n.exports=function(c,u){return o(c),u===void 0?c:a?l(c,u):function(){return c.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){var o=function(){}.bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype.call;n.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/has-own-property"),a=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,c=o(a,"name"),u=c&&function(){}.name==="something",h=c&&(!s||s&&l(a,"name").configurable);n.exports={EXISTS:c,PROPER:u,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/a-callable");n.exports=function(a,l,c){try{return s(o(Object.getOwnPropertyDescriptor(a,l)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/function-uncurry-this");n.exports=function(a){if(s(a)==="Function")return o(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.call,l=s&&o.bind.bind(a,a);n.exports=s?l:function(c){return function(){return a.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=function(l){return o(l)?l:void 0};n.exports=function(l,c){return arguments.length<2?a(s[l]):s[l]&&s[l][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,i){var s=r("../internals/classof"),o=r("../internals/get-method"),a=r("../internals/is-null-or-undefined"),l=r("../internals/iterators"),c=r("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!a(u))return o(u,c)||o(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/a-callable"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/get-iterator-method"),u=TypeError;n.exports=function(h,d){var f=arguments.length<2?c(h):d;if(o(f))return a(s(f,h));throw new u(l(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-array"),a=r("../internals/is-callable"),l=r("../internals/classof-raw"),c=r("../internals/to-string"),u=s([].push);n.exports=function(h){if(a(h))return h;if(o(h)){for(var d=h.length,f=[],p=0;p<d;p++){var m=h[p];typeof m=="string"?u(f,m):typeof m!="number"&&l(m)!=="Number"&&l(m)!=="String"||u(f,c(m))}var g=f.length,w=!0;return function(v,b){if(w)return w=!1,b;if(o(this))return b;for(var E=0;E<g;E++)if(f[E]===v)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,i){var s=r("../internals/a-callable"),o=r("../internals/is-null-or-undefined");n.exports=function(a,l){var c=a[l];return o(c)?void 0:s(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,i){(function(s){(function(){var o=function(a){return a&&a.Math===Math&&a};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/to-object"),a=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,c){return a(o(l),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,i){n.exports={}},{}],277:[function(r,n,i){n.exports=function(s,o){try{arguments.length===1?console.error(s):console.error(s,o)}catch{}}},{}],278:[function(r,n,i){var s=r("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/document-create-element");n.exports=!s&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/classof-raw"),l=Object,c=s("".split);n.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return a(u)==="String"?c(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-callable"),a=r("../internals/shared-store"),l=s(Function.toString);o(a.inspectSource)||(a.inspectSource=function(c){return l(c)}),n.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,i){var s,o,a,l=r("../internals/weak-map-basic-detection"),c=r("../internals/global"),u=r("../internals/is-object"),h=r("../internals/create-non-enumerable-property"),d=r("../internals/has-own-property"),f=r("../internals/shared-store"),p=r("../internals/shared-key"),m=r("../internals/hidden-keys"),g=c.TypeError,w=c.WeakMap;if(l||f.state){var v=f.state||(f.state=new w);v.get=v.get,v.has=v.has,v.set=v.set,s=function(E,P){if(v.has(E))throw new g("Object already initialized");return P.facade=E,v.set(E,P),P},o=function(E){return v.get(E)||{}},a=function(E){return v.has(E)}}else{var b=p("state");m[b]=!0,s=function(E,P){if(d(E,b))throw new g("Object already initialized");return P.facade=E,h(E,b,P),P},o=function(E){return d(E,b)?E[b]:{}},a=function(E){return d(E,b)}}n.exports={set:s,get:o,has:a,enforce:function(E){return a(E)?o(E):s(E,{})},getterFor:function(E){return function(P){var A;if(!u(P)||(A=o(P)).type!==E)throw new g("Incompatible receiver, "+E+" required");return A}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/iterators"),a=s("iterator"),l=Array.prototype;n.exports=function(c){return c!==void 0&&(o.Array===c||l[a]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,i){var s=r("../internals/classof-raw");n.exports=Array.isArray||function(o){return s(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,i){var s=r("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(a){return typeof a=="function"||a===o}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/classof"),c=r("../internals/get-built-in"),u=r("../internals/inspect-source"),h=function(){},d=[],f=c("Reflect","construct"),p=/^\s*(?:class|function)\b/,m=s(p.exec),g=!p.test(h),w=function(b){if(!a(b))return!1;try{return f(h,d,b),!0}catch{return!1}},v=function(b){if(!a(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!m(p,u(b))}catch{return!0}};v.sham=!0,n.exports=!f||o(function(){var b;return w(w.call)||!w(Object)||!w(function(){b=!0})||b})?v:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,i){var s=r("../internals/fails"),o=r("../internals/is-callable"),a=/#|\.prototype\./,l=function(f,p){var m=u[c(f)];return m===d||m!==h&&(o(p)?s(p):!!p)},c=l.normalize=function(f){return String(f).replace(a,".").toLowerCase()},u=l.data={},h=l.NATIVE="N",d=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,i){n.exports=function(s){return s==null}},{}],289:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/document-all"),a=o.all;n.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===a}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,i){n.exports=!1},{}],291:[function(r,n,i){var s=r("../internals/is-object"),o=r("../internals/classof-raw"),a=r("../internals/well-known-symbol")("match");n.exports=function(l){var c;return s(l)&&((c=l[a])!==void 0?!!c:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/is-callable"),a=r("../internals/object-is-prototype-of"),l=r("../internals/use-symbol-as-uid"),c=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var h=s("Symbol");return o(h)&&a(h.prototype,c(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-call"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/is-array-iterator-method"),u=r("../internals/length-of-array-like"),h=r("../internals/object-is-prototype-of"),d=r("../internals/get-iterator"),f=r("../internals/get-iterator-method"),p=r("../internals/iterator-close"),m=TypeError,g=function(v,b){this.stopped=v,this.result=b},w=g.prototype;n.exports=function(v,b,E){var P,A,L,T,B,H,G,D=E&&E.that,k=!(!E||!E.AS_ENTRIES),M=!(!E||!E.IS_RECORD),R=!(!E||!E.IS_ITERATOR),y=!(!E||!E.INTERRUPTED),S=s(b,D),C=function(F){return P&&p(P,"normal",F),new g(!0,F)},x=function(F){return k?(a(F),y?S(F[0],F[1],C):S(F[0],F[1])):y?S(F,C):S(F)};if(M)P=v.iterator;else if(R)P=v;else{if(!(A=f(v)))throw new m(l(v)+" is not iterable");if(c(A)){for(L=0,T=u(v);T>L;L++)if((B=x(v[L]))&&h(w,B))return B;return new g(!1)}P=d(v,A)}for(H=M?v.next:P.next;!(G=o(H,P)).done;){try{B=x(G.value)}catch(F){p(P,"throw",F)}if(typeof B=="object"&&B&&h(w,B))return B}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/an-object"),a=r("../internals/get-method");n.exports=function(l,c,u){var h,d;o(l);try{if(!(h=a(l,"return"))){if(c==="throw")throw u;return u}h=s(h,l)}catch(f){d=!0,h=f}if(c==="throw")throw u;if(d)throw h;return o(h),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,i){var s=r("../internals/iterators-core").IteratorPrototype,o=r("../internals/object-create"),a=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),c=r("../internals/iterators"),u=function(){return this};n.exports=function(h,d,f,p){var m=d+" Iterator";return h.prototype=o(s,{next:a(+!p,f)}),l(h,m,!1,!0),c[m]=u,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/is-pure"),l=r("../internals/function-name"),c=r("../internals/is-callable"),u=r("../internals/iterator-create-constructor"),h=r("../internals/object-get-prototype-of"),d=r("../internals/object-set-prototype-of"),f=r("../internals/set-to-string-tag"),p=r("../internals/create-non-enumerable-property"),m=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),w=r("../internals/iterators"),v=r("../internals/iterators-core"),b=l.PROPER,E=l.CONFIGURABLE,P=v.IteratorPrototype,A=v.BUGGY_SAFARI_ITERATORS,L=g("iterator"),T=function(){return this};n.exports=function(B,H,G,D,k,M,R){u(G,H,D);var y,S,C,x=function(V){if(V===k&&W)return W;if(!A&&V&&V in N)return N[V];switch(V){case"keys":case"values":case"entries":return function(){return new G(this,V)}}return function(){return new G(this)}},F=H+" Iterator",O=!1,N=B.prototype,j=N[L]||N["@@iterator"]||k&&N[k],W=!A&&j||x(k),q=H==="Array"&&N.entries||j;if(q&&(y=h(q.call(new B)))!==Object.prototype&&y.next&&(a||h(y)===P||(d?d(y,P):c(y[L])||m(y,L,T)),f(y,F,!0,!0),a&&(w[F]=T)),b&&k==="values"&&j&&j.name!=="values"&&(!a&&E?p(N,"name","values"):(O=!0,W=function(){return o(j,this)})),k)if(S={values:x("values"),keys:M?W:x("keys"),entries:x("entries")},R)for(C in S)(A||O||!(C in N))&&m(N,C,S[C]);else s({target:H,proto:!0,forced:A||O},S);return a&&!R||N[L]===W||m(N,L,W,{name:k}),w[H]=W,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,i){var s,o,a,l=r("../internals/fails"),c=r("../internals/is-callable"),u=r("../internals/is-object"),h=r("../internals/object-create"),d=r("../internals/object-get-prototype-of"),f=r("../internals/define-built-in"),p=r("../internals/well-known-symbol"),m=r("../internals/is-pure"),g=p("iterator"),w=!1;[].keys&&("next"in(a=[].keys())?(o=d(d(a)))!==Object.prototype&&(s=o):w=!0),!u(s)||l(function(){var v={};return s[g].call(v)!==v})?s={}:m&&(s=h(s)),c(s[g])||f(s,g,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(r,n,i){var s=r("../internals/to-length");n.exports=function(o){return s(o.length)}},{"../internals/to-length":343}],300:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/has-own-property"),c=r("../internals/descriptors"),u=r("../internals/function-name").CONFIGURABLE,h=r("../internals/inspect-source"),d=r("../internals/internal-state"),f=d.enforce,p=d.get,m=String,g=Object.defineProperty,w=s("".slice),v=s("".replace),b=s([].join),E=c&&!o(function(){return g(function(){},"length",{value:8}).length!==8}),P=String(String).split("String"),A=n.exports=function(L,T,B){w(m(T),0,7)==="Symbol("&&(T="["+v(m(T),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(T="get "+T),B&&B.setter&&(T="set "+T),(!l(L,"name")||u&&L.name!==T)&&(c?g(L,"name",{value:T,configurable:!0}):L.name=T),E&&B&&l(B,"arity")&&L.length!==B.arity&&g(L,"length",{value:B.arity});try{B&&l(B,"constructor")&&B.constructor?c&&g(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var H=f(L);return l(H,"source")||(H.source=b(P,typeof T=="string"?T:"")),L};Function.prototype.toString=A(function(){return a(this)&&p(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,i){var s=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(a){var l=+a;return(l>0?o:s)(l)}},{}],302:[function(r,n,i){var s,o,a,l,c,u=r("../internals/global"),h=r("../internals/function-bind-context"),d=r("../internals/object-get-own-property-descriptor").f,f=r("../internals/task").set,p=r("../internals/queue"),m=r("../internals/engine-is-ios"),g=r("../internals/engine-is-ios-pebble"),w=r("../internals/engine-is-webos-webkit"),v=r("../internals/engine-is-node"),b=u.MutationObserver||u.WebKitMutationObserver,E=u.document,P=u.process,A=u.Promise,L=d(u,"queueMicrotask"),T=L&&L.value;if(!T){var B=new p,H=function(){var G,D;for(v&&(G=P.domain)&&G.exit();D=B.get();)try{D()}catch(k){throw B.head&&s(),k}G&&G.enter()};m||v||w||!b||!E?!g&&A&&A.resolve?((l=A.resolve(void 0)).constructor=A,c=h(l.then,l),s=function(){c(H)}):v?s=function(){P.nextTick(H)}:(f=h(f,u),s=function(){f(H)}):(o=!0,a=E.createTextNode(""),new b(H).observe(a,{characterData:!0}),s=function(){a.data=o=!o}),T=function(G){B.head||s(),B.add(G)}}n.exports=T},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,i){var s=r("../internals/a-callable"),o=TypeError,a=function(l){var c,u;this.promise=new l(function(h,d){if(c!==void 0||u!==void 0)throw new o("Bad Promise constructor");c=h,u=d}),this.resolve=s(c),this.reject=s(u)};n.exports.f=function(l){return new a(l)}},{"../internals/a-callable":222}],304:[function(r,n,i){var s=r("../internals/is-regexp"),o=TypeError;n.exports=function(a){if(s(a))throw new o("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-uncurry-this"),a=r("../internals/function-call"),l=r("../internals/fails"),c=r("../internals/object-keys"),u=r("../internals/object-get-own-property-symbols"),h=r("../internals/object-property-is-enumerable"),d=r("../internals/to-object"),f=r("../internals/indexed-object"),p=Object.assign,m=Object.defineProperty,g=o([].concat);n.exports=!p||l(function(){if(s&&p({b:1},p(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},v={},b=Symbol("assign detection");return w[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(E){v[E]=E}),p({},w)[b]!==7||c(p({},v)).join("")!=="abcdefghijklmnopqrst"})?function(w,v){for(var b=d(w),E=arguments.length,P=1,A=u.f,L=h.f;E>P;)for(var T,B=f(arguments[P++]),H=A?g(c(B),A(B)):c(B),G=H.length,D=0;G>D;)T=H[D++],s&&!a(L,B,T)||(b[T]=B[T]);return b}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,i){var s,o=r("../internals/an-object"),a=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),c=r("../internals/hidden-keys"),u=r("../internals/html"),h=r("../internals/document-create-element"),d=r("../internals/shared-key"),f=d("IE_PROTO"),p=function(){},m=function(v){return"<script>"+v+"<\/script>"},g=function(v){v.write(m("")),v.close();var b=v.parentWindow.Object;return v=null,b},w=function(){try{s=new ActiveXObject("htmlfile")}catch{}var v,b;w=typeof document<"u"?document.domain&&s?g(s):((b=h("iframe")).style.display="none",u.appendChild(b),b.src="javascript:",(v=b.contentWindow.document).open(),v.write(m("document.F=Object")),v.close(),v.F):g(s);for(var E=l.length;E--;)delete w.prototype[l[E]];return w()};c[f]=!0,n.exports=Object.create||function(v,b){var E;return v!==null?(p.prototype=o(v),E=new p,p.prototype=null,E[f]=v):E=w(),b===void 0?E:a.f(E,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/v8-prototype-define-bug"),a=r("../internals/object-define-property"),l=r("../internals/an-object"),c=r("../internals/to-indexed-object"),u=r("../internals/object-keys");i.f=s&&!o?Object.defineProperties:function(h,d){l(h);for(var f,p=c(d),m=u(d),g=m.length,w=0;g>w;)a.f(h,f=m[w++],p[f]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/ie8-dom-define"),a=r("../internals/v8-prototype-define-bug"),l=r("../internals/an-object"),c=r("../internals/to-property-key"),u=TypeError,h=Object.defineProperty,d=Object.getOwnPropertyDescriptor;i.f=s?a?function(f,p,m){if(l(f),p=c(p),l(m),typeof f=="function"&&p==="prototype"&&"value"in m&&"writable"in m&&!m.writable){var g=d(f,p);g&&g.writable&&(f[p]=m.value,m={configurable:"configurable"in m?m.configurable:g.configurable,enumerable:"enumerable"in m?m.enumerable:g.enumerable,writable:!1})}return h(f,p,m)}:h:function(f,p,m){if(l(f),p=c(p),l(m),o)try{return h(f,p,m)}catch{}if("get"in m||"set"in m)throw new u("Accessors not supported");return"value"in m&&(f[p]=m.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-call"),a=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),c=r("../internals/to-indexed-object"),u=r("../internals/to-property-key"),h=r("../internals/has-own-property"),d=r("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;i.f=s?f:function(p,m){if(p=c(p),m=u(m),d)try{return f(p,m)}catch{}if(h(p,m))return l(!o(a.f,p,m),p[m])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,l=r("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&s(u)==="Window"?function(h){try{return a(h)}catch{return l(c)}}(u):a(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/is-callable"),a=r("../internals/to-object"),l=r("../internals/shared-key"),c=r("../internals/correct-prototype-getter"),u=l("IE_PROTO"),h=Object,d=h.prototype;n.exports=c?h.getPrototypeOf:function(f){var p=a(f);if(s(p,u))return p[u];var m=p.constructor;return o(m)&&p instanceof m?m.prototype:p instanceof h?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/has-own-property"),a=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,c=r("../internals/hidden-keys"),u=s([].push);n.exports=function(h,d){var f,p=a(h),m=0,g=[];for(f in p)!o(c,f)&&o(p,f)&&u(g,f);for(;d.length>m;)o(p,f=d[m++])&&(~l(g,f)||u(g,f));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys");n.exports=Object.keys||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!s.call({1:2},1);i.f=a?function(l){var c=o(this,l);return!!c&&c.enumerable}:s},{}],318:[function(r,n,i){var s=r("../internals/function-uncurry-this-accessor"),o=r("../internals/an-object"),a=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),c=u instanceof Array}catch{}return function(h,d){return o(h),a(d),c?l(h,d):h.__proto__=d,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/function-uncurry-this"),l=r("../internals/object-get-prototype-of"),c=r("../internals/object-keys"),u=r("../internals/to-indexed-object"),h=a(r("../internals/object-property-is-enumerable").f),d=a([].push),f=s&&o(function(){var m=Object.create(null);return m[2]=2,!h(m,2)}),p=function(m){return function(g){for(var w,v=u(g),b=c(v),E=f&&l(v)===null,P=b.length,A=0,L=[];P>A;)w=b[A++],s&&!(E?w in v:h(v,w))||d(L,m?[w,v[w]]:v[w]);return L}};n.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-callable"),a=r("../internals/is-object"),l=TypeError;n.exports=function(c,u){var h,d;if(u==="string"&&o(h=c.toString)&&!a(d=s(h,c))||o(h=c.valueOf)&&!a(d=s(h,c))||u!=="string"&&o(h=c.toString)&&!a(d=s(h,c)))return d;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/function-uncurry-this"),a=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/an-object"),u=o([].concat);n.exports=s("Reflect","ownKeys")||function(h){var d=a.f(c(h)),f=l.f;return f?u(d,f(h)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,i){var s=r("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(r,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/promise-native-constructor"),a=r("../internals/is-callable"),l=r("../internals/is-forced"),c=r("../internals/inspect-source"),u=r("../internals/well-known-symbol"),h=r("../internals/engine-is-browser"),d=r("../internals/engine-is-deno"),f=r("../internals/is-pure"),p=r("../internals/engine-v8-version"),m=o&&o.prototype,g=u("species"),w=!1,v=a(s.PromiseRejectionEvent),b=l("Promise",function(){var E=c(o),P=E!==String(o);if(!P&&p===66||f&&(!m.catch||!m.finally))return!0;if(!p||p<51||!/native code/.test(E)){var A=new o(function(T){T(1)}),L=function(T){T(function(){},function(){})};if((A.constructor={})[g]=L,!(w=A.then(function(){})instanceof L))return!0}return!P&&(h||d)&&!v});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:v,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,i){var s=r("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/is-object"),a=r("../internals/new-promise-capability");n.exports=function(l,c){if(s(l),o(c)&&c.constructor===l)return c;var u=a.f(l);return(0,u.resolve)(c),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,i){var s=r("../internals/promise-native-constructor"),o=r("../internals/check-correctness-of-iteration"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=a||!o(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(o){var a={item:o,next:null},l=this.tail;l?l.next=a:this.head=a,this.tail=a},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=s},{}],329:[function(r,n,i){var s=r("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(a){if(s(a))throw new o("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/define-built-in-accessor"),a=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),c=a("species");n.exports=function(u){var h=s(u);l&&h&&!h[c]&&o(h,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,i){var s=r("../internals/object-define-property").f,o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,c,u){l&&!u&&(l=l.prototype),l&&!o(l,a)&&s(l,a,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,i){var s=r("../internals/shared"),o=r("../internals/uid"),a=s("keys");n.exports=function(l){return a[l]||(a[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/define-global-property"),a=s["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,i){var s=r("../internals/is-pure"),o=r("../internals/shared-store");(n.exports=function(a,l){return o[a]||(o[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/a-constructor"),a=r("../internals/is-null-or-undefined"),l=r("../internals/well-known-symbol")("species");n.exports=function(c,u){var h,d=s(c).constructor;return d===void 0||a(h=s(d)[l])?u:o(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,i){var s=r("../internals/engine-v8-version"),o=r("../internals/fails"),a=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!a(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/get-built-in"),a=r("../internals/well-known-symbol"),l=r("../internals/define-built-in");n.exports=function(){var c=o("Symbol"),u=c&&c.prototype,h=u&&u.valueOf,d=a("toPrimitive");u&&!u[d]&&l(u,d,function(f){return s(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,i){var s,o,a,l,c=r("../internals/global"),u=r("../internals/function-apply"),h=r("../internals/function-bind-context"),d=r("../internals/is-callable"),f=r("../internals/has-own-property"),p=r("../internals/fails"),m=r("../internals/html"),g=r("../internals/array-slice"),w=r("../internals/document-create-element"),v=r("../internals/validate-arguments-length"),b=r("../internals/engine-is-ios"),E=r("../internals/engine-is-node"),P=c.setImmediate,A=c.clearImmediate,L=c.process,T=c.Dispatch,B=c.Function,H=c.MessageChannel,G=c.String,D=0,k={};p(function(){s=c.location});var M=function(C){if(f(k,C)){var x=k[C];delete k[C],x()}},R=function(C){return function(){M(C)}},y=function(C){M(C.data)},S=function(C){c.postMessage(G(C),s.protocol+"//"+s.host)};P&&A||(P=function(C){v(arguments.length,1);var x=d(C)?C:B(C),F=g(arguments,1);return k[++D]=function(){u(x,void 0,F)},o(D),D},A=function(C){delete k[C]},E?o=function(C){L.nextTick(R(C))}:T&&T.now?o=function(C){T.now(R(C))}:H&&!b?(l=(a=new H).port2,a.port1.onmessage=y,o=h(l.postMessage,l)):c.addEventListener&&d(c.postMessage)&&!c.importScripts&&s&&s.protocol!=="file:"&&!p(S)?(o=S,c.addEventListener("message",y,!1)):o="onreadystatechange"in w("script")?function(C){m.appendChild(w("script")).onreadystatechange=function(){m.removeChild(this),M(C)}}:function(C){setTimeout(R(C),0)}),n.exports={set:P,clear:A}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.max,a=Math.min;n.exports=function(l,c){var u=s(l);return u<0?o(u+c,0):a(u,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,i){var s=r("../internals/indexed-object"),o=r("../internals/require-object-coercible");n.exports=function(a){return s(o(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,i){var s=r("../internals/math-trunc");n.exports=function(o){var a=+o;return a!=a||a===0?0:s(a)}},{"../internals/math-trunc":301}],343:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(a){return a>0?o(s(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,i){var s=r("../internals/require-object-coercible"),o=Object;n.exports=function(a){return o(s(a))}},{"../internals/require-object-coercible":329}],345:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-object"),a=r("../internals/is-symbol"),l=r("../internals/get-method"),c=r("../internals/ordinary-to-primitive"),u=r("../internals/well-known-symbol"),h=TypeError,d=u("toPrimitive");n.exports=function(f,p){if(!o(f)||a(f))return f;var m,g=l(f,d);if(g){if(p===void 0&&(p="default"),m=s(g,f,p),!o(m)||a(m))return m;throw new h("Can't convert object to primitive value")}return p===void 0&&(p="number"),c(f,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,i){var s=r("../internals/to-primitive"),o=r("../internals/is-symbol");n.exports=function(a){var l=s(a,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,i){var s={};s[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,i){var s=r("../internals/classof"),o=String;n.exports=function(a){if(s(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(a)}},{"../internals/classof":236}],349:[function(r,n,i){var s=String;n.exports=function(o){try{return s(o)}catch{return"Object"}}},{}],350:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=0,a=Math.random(),l=s(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++o+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails");n.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,i){var s=TypeError;n.exports=function(o,a){if(o<a)throw new s("Not enough arguments");return o}},{}],354:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=s.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,i){var s=r("../internals/path"),o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(c){var u=s.Symbol||(s.Symbol={});o(u,c)||l(u,c,{value:a.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,i){var s=r("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/shared"),a=r("../internals/has-own-property"),l=r("../internals/uid"),c=r("../internals/symbol-constructor-detection"),u=r("../internals/use-symbol-as-uid"),h=s.Symbol,d=o("wks"),f=u?h.for||h:h&&h.withoutSetter||l;n.exports=function(p){return a(d,p)||(d[p]=c&&a(h,p)?h[p]:f("Symbol."+p)),d[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").findIndex,a=r("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").find,a=r("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-includes").includes,a=r("../internals/fails"),l=r("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/add-to-unscopables"),a=r("../internals/iterators"),l=r("../internals/internal-state"),c=r("../internals/object-define-property").f,u=r("../internals/iterator-define"),h=r("../internals/create-iter-result-object"),d=r("../internals/is-pure"),f=r("../internals/descriptors"),p=l.set,m=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(w,v){p(this,{type:"Array Iterator",target:s(w),index:0,kind:v})},function(){var w=m(this),v=w.target,b=w.kind,E=w.index++;if(!v||E>=v.length)return w.target=void 0,h(void 0,!0);switch(b){case"keys":return h(E,!1);case"values":return h(v[E],!1)}return h([E,v[E]],!1)},"values");var g=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!d&&f&&g.name!=="values")try{c(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/function-apply"),l=r("../internals/function-call"),c=r("../internals/function-uncurry-this"),u=r("../internals/fails"),h=r("../internals/is-callable"),d=r("../internals/is-symbol"),f=r("../internals/array-slice"),p=r("../internals/get-json-replacer-function"),m=r("../internals/symbol-constructor-detection"),g=String,w=o("JSON","stringify"),v=c(/./.exec),b=c("".charAt),E=c("".charCodeAt),P=c("".replace),A=c(1 .toString),L=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,H=!m||u(function(){var M=o("Symbol")("stringify detection");return w([M])!=="[null]"||w({a:M})!=="{}"||w(Object(M))!=="{}"}),G=u(function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'}),D=function(M,R){var y=f(arguments),S=p(R);if(h(S)||M!==void 0&&!d(M))return y[1]=function(C,x){if(h(S)&&(x=l(S,this,g(C),x)),!d(x))return x},a(w,null,y)},k=function(M,R,y){var S=b(y,R-1),C=b(y,R+1);return v(T,M)&&!v(B,C)||v(B,M)&&!v(T,S)?"\\u"+A(E(M,0),16):M};w&&s({target:"JSON",stat:!0,arity:3,forced:H||G},{stringify:function(M,R,y){var S=f(arguments),C=a(H?D:w,null,S);return G&&typeof C=="string"?P(C,L,k):C}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/to-object");s({target:"Object",stat:!0,forced:!o||a(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var h=l.f;return h?h(c(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/to-object"),a=r("../internals/object-keys");s({target:"Object",stat:!0,forced:r("../internals/fails")(function(){a(1)})},{keys:function(l){return a(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(a){return o(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(h){var d=this,f=l.f(d),p=f.resolve,m=f.reject,g=c(function(){var w=a(d.resolve),v=[],b=0,E=1;u(h,function(P){var A=b++,L=!1;E++,o(w,d,P).then(function(T){L||(L=!0,v[A]=T,--E||p(v))},m)}),--E||p(v)});return g.error&&m(g.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR,l=r("../internals/promise-native-constructor"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),h=r("../internals/define-built-in"),d=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(p){return this.then(void 0,p)}}),!o&&u(l)){var f=c("Promise").prototype.catch;d.catch!==f&&h(d,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,i){var s,o,a,l=r("../internals/export"),c=r("../internals/is-pure"),u=r("../internals/engine-is-node"),h=r("../internals/global"),d=r("../internals/function-call"),f=r("../internals/define-built-in"),p=r("../internals/object-set-prototype-of"),m=r("../internals/set-to-string-tag"),g=r("../internals/set-species"),w=r("../internals/a-callable"),v=r("../internals/is-callable"),b=r("../internals/is-object"),E=r("../internals/an-instance"),P=r("../internals/species-constructor"),A=r("../internals/task").set,L=r("../internals/microtask"),T=r("../internals/host-report-errors"),B=r("../internals/perform"),H=r("../internals/queue"),G=r("../internals/internal-state"),D=r("../internals/promise-native-constructor"),k=r("../internals/promise-constructor-detection"),M=r("../internals/new-promise-capability"),R=k.CONSTRUCTOR,y=k.REJECTION_EVENT,S=k.SUBCLASSING,C=G.getterFor("Promise"),x=G.set,F=D&&D.prototype,O=D,N=F,j=h.TypeError,W=h.document,q=h.process,V=M.f,$=V,I=!!(W&&W.createEvent&&h.dispatchEvent),_=function(re){var ae;return!(!b(re)||!v(ae=re.then))&&ae},z=function(re,ae){var oe,le,he,pe=ae.value,be=ae.state===1,_e=be?re.ok:re.fail,Pe=re.resolve,ve=re.reject,Ie=re.domain;try{_e?(be||(ae.rejection===2&&ne(ae),ae.rejection=1),_e===!0?oe=pe:(Ie&&Ie.enter(),oe=_e(pe),Ie&&(Ie.exit(),he=!0)),oe===re.promise?ve(new j("Promise-chain cycle")):(le=_(oe))?d(le,oe,Pe,ve):Pe(oe)):ve(pe)}catch(Ve){Ie&&!he&&Ie.exit(),ve(Ve)}},K=function(re,ae){re.notified||(re.notified=!0,L(function(){for(var oe,le=re.reactions;oe=le.get();)z(oe,re);re.notified=!1,ae&&!re.rejection&&X(re)}))},Q=function(re,ae,oe){var le,he;I?((le=W.createEvent("Event")).promise=ae,le.reason=oe,le.initEvent(re,!1,!0),h.dispatchEvent(le)):le={promise:ae,reason:oe},!y&&(he=h["on"+re])?he(le):re==="unhandledrejection"&&T("Unhandled promise rejection",oe)},X=function(re){d(A,h,function(){var ae,oe=re.facade,le=re.value;if(Z(re)&&(ae=B(function(){u?q.emit("unhandledRejection",le,oe):Q("unhandledrejection",oe,le)}),re.rejection=u||Z(re)?2:1,ae.error))throw ae.value})},Z=function(re){return re.rejection!==1&&!re.parent},ne=function(re){d(A,h,function(){var ae=re.facade;u?q.emit("rejectionHandled",ae):Q("rejectionhandled",ae,re.value)})},ie=function(re,ae,oe){return function(le){re(ae,le,oe)}},Y=function(re,ae,oe){re.done||(re.done=!0,oe&&(re=oe),re.value=ae,re.state=2,K(re,!0))},te=function(re,ae,oe){if(!re.done){re.done=!0,oe&&(re=oe);try{if(re.facade===ae)throw new j("Promise can't be resolved itself");var le=_(ae);le?L(function(){var he={done:!1};try{d(le,ae,ie(te,he,re),ie(Y,he,re))}catch(pe){Y(he,pe,re)}}):(re.value=ae,re.state=1,K(re,!1))}catch(he){Y({done:!1},he,re)}}};if(R&&(N=(O=function(re){E(this,N),w(re),d(s,this);var ae=C(this);try{re(ie(te,ae),ie(Y,ae))}catch(oe){Y(ae,oe)}}).prototype,(s=function(re){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=f(N,"then",function(re,ae){var oe=C(this),le=V(P(this,O));return oe.parent=!0,le.ok=!v(re)||re,le.fail=v(ae)&&ae,le.domain=u?q.domain:void 0,oe.state===0?oe.reactions.add(le):L(function(){z(le,oe)}),le.promise}),o=function(){var re=new s,ae=C(re);this.promise=re,this.resolve=ie(te,ae),this.reject=ie(Y,ae)},M.f=V=function(re){return re===O||re===void 0?new o(re):$(re)},!c&&v(D)&&F!==Object.prototype)){a=F.then,S||f(F,"then",function(re,ae){var oe=this;return new O(function(le,he){d(a,oe,le,he)}).then(re,ae)},{unsafe:!0});try{delete F.constructor}catch{}p&&p(F,N)}l({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:O}),m(O,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-native-constructor"),l=r("../internals/fails"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),h=r("../internals/species-constructor"),d=r("../internals/promise-resolve"),f=r("../internals/define-built-in"),p=a&&a.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!a&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(g){var w=h(this,c("Promise")),v=u(g);return this.then(v?function(b){return d(w,g()).then(function(){return b})}:g,v?function(b){return d(w,g()).then(function(){throw b})}:g)}}),!o&&u(a)){var m=c("Promise").prototype.finally;p.finally!==m&&f(p,"finally",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,i){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(h){var d=this,f=l.f(d),p=f.reject,m=c(function(){var g=a(d.resolve);u(h,function(w){o(g,d,w).then(f.resolve,p)})});return m.error&&p(m.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var c=a.f(this);return o(c.reject,void 0,l),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/is-pure"),l=r("../internals/promise-native-constructor"),c=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-resolve"),h=o("Promise"),d=a&&!c;s({target:"Promise",stat:!0,forced:a||c},{resolve:function(f){return u(d&&this===h?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/to-absolute-index"),l=RangeError,c=String.fromCharCode,u=String.fromCodePoint,h=o([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(d){for(var f,p=[],m=arguments.length,g=0;m>g;){if(f=+arguments[g++],a(f,1114111)!==f)throw new l(f+" is not a valid code point");p[g]=f<65536?c(f):c(55296+((f-=65536)>>10),f%1024+56320)}return h(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible"),c=r("../internals/to-string"),u=r("../internals/correct-is-regexp-logic"),h=o("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(d){return!!~h(c(l(this)),c(a(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,i){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/global"),a=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),c=r("../internals/is-pure"),u=r("../internals/descriptors"),h=r("../internals/symbol-constructor-detection"),d=r("../internals/fails"),f=r("../internals/has-own-property"),p=r("../internals/object-is-prototype-of"),m=r("../internals/an-object"),g=r("../internals/to-indexed-object"),w=r("../internals/to-property-key"),v=r("../internals/to-string"),b=r("../internals/create-property-descriptor"),E=r("../internals/object-create"),P=r("../internals/object-keys"),A=r("../internals/object-get-own-property-names"),L=r("../internals/object-get-own-property-names-external"),T=r("../internals/object-get-own-property-symbols"),B=r("../internals/object-get-own-property-descriptor"),H=r("../internals/object-define-property"),G=r("../internals/object-define-properties"),D=r("../internals/object-property-is-enumerable"),k=r("../internals/define-built-in"),M=r("../internals/define-built-in-accessor"),R=r("../internals/shared"),y=r("../internals/shared-key"),S=r("../internals/hidden-keys"),C=r("../internals/uid"),x=r("../internals/well-known-symbol"),F=r("../internals/well-known-symbol-wrapped"),O=r("../internals/well-known-symbol-define"),N=r("../internals/symbol-define-to-primitive"),j=r("../internals/set-to-string-tag"),W=r("../internals/internal-state"),q=r("../internals/array-iteration").forEach,V=y("hidden"),$=W.set,I=W.getterFor("Symbol"),_=Object.prototype,z=o.Symbol,K=z&&z.prototype,Q=o.RangeError,X=o.TypeError,Z=o.QObject,ne=B.f,ie=H.f,Y=L.f,te=D.f,re=l([].push),ae=R("symbols"),oe=R("op-symbols"),le=R("wks"),he=!Z||!Z.prototype||!Z.prototype.findChild,pe=function(Ae,xe,De){var Ge=ne(_,xe);Ge&&delete _[xe],ie(Ae,xe,De),Ge&&Ae!==_&&ie(_,xe,Ge)},be=u&&d(function(){return E(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a!==7})?pe:ie,_e=function(Ae,xe){var De=ae[Ae]=E(K);return $(De,{type:"Symbol",tag:Ae,description:xe}),u||(De.description=xe),De},Pe=function(Ae,xe,De){Ae===_&&Pe(oe,xe,De),m(Ae);var Ge=w(xe);return m(De),f(ae,Ge)?(De.enumerable?(f(Ae,V)&&Ae[V][Ge]&&(Ae[V][Ge]=!1),De=E(De,{enumerable:b(0,!1)})):(f(Ae,V)||ie(Ae,V,b(1,{})),Ae[V][Ge]=!0),be(Ae,Ge,De)):ie(Ae,Ge,De)},ve=function(Ae,xe){m(Ae);var De=g(xe),Ge=P(De).concat($e(De));return q(Ge,function(Oe){u&&!a(Ie,De,Oe)||Pe(Ae,Oe,De[Oe])}),Ae},Ie=function(Ae){var xe=w(Ae),De=a(te,this,xe);return!(this===_&&f(ae,xe)&&!f(oe,xe))&&(!(De||!f(this,xe)||!f(ae,xe)||f(this,V)&&this[V][xe])||De)},Ve=function(Ae,xe){var De=g(Ae),Ge=w(xe);if(De!==_||!f(ae,Ge)||f(oe,Ge)){var Oe=ne(De,Ge);return!Oe||!f(ae,Ge)||f(De,V)&&De[V][Ge]||(Oe.enumerable=!0),Oe}},je=function(Ae){var xe=Y(g(Ae)),De=[];return q(xe,function(Ge){f(ae,Ge)||f(S,Ge)||re(De,Ge)}),De},$e=function(Ae){var xe=Ae===_,De=Y(xe?oe:g(Ae)),Ge=[];return q(De,function(Oe){!f(ae,Oe)||xe&&!f(_,Oe)||re(Ge,ae[Oe])}),Ge};h||(k(K=(z=function(){if(p(K,this))throw new X("Symbol is not a constructor");var Ae=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,xe=C(Ae),De=function(Ge){this===_&&a(De,oe,Ge),f(this,V)&&f(this[V],xe)&&(this[V][xe]=!1);var Oe=b(1,Ge);try{be(this,xe,Oe)}catch(ut){if(!(ut instanceof Q))throw ut;pe(this,xe,Oe)}};return u&&he&&be(_,xe,{configurable:!0,set:De}),_e(xe,Ae)}).prototype,"toString",function(){return I(this).tag}),k(z,"withoutSetter",function(Ae){return _e(C(Ae),Ae)}),D.f=Ie,H.f=Pe,G.f=ve,B.f=Ve,A.f=L.f=je,T.f=$e,F.f=function(Ae){return _e(x(Ae),Ae)},u&&(M(K,"description",{configurable:!0,get:function(){return I(this).description}}),c||k(_,"propertyIsEnumerable",Ie,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:z}),q(P(le),function(Ae){O(Ae)}),s({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){he=!0},useSimple:function(){he=!1}}),s({target:"Object",stat:!0,forced:!h,sham:!u},{create:function(Ae,xe){return xe===void 0?E(Ae):ve(E(Ae),xe)},defineProperty:Pe,defineProperties:ve,getOwnPropertyDescriptor:Ve}),s({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:je}),N(),j(z,"Symbol"),S[V]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/has-own-property"),l=r("../internals/to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),h=c("string-to-symbol-registry"),d=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(f){var p=l(f);if(a(h,p))return h[p];var m=o("Symbol")(p);return h[p]=m,d[m]=p,m}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,i){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/has-own-property"),a=r("../internals/is-symbol"),l=r("../internals/try-to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),h=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(d){if(!a(d))throw new TypeError(l(d)+" is not a symbol");if(o(h,d))return h[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,i){function s(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):s(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return s(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return s(o)==="[object Date]"},i.isError=function(o){return s(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,i){(function(s){(function(){var o=r("elliptic"),a=r("bn.js");n.exports=function(h){return new c(h)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(h){this.curveType=l[h],this.curveType||(this.curveType={name:h}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(h,d,f){Array.isArray(h)||(h=h.toArray());var p=new s(h);if(f&&p.length<f){var m=new s(f-p.length);m.fill(0),p=s.concat([m,p])}return d?p.toString(d):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,c.prototype.generateKeys=function(h,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,d)},c.prototype.computeSecret=function(h,d,f){return d=d||"utf8",s.isBuffer(h)||(h=new s(h,d)),u(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},c.prototype.getPublicKey=function(h,d){var f=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),u(f,h)},c.prototype.getPrivateKey=function(h){return u(this.keys.getPrivate(),h)},c.prototype.setPublicKey=function(h,d){return d=d||"utf8",s.isBuffer(h)||(h=new s(h,d)),this.keys._importPublic(h),this},c.prototype.setPrivateKey=function(h,d){d=d||"utf8",s.isBuffer(h)||(h=new s(h,d));var f=new a(h);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(r,n,i){var s=r("inherits"),o=r("md5.js"),a=r("ripemd160"),l=r("sha.js"),c=r("cipher-base");function u(h){c.call(this,"digest"),this._hash=h}s(u,c),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(h){return(h=h.toLowerCase())==="md5"?new o:h==="rmd160"||h==="ripemd160"?new a:new u(l(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,i){var s=r("md5.js");n.exports=function(o){return new s().update(o).digest()}},{"md5.js":450}],388:[function(r,n,i){var s=r("inherits"),o=r("./legacy"),a=r("cipher-base"),l=r("safe-buffer").Buffer,c=r("create-hash/md5"),u=r("ripemd160"),h=r("sha.js"),d=l.alloc(128);function f(p,m){a.call(this,"digest"),typeof m=="string"&&(m=l.from(m));var g=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=m,m.length>g?m=(p==="rmd160"?new u:h(p)).update(m).digest():m.length<g&&(m=l.concat([m,d],g));for(var w=this._ipad=l.allocUnsafe(g),v=this._opad=l.allocUnsafe(g),b=0;b<g;b++)w[b]=54^m[b],v[b]=92^m[b];this._hash=p==="rmd160"?new u:h(p),this._hash.update(w)}s(f,a),f.prototype._update=function(p){this._hash.update(p)},f.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new u:h(this._alg)).update(this._opad).update(p).digest()},n.exports=function(p,m){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new f("rmd160",m):p==="md5"?new o(c,m):new f(p,m)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,i){var s=r("inherits"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=o.alloc(128);function c(u,h){a.call(this,"digest"),typeof h=="string"&&(h=o.from(h)),this._alg=u,this._key=h,h.length>64?h=u(h):h.length<64&&(h=o.concat([h,l],64));for(var d=this._ipad=o.allocUnsafe(64),f=this._opad=o.allocUnsafe(64),p=0;p<64;p++)d[p]=54^h[p],f[p]=92^h[p];this._hash=[d]}s(c,a),c.prototype._update=function(u){this._hash.push(u)},c.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var s=r("browserify-sign/algos"),o=Object.keys(s),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return a};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var c=r("browserify-cipher");i.Cipher=c.Cipher,i.createCipher=c.createCipher,i.Cipheriv=c.Cipheriv,i.createCipheriv=c.createCipheriv,i.Decipher=c.Decipher,i.createDecipher=c.createDecipher,i.Decipheriv=c.Decipheriv,i.createDecipheriv=c.createDecipheriv,i.getCiphers=c.getCiphers,i.listCiphers=c.listCiphers;var u=r("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var h=r("browserify-sign");i.createSign=h.createSign,i.Sign=h.Sign,i.createVerify=h.createVerify,i.Verify=h.Verify,i.createECDH=r("create-ecdh");var d=r("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var f=r("randomfill");i.randomFill=f.randomFill,i.randomFillSync=f.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=o()})(void 0,function(){var s=6e4,o=36e5,a="millisecond",l="second",c="minute",u="hour",h="day",d="week",f="month",p="quarter",m="year",g="date",w="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var S=["th","st","nd","rd"],C=y%100;return"["+y+(S[(C-20)%10]||S[C]||S[0])+"]"}},P=function(y,S,C){var x=String(y);return!x||x.length>=S?y:""+Array(S+1-x.length).join(C)+y},A={s:P,z:function(y){var S=-y.utcOffset(),C=Math.abs(S),x=Math.floor(C/60),F=C%60;return(S<=0?"+":"-")+P(x,2,"0")+":"+P(F,2,"0")},m:function y(S,C){if(S.date()<C.date())return-y(C,S);var x=12*(C.year()-S.year())+(C.month()-S.month()),F=S.clone().add(x,f),O=C-F<0,N=S.clone().add(x+(O?-1:1),f);return+(-(x+(C-F)/(O?F-N:N-F))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:f,y:m,w:d,d:h,D:g,h:u,m:c,s:l,ms:a,Q:p}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},L="en",T={};T[L]=E;var B="$isDayjsObject",H=function(y){return y instanceof M||!(!y||!y[B])},G=function y(S,C,x){var F;if(!S)return L;if(typeof S=="string"){var O=S.toLowerCase();T[O]&&(F=O),C&&(T[O]=C,F=O);var N=S.split("-");if(!F&&N.length>1)return y(N[0])}else{var j=S.name;T[j]=S,F=j}return!x&&F&&(L=F),F||!x&&L},D=function(y,S){if(H(y))return y.clone();var C=typeof S=="object"?S:{};return C.date=y,C.args=arguments,new M(C)},k=A;k.l=G,k.i=H,k.w=function(y,S){return D(y,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var M=function(){function y(C){this.$L=G(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[B]=!0}var S=y.prototype;return S.parse=function(C){this.$d=function(x){var F=x.date,O=x.utc;if(F===null)return new Date(NaN);if(k.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var N=F.match(v);if(N){var j=N[2]-1||0,W=(N[7]||"0").substring(0,3);return O?new Date(Date.UTC(N[1],j,N[3]||1,N[4]||0,N[5]||0,N[6]||0,W)):new Date(N[1],j,N[3]||1,N[4]||0,N[5]||0,N[6]||0,W)}}return new Date(F)}(C),this.init()},S.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},S.$utils=function(){return k},S.isValid=function(){return this.$d.toString()!==w},S.isSame=function(C,x){var F=D(C);return this.startOf(x)<=F&&F<=this.endOf(x)},S.isAfter=function(C,x){return D(C)<this.startOf(x)},S.isBefore=function(C,x){return this.endOf(x)<D(C)},S.$g=function(C,x,F){return k.u(C)?this[x]:this.set(F,C)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(C,x){var F=this,O=!!k.u(x)||x,N=k.p(C),j=function(K,Q){var X=k.w(F.$u?Date.UTC(F.$y,Q,K):new Date(F.$y,Q,K),F);return O?X:X.endOf(h)},W=function(K,Q){return k.w(F.toDate()[K].apply(F.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(Q)),F)},q=this.$W,V=this.$M,$=this.$D,I="set"+(this.$u?"UTC":"");switch(N){case m:return O?j(1,0):j(31,11);case f:return O?j(1,V):j(0,V+1);case d:var _=this.$locale().weekStart||0,z=(q<_?q+7:q)-_;return j(O?$-z:$+(6-z),V);case h:case g:return W(I+"Hours",0);case u:return W(I+"Minutes",1);case c:return W(I+"Seconds",2);case l:return W(I+"Milliseconds",3);default:return this.clone()}},S.endOf=function(C){return this.startOf(C,!1)},S.$set=function(C,x){var F,O=k.p(C),N="set"+(this.$u?"UTC":""),j=(F={},F[h]=N+"Date",F[g]=N+"Date",F[f]=N+"Month",F[m]=N+"FullYear",F[u]=N+"Hours",F[c]=N+"Minutes",F[l]=N+"Seconds",F[a]=N+"Milliseconds",F)[O],W=O===h?this.$D+(x-this.$W):x;if(O===f||O===m){var q=this.clone().set(g,1);q.$d[j](W),q.init(),this.$d=q.set(g,Math.min(this.$D,q.daysInMonth())).$d}else j&&this.$d[j](W);return this.init(),this},S.set=function(C,x){return this.clone().$set(C,x)},S.get=function(C){return this[k.p(C)]()},S.add=function(C,x){var F,O=this;C=Number(C);var N=k.p(x),j=function(V){var $=D(O);return k.w($.date($.date()+Math.round(V*C)),O)};if(N===f)return this.set(f,this.$M+C);if(N===m)return this.set(m,this.$y+C);if(N===h)return j(1);if(N===d)return j(7);var W=(F={},F[c]=s,F[u]=o,F[l]=1e3,F)[N]||1,q=this.$d.getTime()+C*W;return k.w(q,this)},S.subtract=function(C,x){return this.add(-1*C,x)},S.format=function(C){var x=this,F=this.$locale();if(!this.isValid())return F.invalidDate||w;var O=C||"YYYY-MM-DDTHH:mm:ssZ",N=k.z(this),j=this.$H,W=this.$m,q=this.$M,V=F.weekdays,$=F.months,I=F.meridiem,_=function(Q,X,Z,ne){return Q&&(Q[X]||Q(x,O))||Z[X].slice(0,ne)},z=function(Q){return k.s(j%12||12,Q,"0")},K=I||function(Q,X,Z){var ne=Q<12?"AM":"PM";return Z?ne.toLowerCase():ne};return O.replace(b,function(Q,X){return X||function(Z){switch(Z){case"YY":return String(x.$y).slice(-2);case"YYYY":return k.s(x.$y,4,"0");case"M":return q+1;case"MM":return k.s(q+1,2,"0");case"MMM":return _(F.monthsShort,q,$,3);case"MMMM":return _($,q);case"D":return x.$D;case"DD":return k.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return _(F.weekdaysMin,x.$W,V,2);case"ddd":return _(F.weekdaysShort,x.$W,V,3);case"dddd":return V[x.$W];case"H":return String(j);case"HH":return k.s(j,2,"0");case"h":return z(1);case"hh":return z(2);case"a":return K(j,W,!0);case"A":return K(j,W,!1);case"m":return String(W);case"mm":return k.s(W,2,"0");case"s":return String(x.$s);case"ss":return k.s(x.$s,2,"0");case"SSS":return k.s(x.$ms,3,"0");case"Z":return N}return null}(Q)||N.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(C,x,F){var O,N=this,j=k.p(x),W=D(C),q=(W.utcOffset()-this.utcOffset())*s,V=this-W,$=function(){return k.m(N,W)};switch(j){case m:O=$()/12;break;case f:O=$();break;case p:O=$()/3;break;case d:O=(V-q)/6048e5;break;case h:O=(V-q)/864e5;break;case u:O=V/o;break;case c:O=V/s;break;case l:O=V/1e3;break;default:O=V}return F?O:k.a(O)},S.daysInMonth=function(){return this.endOf(f).$D},S.$locale=function(){return T[this.$L]},S.locale=function(C,x){if(!C)return this.$L;var F=this.clone(),O=G(C,x,!0);return O&&(F.$L=O),F},S.clone=function(){return k.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},y}(),R=M.prototype;return D.prototype=R,[["$ms",a],["$s",l],["$m",c],["$H",u],["$W",h],["$M",f],["$y",m],["$D",g]].forEach(function(y){R[y[1]]=function(S){return this.$g(S,y[0],y[1])}}),D.extend=function(y,S){return y.$i||(y(S,M,D),y.$i=!0),D},D.locale=G,D.isDayjs=H,D.unix=function(y){return D(1e3*y)},D.en=T[L],D.Ls=T,D.p={},D})},{}],392:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},h=function(v){return(v=+v)+(v>68?1900:2e3)},d=function(v){return function(b){this[v]=+b}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var E=b.match(/([+-]|\d\d)/g),P=60*E[1]+(+E[2]||0);return P===0?0:E[0]==="+"?-P:P}(v)}],p=function(v){var b=u[v];return b&&(b.indexOf?b:b.s.concat(b.f))},m=function(v,b){var E,P=u.meridiem;if(P){for(var A=1;A<=24;A+=1)if(v.indexOf(P(A,0,b))>-1){E=A>12;break}}else E=v===(b?"pm":"PM");return E},g={A:[c,function(v){this.afternoon=m(v,!1)}],a:[c,function(v){this.afternoon=m(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[a,d("day")],Do:[c,function(v){var b=u.ordinal,E=v.match(/\d+/);if(this.day=E[0],b)for(var P=1;P<=31;P+=1)b(P).replace(/\[|\]/g,"")===v&&(this.day=P)}],M:[l,d("month")],MM:[a,d("month")],MMM:[c,function(v){var b=p("months"),E=(p("monthsShort")||b.map(function(P){return P.slice(0,3)})).indexOf(v)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[c,function(v){var b=p("months").indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(v){this.year=h(v)}],YYYY:[/\d{4}/,d("year")],Z:f,ZZ:f};function w(v){var b,E;b=v,E=u&&u.formats;for(var P=(v=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,k,M){var R=M&&M.toUpperCase();return k||E[M]||s[M]||E[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,S,C){return S||C.slice(1)})})).match(o),A=P.length,L=0;L<A;L+=1){var T=P[L],B=g[T],H=B&&B[0],G=B&&B[1];P[L]=G?{regex:H,parser:G}:T.replace(/^\[|\]$/g,"")}return function(D){for(var k={},M=0,R=0;M<A;M+=1){var y=P[M];if(typeof y=="string")R+=y.length;else{var S=y.regex,C=y.parser,x=D.slice(R),F=S.exec(x)[0];C.call(k,F),D=D.replace(F,"")}}return function(O){var N=O.afternoon;if(N!==void 0){var j=O.hours;N?j<12&&(O.hours+=12):j===12&&(O.hours=0),delete O.afternoon}}(k),k}}return function(v,b,E){E.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(h=v.parseTwoDigitYear);var P=b.prototype,A=P.parse;P.parse=function(L){var T=L.date,B=L.utc,H=L.args;this.$u=B;var G=H[1];if(typeof G=="string"){var D=H[2]===!0,k=H[3]===!0,M=D||k,R=H[2];k&&(R=H[2]),u=this.$locale(),!D&&R&&(u=E.Ls[R]),this.$d=function(x,F,O){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*x);var N=w(F)(x),j=N.year,W=N.month,q=N.day,V=N.hours,$=N.minutes,I=N.seconds,_=N.milliseconds,z=N.zone,K=new Date,Q=q||(j||W?1:K.getDate()),X=j||K.getFullYear(),Z=0;j&&!W||(Z=W>0?W-1:K.getMonth());var ne=V||0,ie=$||0,Y=I||0,te=_||0;return z?new Date(Date.UTC(X,Z,Q,ne,ie,Y,te+60*z.offset*1e3)):O?new Date(Date.UTC(X,Z,Q,ne,ie,Y,te)):new Date(X,Z,Q,ne,ie,Y,te)}catch{return new Date("")}}(T,G,B),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),M&&T!=this.format(G)&&(this.$d=new Date("")),u={}}else if(G instanceof Array)for(var y=G.length,S=1;S<=y;S+=1){H[1]=G[S-1];var C=E.apply(this,H);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}S===y&&(this.$d=new Date(""))}else A.call(this,L)}}})},{}],393:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=o()})(void 0,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,c,u){var h=c.prototype;u.utc=function(v){var b={date:v,utc:!0,args:arguments};return new c(b)},h.utc=function(v){var b=u(this.toDate(),{locale:this.$L,utc:!0});return v?b.add(this.utcOffset(),s):b},h.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var d=h.parse;h.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),d.call(this,v)};var f=h.init;h.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else f.call(this)};var p=h.utcOffset;h.utcOffset=function(v,b){var E=this.$utils().u;if(E(v))return this.$u?0:E(this.$offset)?p.call(this):this.$offset;if(typeof v=="string"&&(v=function(T){T===void 0&&(T="");var B=T.match(o);if(!B)return null;var H=(""+B[0]).match(a)||["-",0,0],G=H[0],D=60*+H[1]+ +H[2];return D===0?0:G==="+"?D:-D}(v))===null)return this;var P=Math.abs(v)<=16?60*v:v,A=this;if(b)return A.$offset=P,A.$u=v===0,A;if(v!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(P+L,s)).$offset=P,A.$x.$localOffset=L}else A=this.utc();return A};var m=h.format;h.format=function(v){var b=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,b)},h.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var g=h.toDate;h.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=h.diff;h.diff=function(v,b,E){if(v&&this.$u===v.$u)return w.call(this,v,b,E);var P=this.local(),A=u(v).local();return w.call(P,A,b,E)}}})},{}],394:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a={};function l(c){s.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}i.instantiate=function(c){function u(p){c.call(this,p),this._cbcInit()}o(u,c);for(var h=Object.keys(a),d=0;d<h.length;d++){var f=h[d];u.prototype[f]=a[f]}return u.create=function(p){return new u(p)},u},a._cbcInit=function(){var c=new l(this.options.iv);this._cbcState=c},a._update=function(c,u,h,d){var f=this._cbcState,p=this.constructor.super_.prototype,m=f.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)m[g]^=c[u+g];for(p._update.call(this,m,0,h,d),g=0;g<this.blockSize;g++)m[g]=h[d+g]}else{for(p._update.call(this,c,u,h,d),g=0;g<this.blockSize;g++)h[d+g]^=m[g];for(g=0;g<this.blockSize;g++)m[g]=c[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,i){var s=r("minimalistic-assert");function o(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},o.prototype._buffer=function(a,l){for(var c=Math.min(this.buffer.length-this.bufferOff,a.length-l),u=0;u<c;u++)this.buffer[this.bufferOff+u]=a[l+u];return this.bufferOff+=c,c},o.prototype._flushBuffer=function(a,l){return this._update(this.buffer,0,a,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(a){var l=0,c=0,u=(this.bufferOff+a.length)/this.blockSize|0,h=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(a,l),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var d=a.length-(a.length-l)%this.blockSize;l<d;l+=this.blockSize)this._update(a,l,h,c),c+=this.blockSize;for(;l<a.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=a[l];return h},o.prototype._updateDecrypt=function(a){for(var l=0,c=0,u=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,h=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(a,l),c+=this._flushBuffer(h,c);return l+=this._buffer(a,l),h},o.prototype.final=function(a){var l,c;return a&&(l=this.update(a)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(c):c},o.prototype._pad=function(a,l){if(l===0)return!1;for(;l<a.length;)a[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},o.prototype._unpad=function(a){return a},o.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./utils"),l=r("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function u(d){l.call(this,d);var f=new c;this._desState=f,this.deriveKeys(f,d.key)}o(u,l),n.exports=u,u.create=function(d){return new u(d)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(d,f){d.keys=new Array(32),s.equal(f.length,this.blockSize,"Invalid key length");var p=a.readUInt32BE(f,0),m=a.readUInt32BE(f,4);a.pc1(p,m,d.tmp,0),p=d.tmp[0],m=d.tmp[1];for(var g=0;g<d.keys.length;g+=2){var w=h[g>>>1];p=a.r28shl(p,w),m=a.r28shl(m,w),a.pc2(p,m,d.keys,g)}},u.prototype._update=function(d,f,p,m){var g=this._desState,w=a.readUInt32BE(d,f),v=a.readUInt32BE(d,f+4);a.ip(w,v,g.tmp,0),w=g.tmp[0],v=g.tmp[1],this.type==="encrypt"?this._encrypt(g,w,v,g.tmp,0):this._decrypt(g,w,v,g.tmp,0),w=g.tmp[0],v=g.tmp[1],a.writeUInt32BE(p,w,m),a.writeUInt32BE(p,v,m+4)},u.prototype._pad=function(d,f){if(this.padding===!1)return!1;for(var p=d.length-f,m=f;m<d.length;m++)d[m]=p;return!0},u.prototype._unpad=function(d){if(this.padding===!1)return d;for(var f=d[d.length-1],p=d.length-f;p<d.length;p++)s.equal(d[p],f);return d.slice(0,d.length-f)},u.prototype._encrypt=function(d,f,p,m,g){for(var w=f,v=p,b=0;b<d.keys.length;b+=2){var E=d.keys[b],P=d.keys[b+1];a.expand(v,d.tmp,0),E^=d.tmp[0],P^=d.tmp[1];var A=a.substitute(E,P),L=v;v=(w^a.permute(A))>>>0,w=L}a.rip(v,w,m,g)},u.prototype._decrypt=function(d,f,p,m,g){for(var w=p,v=f,b=d.keys.length-2;b>=0;b-=2){var E=d.keys[b],P=d.keys[b+1];a.expand(w,d.tmp,0),E^=d.tmp[0],P^=d.tmp[1];var A=a.substitute(E,P),L=w;w=(v^a.permute(A))>>>0,v=L}a.rip(w,v,m,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./cipher"),l=r("./des");function c(h,d){s.equal(d.length,24,"Invalid key length");var f=d.slice(0,8),p=d.slice(8,16),m=d.slice(16,24);this.ciphers=h==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:m})]:[l.create({type:"decrypt",key:m}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:f})]}function u(h){a.call(this,h);var d=new c(this.type,this.options.key);this._edeState=d}o(u,a),n.exports=u,u.create=function(h){return new u(h)},u.prototype._update=function(h,d,f,p){var m=this._edeState;m.ciphers[0]._update(h,d,f,p),m.ciphers[1]._update(f,p,f,p),m.ciphers[2]._update(f,p,f,p)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,i){i.readUInt32BE=function(l,c){return(l[0+c]<<24|l[1+c]<<16|l[2+c]<<8|l[3+c])>>>0},i.writeUInt32BE=function(l,c,u){l[0+u]=c>>>24,l[1+u]=c>>>16&255,l[2+u]=c>>>8&255,l[3+u]=255&c},i.ip=function(l,c,u,h){for(var d=0,f=0,p=6;p>=0;p-=2){for(var m=0;m<=24;m+=8)d<<=1,d|=c>>>m+p&1;for(m=0;m<=24;m+=8)d<<=1,d|=l>>>m+p&1}for(p=6;p>=0;p-=2){for(m=1;m<=25;m+=8)f<<=1,f|=c>>>m+p&1;for(m=1;m<=25;m+=8)f<<=1,f|=l>>>m+p&1}u[h+0]=d>>>0,u[h+1]=f>>>0},i.rip=function(l,c,u,h){for(var d=0,f=0,p=0;p<4;p++)for(var m=24;m>=0;m-=8)d<<=1,d|=c>>>m+p&1,d<<=1,d|=l>>>m+p&1;for(p=4;p<8;p++)for(m=24;m>=0;m-=8)f<<=1,f|=c>>>m+p&1,f<<=1,f|=l>>>m+p&1;u[h+0]=d>>>0,u[h+1]=f>>>0},i.pc1=function(l,c,u,h){for(var d=0,f=0,p=7;p>=5;p--){for(var m=0;m<=24;m+=8)d<<=1,d|=c>>m+p&1;for(m=0;m<=24;m+=8)d<<=1,d|=l>>m+p&1}for(m=0;m<=24;m+=8)d<<=1,d|=c>>m+p&1;for(p=1;p<=3;p++){for(m=0;m<=24;m+=8)f<<=1,f|=c>>m+p&1;for(m=0;m<=24;m+=8)f<<=1,f|=l>>m+p&1}for(m=0;m<=24;m+=8)f<<=1,f|=l>>m+p&1;u[h+0]=d>>>0,u[h+1]=f>>>0},i.r28shl=function(l,c){return l<<c&268435455|l>>>28-c};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,c,u,h){for(var d=0,f=0,p=s.length>>>1,m=0;m<p;m++)d<<=1,d|=l>>>s[m]&1;for(m=p;m<s.length;m++)f<<=1,f|=c>>>s[m]&1;u[h+0]=d>>>0,u[h+1]=f>>>0},i.expand=function(l,c,u){var h=0,d=0;h=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)h<<=6,h|=l>>>f&63;for(f=11;f>=3;f-=4)d|=l>>>f&63,d<<=6;d|=(31&l)<<1|l>>>31,c[u+0]=h>>>0,c[u+1]=d>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,c){for(var u=0,h=0;h<4;h++)u<<=4,u|=o[64*h+(l>>>18-6*h&63)];for(h=0;h<4;h++)u<<=4,u|=o[256+64*h+(c>>>18-6*h&63)];return u>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var c=0,u=0;u<a.length;u++)c<<=1,c|=l>>>a[u]&1;return c>>>0},i.padSplit=function(l,c,u){for(var h=l.toString(2);h.length<c;)h="0"+h;for(var d=[],f=0;f<c;f+=u)d.push(h.slice(f,f+u));return d.join(" ")}},{}],400:[function(r,n,i){(function(s){(function(){var o=r("./lib/generatePrime"),a=r("./lib/primes.json"),l=r("./lib/dh"),c={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var h=new s(a[u].prime,"hex"),d=new s(a[u].gen,"hex");return new l(h,d)},i.createDiffieHellman=i.DiffieHellman=function u(h,d,f,p){return s.isBuffer(d)||c[d]===void 0?u(h,"binary",d,f):(d=d||"binary",p=p||"binary",f=f||new s([2]),s.isBuffer(f)||(f=new s(f,p)),typeof h=="number"?new l(o(h,f),f,!0):(s.isBuffer(h)||(h=new s(h,d)),new l(h,f,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=new(r("miller-rabin")),l=new o(24),c=new o(11),u=new o(10),h=new o(3),d=new o(7),f=r("./generatePrime"),p=r("randombytes");function m(E,P){return P=P||"utf8",s.isBuffer(E)||(E=new s(E,P)),this._pub=new o(E),this}function g(E,P){return P=P||"utf8",s.isBuffer(E)||(E=new s(E,P)),this._priv=new o(E),this}n.exports=v;var w={};function v(E,P,A){this.setGenerator(P),this.__prime=new o(E),this._prime=o.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,A?(this.setPublicKey=m,this.setPrivateKey=g):this._primeCode=8}function b(E,P){var A=new s(E.toArray());return P?A.toString(P):A}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(E,P){var A=P.toString("hex"),L=[A,E.toString(16)].join("_");if(L in w)return w[L];var T,B=0;if(E.isEven()||!f.simpleSieve||!f.fermatTest(E)||!a.test(E))return B+=1,B+=A==="02"||A==="05"?8:4,w[L]=B,B;switch(a.test(E.shrn(1))||(B+=2),A){case"02":E.mod(l).cmp(c)&&(B+=8);break;case"05":(T=E.mod(u)).cmp(h)&&T.cmp(d)&&(B+=8);break;default:B+=4}return w[L]=B,B}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new o(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(E){var P=(E=(E=new o(E)).toRed(this._prime)).redPow(this._priv).fromRed(),A=new s(P.toArray()),L=this.getPrime();if(A.length<L.length){var T=new s(L.length-A.length);T.fill(0),A=s.concat([T,A])}return A},v.prototype.getPublicKey=function(E){return b(this._pub,E)},v.prototype.getPrivateKey=function(E){return b(this._priv,E)},v.prototype.getPrime=function(E){return b(this.__prime,E)},v.prototype.getGenerator=function(E){return b(this._gen,E)},v.prototype.setGenerator=function(E,P){return P=P||"utf8",s.isBuffer(E)||(E=new s(E,P)),this.__gen=E,this._gen=new o(E),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,i){var s=r("randombytes");n.exports=E,E.simpleSieve=v,E.fermatTest=b;var o=r("bn.js"),a=new o(24),l=new(r("miller-rabin")),c=new o(1),u=new o(2),h=new o(5),d=(new o(16),new o(8),new o(10)),f=new o(3),p=(new o(7),new o(11)),m=new o(4),g=(new o(12),null);function w(){if(g!==null)return g;var P=[];P[0]=2;for(var A=1,L=3;L<1048576;L+=2){for(var T=Math.ceil(Math.sqrt(L)),B=0;B<A&&P[B]<=T&&L%P[B]!=0;B++);A!==B&&P[B]<=T||(P[A++]=L)}return g=P,P}function v(P){for(var A=w(),L=0;L<A.length;L++)if(P.modn(A[L])===0)return P.cmpn(A[L])===0;return!0}function b(P){var A=o.mont(P);return u.toRed(A).redPow(P.subn(1)).fromRed().cmpn(1)===0}function E(P,A){if(P<16)return new o(A===2||A===5?[140,123]:[140,39]);var L,T;for(A=new o(A);;){for(L=new o(s(Math.ceil(P/8)));L.bitLength()>P;)L.ishrn(1);if(L.isEven()&&L.iadd(c),L.testn(1)||L.iadd(u),A.cmp(u)){if(!A.cmp(h))for(;L.mod(d).cmp(f);)L.iadd(m)}else for(;L.mod(a).cmp(p);)L.iadd(m);if(v(T=L.shrn(1))&&v(L)&&b(T)&&b(L)&&l.test(T)&&l.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(r,n,i){var s=i;s.version=r("../package.json").version,s.utils=r("./elliptic/utils"),s.rand=r("brorand"),s.curve=r("./elliptic/curve"),s.curves=r("./elliptic/curves"),s.ec=r("./elliptic/ec"),s.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.getNAF,l=o.getJSF,c=o.assert;function u(d,f){this.type=d,this.p=new s(f.p,16),this.red=f.prime?s.red(f.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=f.n&&new s(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(d,f){this.curve=d,this.type=f,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(d,f){c(d.precomputed);var p=d._getDoubles(),m=a(f,1,this._bitLength),g=(1<<p.step+1)-(p.step%2==0?2:1);g/=3;var w,v,b=[];for(w=0;w<m.length;w+=p.step){v=0;for(var E=w+p.step-1;E>=w;E--)v=(v<<1)+m[E];b.push(v)}for(var P=this.jpoint(null,null,null),A=this.jpoint(null,null,null),L=g;L>0;L--){for(w=0;w<b.length;w++)(v=b[w])===L?A=A.mixedAdd(p.points[w]):v===-L&&(A=A.mixedAdd(p.points[w].neg()));P=P.add(A)}return P.toP()},u.prototype._wnafMul=function(d,f){var p=4,m=d._getNAFPoints(p);p=m.wnd;for(var g=m.points,w=a(f,p,this._bitLength),v=this.jpoint(null,null,null),b=w.length-1;b>=0;b--){for(var E=0;b>=0&&w[b]===0;b--)E++;if(b>=0&&E++,v=v.dblp(E),b<0)break;var P=w[b];c(P!==0),v=d.type==="affine"?P>0?v.mixedAdd(g[P-1>>1]):v.mixedAdd(g[-P-1>>1].neg()):P>0?v.add(g[P-1>>1]):v.add(g[-P-1>>1].neg())}return d.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(d,f,p,m,g){var w,v,b,E=this._wnafT1,P=this._wnafT2,A=this._wnafT3,L=0;for(w=0;w<m;w++){var T=(b=f[w])._getNAFPoints(d);E[w]=T.wnd,P[w]=T.points}for(w=m-1;w>=1;w-=2){var B=w-1,H=w;if(E[B]===1&&E[H]===1){var G=[f[B],null,null,f[H]];f[B].y.cmp(f[H].y)===0?(G[1]=f[B].add(f[H]),G[2]=f[B].toJ().mixedAdd(f[H].neg())):f[B].y.cmp(f[H].y.redNeg())===0?(G[1]=f[B].toJ().mixedAdd(f[H]),G[2]=f[B].add(f[H].neg())):(G[1]=f[B].toJ().mixedAdd(f[H]),G[2]=f[B].toJ().mixedAdd(f[H].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],k=l(p[B],p[H]);for(L=Math.max(k[0].length,L),A[B]=new Array(L),A[H]=new Array(L),v=0;v<L;v++){var M=0|k[0][v],R=0|k[1][v];A[B][v]=D[3*(M+1)+(R+1)],A[H][v]=0,P[B]=G}}else A[B]=a(p[B],E[B],this._bitLength),A[H]=a(p[H],E[H],this._bitLength),L=Math.max(A[B].length,L),L=Math.max(A[H].length,L)}var y=this.jpoint(null,null,null),S=this._wnafT4;for(w=L;w>=0;w--){for(var C=0;w>=0;){var x=!0;for(v=0;v<m;v++)S[v]=0|A[v][w],S[v]!==0&&(x=!1);if(!x)break;C++,w--}if(w>=0&&C++,y=y.dblp(C),w<0)break;for(v=0;v<m;v++){var F=S[v];F!==0&&(F>0?b=P[v][F-1>>1]:F<0&&(b=P[v][-F-1>>1].neg()),y=b.type==="affine"?y.mixedAdd(b):y.add(b))}}for(w=0;w<m;w++)P[w]=null;return g?y:y.toP()},u.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(d,f){d=o.toArray(d,f);var p=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*p)return d[0]===6?c(d[d.length-1]%2==0):d[0]===7&&c(d[d.length-1]%2==1),this.point(d.slice(1,1+p),d.slice(1+p,1+2*p));if((d[0]===2||d[0]===3)&&d.length-1===p)return this.pointFromX(d.slice(1,1+p),d[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(d){return this.encode(d,!0)},h.prototype._encode=function(d){var f=this.curve.p.byteLength(),p=this.getX().toArray("be",f);return d?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",f))},h.prototype.encode=function(d,f){return o.encode(this._encode(f),d)},h.prototype.precompute=function(d){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,d),f.beta=this._getBeta(),this.precomputed=f,this},h.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((d.bitLength()+1)/f.step)},h.prototype._getDoubles=function(d,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],m=this,g=0;g<f;g+=d){for(var w=0;w<d;w++)m=m.dbl();p.push(m)}return{step:d,points:p}},h.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],p=(1<<d)-1,m=p===1?null:this.dbl(),g=1;g<p;g++)f[g]=f[g-1].add(m);return{wnd:d,points:f}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(d){for(var f=this,p=0;p<d;p++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",d),this.a=new o(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function h(d,f,p,m,g){l.BasePoint.call(this,d,"projective"),f===null&&p===null&&m===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(f,16),this.y=new o(p,16),this.z=m?new o(m,16):this.curve.one,this.t=g&&new o(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,l),n.exports=u,u.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},u.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},u.prototype.jpoint=function(d,f,p,m){return this.point(d,f,p,m)},u.prototype.pointFromX=function(d,f){(d=new o(d,16)).red||(d=d.toRed(this.red));var p=d.redSqr(),m=this.c2.redSub(this.a.redMul(p)),g=this.one.redSub(this.c2.redMul(this.d).redMul(p)),w=m.redMul(g.redInvm()),v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var b=v.fromRed().isOdd();return(f&&!b||!f&&b)&&(v=v.redNeg()),this.point(d,v)},u.prototype.pointFromY=function(d,f){(d=new o(d,16)).red||(d=d.toRed(this.red));var p=d.redSqr(),m=p.redSub(this.c2),g=p.redMul(this.d).redMul(this.c2).redSub(this.a),w=m.redMul(g.redInvm());if(w.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,d)}var v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==f&&(v=v.redNeg()),this.point(v,d)},u.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var f=d.x.redSqr(),p=d.y.redSqr(),m=f.redMul(this.a).redAdd(p),g=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(p)));return m.cmp(g)===0},a(h,l.BasePoint),u.prototype.pointFromJSON=function(d){return h.fromJSON(this,d)},u.prototype.point=function(d,f,p,m){return new h(this,d,f,p,m)},h.fromJSON=function(d,f){return new h(d,f[0],f[1],f[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var d=this.x.redSqr(),f=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var m=this.curve._mulA(d),g=this.x.redAdd(this.y).redSqr().redISub(d).redISub(f),w=m.redAdd(f),v=w.redSub(p),b=m.redSub(f),E=g.redMul(v),P=w.redMul(b),A=g.redMul(b),L=v.redMul(w);return this.curve.point(E,P,L,A)},h.prototype._projDbl=function(){var d,f,p,m,g,w,v=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var P=(m=this.curve._mulA(b)).redAdd(E);this.zOne?(d=v.redSub(b).redSub(E).redMul(P.redSub(this.curve.two)),f=P.redMul(m.redSub(E)),p=P.redSqr().redSub(P).redSub(P)):(g=this.z.redSqr(),w=P.redSub(g).redISub(g),d=v.redSub(b).redISub(E).redMul(w),f=P.redMul(m.redSub(E)),p=P.redMul(w))}else m=b.redAdd(E),g=this.curve._mulC(this.z).redSqr(),w=m.redSub(g).redSub(g),d=this.curve._mulC(v.redISub(m)).redMul(w),f=this.curve._mulC(m).redMul(b.redISub(E)),p=m.redMul(w);return this.curve.point(d,f,p)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(d){var f=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),p=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),m=this.t.redMul(this.curve.dd).redMul(d.t),g=this.z.redMul(d.z.redAdd(d.z)),w=p.redSub(f),v=g.redSub(m),b=g.redAdd(m),E=p.redAdd(f),P=w.redMul(v),A=b.redMul(E),L=w.redMul(E),T=v.redMul(b);return this.curve.point(P,A,T,L)},h.prototype._projAdd=function(d){var f,p,m=this.z.redMul(d.z),g=m.redSqr(),w=this.x.redMul(d.x),v=this.y.redMul(d.y),b=this.curve.d.redMul(w).redMul(v),E=g.redSub(b),P=g.redAdd(b),A=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(w).redISub(v),L=m.redMul(E).redMul(A);return this.curve.twisted?(f=m.redMul(P).redMul(v.redSub(this.curve._mulA(w))),p=E.redMul(P)):(f=m.redMul(P).redMul(v.redSub(w)),p=this.curve._mulC(E).redMul(P)),this.curve.point(L,f,p)},h.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},h.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},h.prototype.mulAdd=function(d,f,p){return this.curve._wnafMulAdd(1,[this,f],[d,p],2,!1)},h.prototype.jmulAdd=function(d,f,p){return this.curve._wnafMulAdd(1,[this,f],[d,p],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},h.prototype.eqXToP=function(d){var f=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var p=d.clone(),m=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(m),this.x.cmp(f)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,i){var s=i;s.base=r("./base"),s.short=r("./short"),s.mont=r("./mont"),s.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,i){var s=r("bn.js"),o=r("inherits"),a=r("./base"),l=r("../utils");function c(h){a.call(this,"mont",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(h,d,f){a.BasePoint.call(this,h,"projective"),d===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(d,16),this.z=new s(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(c,a),n.exports=c,c.prototype.validate=function(h){var d=h.normalize().x,f=d.redSqr(),p=f.redMul(d).redAdd(f.redMul(this.a)).redAdd(d);return p.redSqrt().redSqr().cmp(p)===0},o(u,a.BasePoint),c.prototype.decodePoint=function(h,d){return this.point(l.toArray(h,d),1)},c.prototype.point=function(h,d){return new u(this,h,d)},c.prototype.pointFromJSON=function(h){return u.fromJSON(this,h)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(h,d){return new u(h,d[0],d[1]||h.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),f=h.redSub(d),p=h.redMul(d),m=f.redMul(d.redAdd(this.curve.a24.redMul(f)));return this.curve.point(p,m)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(h,d){var f=this.x.redAdd(this.z),p=this.x.redSub(this.z),m=h.x.redAdd(h.z),g=h.x.redSub(h.z).redMul(f),w=m.redMul(p),v=d.z.redMul(g.redAdd(w).redSqr()),b=d.x.redMul(g.redISub(w).redSqr());return this.curve.point(v,b)},u.prototype.mul=function(h){for(var d=h.clone(),f=this,p=this.curve.point(null,null),m=[];d.cmpn(0)!==0;d.iushrn(1))m.push(d.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(f=f.diffAdd(p,this),p=p.dbl()):(p=f.diffAdd(p,this),f=f.dbl());return p},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(f){l.call(this,"short",f),this.a=new o(f.a,16).toRed(this.red),this.b=new o(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(f,p,m,g){l.BasePoint.call(this,f,"affine"),p===null&&m===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(p,16),this.y=new o(m,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(f,p,m,g){l.BasePoint.call(this,f,"jacobian"),p===null&&m===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(p,16),this.y=new o(m,16),this.z=new o(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(u,l),n.exports=u,u.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,m;if(f.beta)p=new o(f.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);p=(p=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(f.lambda)m=new o(f.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(p))===0?m=w[0]:(m=w[1],c(this.g.mul(m).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:m,basis:f.basis?f.basis.map(function(v){return{a:new o(v.a,16),b:new o(v.b,16)}}):this._getEndoBasis(m)}}},u.prototype._getEndoRoots=function(f){var p=f===this.p?this.red:o.mont(f),m=new o(2).toRed(p).redInvm(),g=m.redNeg(),w=new o(3).toRed(p).redNeg().redSqrt().redMul(m);return[g.redAdd(w).fromRed(),g.redSub(w).fromRed()]},u.prototype._getEndoBasis=function(f){for(var p,m,g,w,v,b,E,P,A,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=f,B=this.n.clone(),H=new o(1),G=new o(0),D=new o(0),k=new o(1),M=0;T.cmpn(0)!==0;){var R=B.div(T);P=B.sub(R.mul(T)),A=D.sub(R.mul(H));var y=k.sub(R.mul(G));if(!g&&P.cmp(L)<0)p=E.neg(),m=H,g=P.neg(),w=A;else if(g&&++M==2)break;E=P,B=T,T=P,D=H,H=A,k=G,G=y}v=P.neg(),b=A;var S=g.sqr().add(w.sqr());return v.sqr().add(b.sqr()).cmp(S)>=0&&(v=p,b=m),g.negative&&(g=g.neg(),w=w.neg()),v.negative&&(v=v.neg(),b=b.neg()),[{a:g,b:w},{a:v,b}]},u.prototype._endoSplit=function(f){var p=this.endo.basis,m=p[0],g=p[1],w=g.b.mul(f).divRound(this.n),v=m.b.neg().mul(f).divRound(this.n),b=w.mul(m.a),E=v.mul(g.a),P=w.mul(m.b),A=v.mul(g.b);return{k1:f.sub(b).sub(E),k2:P.add(A).neg()}},u.prototype.pointFromX=function(f,p){(f=new o(f,16)).red||(f=f.toRed(this.red));var m=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var w=g.fromRed().isOdd();return(p&&!w||!p&&w)&&(g=g.redNeg()),this.point(f,g)},u.prototype.validate=function(f){if(f.inf)return!0;var p=f.x,m=f.y,g=this.a.redMul(p),w=p.redSqr().redMul(p).redIAdd(g).redIAdd(this.b);return m.redSqr().redISub(w).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(f,p,m){for(var g=this._endoWnafT1,w=this._endoWnafT2,v=0;v<f.length;v++){var b=this._endoSplit(p[v]),E=f[v],P=E._getBeta();b.k1.negative&&(b.k1.ineg(),E=E.neg(!0)),b.k2.negative&&(b.k2.ineg(),P=P.neg(!0)),g[2*v]=E,g[2*v+1]=P,w[2*v]=b.k1,w[2*v+1]=b.k2}for(var A=this._wnafMulAdd(1,g,w,2*v,m),L=0;L<2*v;L++)g[L]=null,w[L]=null;return A},a(h,l.BasePoint),u.prototype.point=function(f,p,m){return new h(this,f,p,m)},u.prototype.pointFromJSON=function(f,p){return h.fromJSON(this,f,p)},h.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var m=this.curve,g=function(w){return m.point(w.x.redMul(m.endo.beta),w.y)};f.beta=p,p.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(g)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(g)}}}return p}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(f,p,m){typeof p=="string"&&(p=JSON.parse(p));var g=f.point(p[0],p[1],m);if(!p[2])return g;function w(b){return f.point(b[0],b[1],m)}var v=p[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(w))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(w))}},g},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var p=this.y.redSub(f.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(f.x).redInvm()));var m=p.redSqr().redISub(this.x).redISub(f.x),g=p.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,g)},h.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,m=this.x.redSqr(),g=f.redInvm(),w=m.redAdd(m).redIAdd(m).redIAdd(p).redMul(g),v=w.redSqr().redISub(this.x.redAdd(this.x)),b=w.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,b)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(f){return f=new o(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,p,m){var g=[this,p],w=[f,m];return this.curve.endo?this.curve._endoWnafMulAdd(g,w):this.curve._wnafMulAdd(1,g,w,2)},h.prototype.jmulAdd=function(f,p,m){var g=[this,p],w=[f,m];return this.curve.endo?this.curve._endoWnafMulAdd(g,w,!0):this.curve._wnafMulAdd(1,g,w,2,!0)},h.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},h.prototype.neg=function(f){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var m=this.precomputed,g=function(w){return w.neg()};p.precomputed={naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(g)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(g)}}}return p},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,l.BasePoint),u.prototype.jpoint=function(f,p,m){return new d(this,f,p,m)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),p=f.redSqr(),m=this.x.redMul(p),g=this.y.redMul(p).redMul(f);return this.curve.point(m,g)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var p=f.z.redSqr(),m=this.z.redSqr(),g=this.x.redMul(p),w=f.x.redMul(m),v=this.y.redMul(p.redMul(f.z)),b=f.y.redMul(m.redMul(this.z)),E=g.redSub(w),P=v.redSub(b);if(E.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=E.redSqr(),L=A.redMul(E),T=g.redMul(A),B=P.redSqr().redIAdd(L).redISub(T).redISub(T),H=P.redMul(T.redISub(B)).redISub(v.redMul(L)),G=this.z.redMul(f.z).redMul(E);return this.curve.jpoint(B,H,G)},d.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var p=this.z.redSqr(),m=this.x,g=f.x.redMul(p),w=this.y,v=f.y.redMul(p).redMul(this.z),b=m.redSub(g),E=w.redSub(v);if(b.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=b.redSqr(),A=P.redMul(b),L=m.redMul(P),T=E.redSqr().redIAdd(A).redISub(L).redISub(L),B=E.redMul(L.redISub(T)).redISub(w.redMul(A)),H=this.z.redMul(b);return this.curve.jpoint(T,B,H)},d.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var m=this;for(p=0;p<f;p++)m=m.dbl();return m}var g=this.curve.a,w=this.curve.tinv,v=this.x,b=this.y,E=this.z,P=E.redSqr().redSqr(),A=b.redAdd(b);for(p=0;p<f;p++){var L=v.redSqr(),T=A.redSqr(),B=T.redSqr(),H=L.redAdd(L).redIAdd(L).redIAdd(g.redMul(P)),G=v.redMul(T),D=H.redSqr().redISub(G.redAdd(G)),k=G.redISub(D),M=H.redMul(k);M=M.redIAdd(M).redISub(B);var R=A.redMul(E);p+1<f&&(P=P.redMul(B)),v=D,E=R,A=M}return this.curve.jpoint(v,A.redMul(w),E)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var f,p,m;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),b=this.x.redAdd(w).redSqr().redISub(g).redISub(v);b=b.redIAdd(b);var E=g.redAdd(g).redIAdd(g),P=E.redSqr().redISub(b).redISub(b),A=v.redIAdd(v);A=(A=A.redIAdd(A)).redIAdd(A),f=P,p=E.redMul(b.redISub(P)).redISub(A),m=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),T=this.y.redSqr(),B=T.redSqr(),H=this.x.redAdd(T).redSqr().redISub(L).redISub(B);H=H.redIAdd(H);var G=L.redAdd(L).redIAdd(L),D=G.redSqr(),k=B.redIAdd(B);k=(k=k.redIAdd(k)).redIAdd(k),f=D.redISub(H).redISub(H),p=G.redMul(H.redISub(f)).redISub(k),m=(m=this.y.redMul(this.z)).redIAdd(m)}return this.curve.jpoint(f,p,m)},d.prototype._threeDbl=function(){var f,p,m;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),b=this.x.redAdd(w).redSqr().redISub(g).redISub(v);b=b.redIAdd(b);var E=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),P=E.redSqr().redISub(b).redISub(b);f=P;var A=v.redIAdd(v);A=(A=A.redIAdd(A)).redIAdd(A),p=E.redMul(b.redISub(P)).redISub(A),m=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),T=this.y.redSqr(),B=this.x.redMul(T),H=this.x.redSub(L).redMul(this.x.redAdd(L));H=H.redAdd(H).redIAdd(H);var G=B.redIAdd(B),D=(G=G.redIAdd(G)).redAdd(G);f=H.redSqr().redISub(D),m=this.y.redAdd(this.z).redSqr().redISub(T).redISub(L);var k=T.redSqr();k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k),p=H.redMul(G.redISub(f)).redISub(k)}return this.curve.jpoint(f,p,m)},d.prototype._dbl=function(){var f=this.curve.a,p=this.x,m=this.y,g=this.z,w=g.redSqr().redSqr(),v=p.redSqr(),b=m.redSqr(),E=v.redAdd(v).redIAdd(v).redIAdd(f.redMul(w)),P=p.redAdd(p),A=(P=P.redIAdd(P)).redMul(b),L=E.redSqr().redISub(A.redAdd(A)),T=A.redISub(L),B=b.redSqr();B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var H=E.redMul(T).redISub(B),G=m.redAdd(m).redMul(g);return this.curve.jpoint(L,H,G)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),p=this.y.redSqr(),m=this.z.redSqr(),g=p.redSqr(),w=f.redAdd(f).redIAdd(f),v=w.redSqr(),b=this.x.redAdd(p).redSqr().redISub(f).redISub(g),E=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(v)).redSqr(),P=g.redIAdd(g);P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var A=w.redIAdd(b).redSqr().redISub(v).redISub(E).redISub(P),L=p.redMul(A);L=(L=L.redIAdd(L)).redIAdd(L);var T=this.x.redMul(E).redISub(L);T=(T=T.redIAdd(T)).redIAdd(T);var B=this.y.redMul(A.redMul(P.redISub(A)).redISub(b.redMul(E)));B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var H=this.z.redAdd(b).redSqr().redISub(m).redISub(E);return this.curve.jpoint(T,B,H)},d.prototype.mul=function(f,p){return f=new o(f,p),this.curve._wnafMul(this,f)},d.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var p=this.z.redSqr(),m=f.z.redSqr();if(this.x.redMul(m).redISub(f.x.redMul(p)).cmpn(0)!==0)return!1;var g=p.redMul(this.z),w=m.redMul(f.z);return this.y.redMul(w).redISub(f.y.redMul(g)).cmpn(0)===0},d.prototype.eqXToP=function(f){var p=this.z.redSqr(),m=f.toRed(this.curve.red).redMul(p);if(this.x.cmp(m)===0)return!0;for(var g=f.clone(),w=this.curve.redN.redMul(p);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(w),this.x.cmp(m)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,i){var s,o=i,a=r("hash.js"),l=r("./curve"),c=r("./utils").assert;function u(d){d.type==="short"?this.curve=new l.short(d):d.type==="edwards"?this.curve=new l.edwards(d):this.curve=new l.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(d,f){Object.defineProperty(o,d,{configurable:!0,enumerable:!0,get:function(){var p=new u(f);return Object.defineProperty(o,d,{configurable:!0,enumerable:!0,value:p}),p}})}o.PresetCurve=u,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=r("./precomputed/secp256k1")}catch{s=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,i){var s=r("bn.js"),o=r("hmac-drbg"),a=r("../utils"),l=r("../curves"),c=r("brorand"),u=a.assert,h=r("./key"),d=r("./signature");function f(p){if(!(this instanceof f))return new f(p);typeof p=="string"&&(u(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}n.exports=f,f.prototype.keyPair=function(p){return new h(this,p)},f.prototype.keyFromPrivate=function(p,m){return h.fromPrivate(this,p,m)},f.prototype.keyFromPublic=function(p,m){return h.fromPublic(this,p,m)},f.prototype.genKeyPair=function(p){p||(p={});for(var m=new o({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||c(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),w=this.n.sub(new s(2));;){var v=new s(m.generate(g));if(!(v.cmp(w)>0))return v.iaddn(1),this.keyFromPrivate(v)}},f.prototype._truncateToN=function(p,m){var g=8*p.byteLength()-this.n.bitLength();return g>0&&(p=p.ushrn(g)),!m&&p.cmp(this.n)>=0?p.sub(this.n):p},f.prototype.sign=function(p,m,g,w){typeof g=="object"&&(w=g,g=null),w||(w={}),m=this.keyFromPrivate(m,g),p=this._truncateToN(new s(p,16));for(var v=this.n.byteLength(),b=m.getPrivate().toArray("be",v),E=p.toArray("be",v),P=new o({hash:this.hash,entropy:b,nonce:E,pers:w.pers,persEnc:w.persEnc||"utf8"}),A=this.n.sub(new s(1)),L=0;;L++){var T=w.k?w.k(L):new s(P.generate(this.n.byteLength()));if(!((T=this._truncateToN(T,!0)).cmpn(1)<=0||T.cmp(A)>=0)){var B=this.g.mul(T);if(!B.isInfinity()){var H=B.getX(),G=H.umod(this.n);if(G.cmpn(0)!==0){var D=T.invm(this.n).mul(G.mul(m.getPrivate()).iadd(p));if((D=D.umod(this.n)).cmpn(0)!==0){var k=(B.getY().isOdd()?1:0)|(H.cmp(G)!==0?2:0);return w.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),k^=1),new d({r:G,s:D,recoveryParam:k})}}}}}},f.prototype.verify=function(p,m,g,w){p=this._truncateToN(new s(p,16)),g=this.keyFromPublic(g,w);var v=(m=new d(m,"hex")).r,b=m.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var E,P=b.invm(this.n),A=P.mul(p).umod(this.n),L=P.mul(v).umod(this.n);return this.curve._maxwellTrick?!(E=this.g.jmulAdd(A,g.getPublic(),L)).isInfinity()&&E.eqXToP(v):!(E=this.g.mulAdd(A,g.getPublic(),L)).isInfinity()&&E.getX().umod(this.n).cmp(v)===0},f.prototype.recoverPubKey=function(p,m,g,w){u((3&g)===g,"The recovery param is more than two bits"),m=new d(m,w);var v=this.n,b=new s(p),E=m.r,P=m.s,A=1&g,L=g>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");E=L?this.curve.pointFromX(E.add(this.curve.n),A):this.curve.pointFromX(E,A);var T=m.r.invm(v),B=v.sub(b).mul(T).umod(v),H=P.mul(T).umod(v);return this.g.mulAdd(B,E,H)},f.prototype.getKeyRecoveryParam=function(p,m,g,w){if((m=new d(m,w)).recoveryParam!==null)return m.recoveryParam;for(var v=0;v<4;v++){var b;try{b=this.recoverPubKey(p,m,v)}catch{continue}if(b.eq(g))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,i){var s=r("bn.js"),o=r("../utils").assert;function a(l,c){this.ec=l,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=a,a.fromPublic=function(l,c,u){return c instanceof a?c:new a(l,{pub:c,pubEnc:u})},a.fromPrivate=function(l,c,u){return c instanceof a?c:new a(l,{priv:c,privEnc:u})},a.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(l,c){return typeof l=="string"&&(c=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,l):this.pub},a.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(l,c){this.priv=new s(l,c||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(l,c){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,c)},a.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},a.prototype.sign=function(l,c,u){return this.ec.sign(l,this,c,u)},a.prototype.verify=function(l,c){return this.ec.verify(l,c,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert;function l(f,p){if(f instanceof l)return f;this._importDER(f,p)||(a(f.r&&f.s,"Signature without r or s"),this.r=new s(f.r,16),this.s=new s(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function c(){this.place=0}function u(f,p){var m=f[p.place++];if(!(128&m))return m;var g=15&m;if(g===0||g>4)return!1;for(var w=0,v=0,b=p.place;v<g;v++,b++)w<<=8,w|=f[b],w>>>=0;return!(w<=127)&&(p.place=b,w)}function h(f){for(var p=0,m=f.length-1;!f[p]&&!(128&f[p+1])&&p<m;)p++;return p===0?f:f.slice(p)}function d(f,p){if(p<128)f.push(p);else{var m=1+(Math.log(p)/Math.LN2>>>3);for(f.push(128|m);--m;)f.push(p>>>(m<<3)&255);f.push(p)}}n.exports=l,l.prototype._importDER=function(f,p){f=o.toArray(f,p);var m=new c;if(f[m.place++]!==48)return!1;var g=u(f,m);if(g===!1||g+m.place!==f.length||f[m.place++]!==2)return!1;var w=u(f,m);if(w===!1)return!1;var v=f.slice(m.place,w+m.place);if(m.place+=w,f[m.place++]!==2)return!1;var b=u(f,m);if(b===!1||f.length!==b+m.place)return!1;var E=f.slice(m.place,b+m.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new s(v),this.s=new s(E),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var p=this.r.toArray(),m=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&m[0]&&(m=[0].concat(m)),p=h(p),m=h(m);!(m[0]||128&m[1]);)m=m.slice(1);var g=[2];d(g,p.length),(g=g.concat(p)).push(2),d(g,m.length);var w=g.concat(m),v=[48];return d(v,w.length),v=v.concat(w),o.encode(v,f)}},{"../utils":419,"bn.js":420}],415:[function(r,n,i){var s=r("hash.js"),o=r("../curves"),a=r("../utils"),l=a.assert,c=a.parseBytes,u=r("./key"),h=r("./signature");function d(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(f);f=o[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=s.sha512}n.exports=d,d.prototype.sign=function(f,p){f=c(f);var m=this.keyFromSecret(p),g=this.hashInt(m.messagePrefix(),f),w=this.g.mul(g),v=this.encodePoint(w),b=this.hashInt(v,m.pubBytes(),f).mul(m.priv()),E=g.add(b).umod(this.curve.n);return this.makeSignature({R:w,S:E,Rencoded:v})},d.prototype.verify=function(f,p,m){f=c(f),p=this.makeSignature(p);var g=this.keyFromPublic(m),w=this.hashInt(p.Rencoded(),g.pubBytes(),f),v=this.g.mul(p.S());return p.R().add(g.pub().mul(w)).eq(v)},d.prototype.hashInt=function(){for(var f=this.hash(),p=0;p<arguments.length;p++)f.update(arguments[p]);return a.intFromLE(f.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(f){return u.fromPublic(this,f)},d.prototype.keyFromSecret=function(f){return u.fromSecret(this,f)},d.prototype.makeSignature=function(f){return f instanceof h?f:new h(this,f)},d.prototype.encodePoint=function(f){var p=f.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=f.getX().isOdd()?128:0,p},d.prototype.decodePoint=function(f){var p=(f=a.parseBytes(f)).length-1,m=f.slice(0,p).concat(-129&f[p]),g=(128&f[p])!=0,w=a.intFromLE(m);return this.curve.pointFromY(w,g)},d.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(f){return a.intFromLE(f)},d.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,i){var s=r("../utils"),o=s.assert,a=s.parseBytes,l=s.cachedProperty;function c(u,h){this.eddsa=u,this._secret=a(h.secret),u.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=a(h.pub)}c.fromPublic=function(u,h){return h instanceof c?h:new c(u,{pub:h})},c.fromSecret=function(u,h){return h instanceof c?h:new c(u,{secret:h})},c.prototype.secret=function(){return this._secret},l(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(c,"privBytes",function(){var u=this.eddsa,h=this.hash(),d=u.encodingLength-1,f=h.slice(0,u.encodingLength);return f[0]&=248,f[d]&=127,f[d]|=64,f}),l(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},c.prototype.verify=function(u,h){return this.eddsa.verify(u,h,this)},c.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},c.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=c},{"../utils":419}],417:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert,l=o.cachedProperty,c=o.parseBytes;function u(h,d){this.eddsa=h,typeof d!="object"&&(d=c(d)),Array.isArray(d)&&(d={R:d.slice(0,h.encodingLength),S:d.slice(h.encodingLength)}),a(d.R&&d.S,"Signature without R or S"),h.isPoint(d.R)&&(this._R=d.R),d.S instanceof s&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,i){var s=i,o=r("bn.js"),a=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");s.assert=a,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(c,u,h){var d=new Array(Math.max(c.bitLength(),h)+1);d.fill(0);for(var f=1<<u+1,p=c.clone(),m=0;m<d.length;m++){var g,w=p.andln(f-1);p.isOdd()?(g=w>(f>>1)-1?(f>>1)-w:w,p.isubn(g)):g=0,d[m]=g,p.iushrn(1)}return d},s.getJSF=function(c,u){var h=[[],[]];c=c.clone(),u=u.clone();for(var d,f=0,p=0;c.cmpn(-f)>0||u.cmpn(-p)>0;){var m,g,w=c.andln(3)+f&3,v=u.andln(3)+p&3;w===3&&(w=-1),v===3&&(v=-1),m=1&w?(d=c.andln(7)+f&7)!==3&&d!==5||v!==2?w:-w:0,h[0].push(m),g=1&v?(d=u.andln(7)+p&7)!==3&&d!==5||w!==2?v:-v:0,h[1].push(g),2*f===m+1&&(f=1-f),2*p===g+1&&(p=1-p),c.iushrn(1),u.iushrn(1)}return h},s.cachedProperty=function(c,u,h){var d="_"+u;c.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=h.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new o(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(r,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,i){var s=Object.create||function(T){var B=function(){};return B.prototype=T,new B},o=Object.keys||function(T){var B=[];for(var H in T)Object.prototype.hasOwnProperty.call(T,H)&&B.push(H);return H},a=Function.prototype.bind||function(T){var B=this;return function(){return B.apply(T,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c,u=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),c=h.x===0}catch{c=!1}function d(T){return T._maxListeners===void 0?l.defaultMaxListeners:T._maxListeners}function f(T,B,H){if(B)T.call(H);else for(var G=T.length,D=L(T,G),k=0;k<G;++k)D[k].call(H)}function p(T,B,H,G){if(B)T.call(H,G);else for(var D=T.length,k=L(T,D),M=0;M<D;++M)k[M].call(H,G)}function m(T,B,H,G,D){if(B)T.call(H,G,D);else for(var k=T.length,M=L(T,k),R=0;R<k;++R)M[R].call(H,G,D)}function g(T,B,H,G,D,k){if(B)T.call(H,G,D,k);else for(var M=T.length,R=L(T,M),y=0;y<M;++y)R[y].call(H,G,D,k)}function w(T,B,H,G){if(B)T.apply(H,G);else for(var D=T.length,k=L(T,D),M=0;M<D;++M)k[M].apply(H,G)}function v(T,B,H,G){var D,k,M;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if((k=T._events)?(k.newListener&&(T.emit("newListener",B,H.listener?H.listener:H),k=T._events),M=k[B]):(k=T._events=s(null),T._eventsCount=0),M){if(typeof M=="function"?M=k[B]=G?[H,M]:[M,H]:G?M.unshift(H):M.push(H),!M.warned&&(D=d(T))&&D>0&&M.length>D){M.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+M.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=T,R.type=B,R.count=M.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else M=k[B]=H,++T._eventsCount;return T}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),B=0;B<T.length;++B)T[B]=arguments[B];this.listener.apply(this.target,T)}}function E(T,B,H){var G={fired:!1,wrapFn:void 0,target:T,type:B,listener:H},D=a.call(b,G);return D.listener=H,G.wrapFn=D,D}function P(T,B,H){var G=T._events;if(!G)return[];var D=G[B];return D?typeof D=="function"?H?[D.listener||D]:[D]:H?function(k){for(var M=new Array(k.length),R=0;R<M.length;++R)M[R]=k[R].listener||k[R];return M}(D):L(D,D.length):[]}function A(T){var B=this._events;if(B){var H=B[T];if(typeof H=="function")return 1;if(H)return H.length}return 0}function L(T,B){for(var H=new Array(B),G=0;G<B;++G)H[G]=T[G];return H}c?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(T){if(typeof T!="number"||T<0||T!=T)throw new TypeError('"defaultMaxListeners" must be a positive number');u=T}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||isNaN(T))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=T,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(T){var B,H,G,D,k,M,R=T==="error";if(M=this._events)R=R&&M.error==null;else if(!R)return!1;if(R){if(arguments.length>1&&(B=arguments[1]),B instanceof Error)throw B;var y=new Error('Unhandled "error" event. ('+B+")");throw y.context=B,y}if(!(H=M[T]))return!1;var S=typeof H=="function";switch(G=arguments.length){case 1:f(H,S,this);break;case 2:p(H,S,this,arguments[1]);break;case 3:m(H,S,this,arguments[1],arguments[2]);break;case 4:g(H,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(D=new Array(G-1),k=1;k<G;k++)D[k-1]=arguments[k];w(H,S,this,D)}return!0},l.prototype.addListener=function(T,B){return v(this,T,B,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(T,B){return v(this,T,B,!0)},l.prototype.once=function(T,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.on(T,E(this,T,B)),this},l.prototype.prependOnceListener=function(T,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(T,E(this,T,B)),this},l.prototype.removeListener=function(T,B){var H,G,D,k,M;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(H=G[T]))return this;if(H===B||H.listener===B)--this._eventsCount==0?this._events=s(null):(delete G[T],G.removeListener&&this.emit("removeListener",T,H.listener||B));else if(typeof H!="function"){for(D=-1,k=H.length-1;k>=0;k--)if(H[k]===B||H[k].listener===B){M=H[k].listener,D=k;break}if(D<0)return this;D===0?H.shift():function(R,y){for(var S=y,C=S+1,x=R.length;C<x;S+=1,C+=1)R[S]=R[C];R.pop()}(H,D),H.length===1&&(G[T]=H[0]),G.removeListener&&this.emit("removeListener",T,M||B)}return this},l.prototype.removeAllListeners=function(T){var B,H,G;if(!(H=this._events))return this;if(!H.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):H[T]&&(--this._eventsCount==0?this._events=s(null):delete H[T]),this;if(arguments.length===0){var D,k=o(H);for(G=0;G<k.length;++G)(D=k[G])!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(B=H[T])=="function")this.removeListener(T,B);else if(B)for(G=B.length-1;G>=0;G--)this.removeListener(T,B[G]);return this},l.prototype.listeners=function(T){return P(this,T,!0)},l.prototype.rawListeners=function(T){return P(this,T,!1)},l.listenerCount=function(T,B){return typeof T.listenerCount=="function"?T.listenerCount(B):A.call(T,B)},l.prototype.listenerCount=A,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("md5.js");n.exports=function(a,l,c,u){if(s.isBuffer(a)||(a=s.from(a,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=c/8,d=s.alloc(h),f=s.alloc(u||0),p=s.alloc(0);h>0||u>0;){var m=new o;m.update(p),m.update(a),l&&m.update(l),p=m.digest();var g=0;if(h>0){var w=d.length-h;g=Math.min(h,p.length),p.copy(d,w,0,g),h-=g}if(g<p.length&&u>0){var v=f.length-u,b=Math.min(u,p.length-g);p.copy(f,v,g,g+b),u-=b}}return p.fill(0),{key:d,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var o=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("readable-stream").Transform;function a(l){o.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(a,o),a.prototype._transform=function(l,c,u){var h=null;try{this.update(l,c)}catch(d){h=d}u(h)},a.prototype._flush=function(l){var c=null;try{this.push(this.digest())}catch(u){c=u}l(c)},a.prototype.update=function(l,c){if(function(m,g){if(!s.isBuffer(m)&&typeof m!="string")throw new TypeError(g+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,c));for(var u=this._block,h=0;this._blockOffset+l.length-h>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=l[h++];this._update(),this._blockOffset=0}for(;h<l.length;)u[this._blockOffset++]=l[h++];for(var f=0,p=8*l.length;p>0;++f)this._length[f]+=p,(p=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*p);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();l!==void 0&&(c=c.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return c},a.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,i){var s=i;s.utils=r("./hash/utils"),s.common=r("./hash/common"),s.sha=r("./hash/sha"),s.ripemd=r("./hash/ripemd"),s.hmac=r("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=a,a.prototype.update=function(l,c){if(l=s.toArray(l,c),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var h=0;h<l.length;h+=this._delta32)this._update(l,h,h+this._delta32)}return this},a.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},a.prototype._pad=function(){var l=this.pendingTotal,c=this._delta8,u=c-(l+this.padLength)%c,h=new Array(u+this.padLength);h[0]=128;for(var d=1;d<u;d++)h[d]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)h[d++]=0;h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=l>>>24&255,h[d++]=l>>>16&255,h[d++]=l>>>8&255,h[d++]=255&l}else for(h[d++]=255&l,h[d++]=l>>>8&255,h[d++]=l>>>16&255,h[d++]=l>>>24&255,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,f=8;f<this.padLength;f++)h[d++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(l,c,u){if(!(this instanceof a))return new a(l,c,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,u))}n.exports=a,a.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var c=l.length;c<this.blockSize;c++)l.push(0);for(c=0;c<l.length;c++)l[c]^=54;for(this.inner=new this.Hash().update(l),c=0;c<l.length;c++)l[c]^=106;this.outer=new this.Hash().update(l)},a.prototype.update=function(l,c){return this.inner.update(l,c),this},a.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,i){var s=r("./utils"),o=r("./common"),a=s.rotl32,l=s.sum32,c=s.sum32_3,u=s.sum32_4,h=o.BlockHash;function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(E,P,A,L){return E<=15?P^A^L:E<=31?P&A|~P&L:E<=47?(P|~A)^L:E<=63?P&L|A&~L:P^(A|~L)}function p(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function m(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}s.inherits(d,h),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(E,P){for(var A=this.h[0],L=this.h[1],T=this.h[2],B=this.h[3],H=this.h[4],G=A,D=L,k=T,M=B,R=H,y=0;y<80;y++){var S=l(a(u(A,f(y,L,T,B),E[g[y]+P],p(y)),v[y]),H);A=H,H=B,B=a(T,10),T=L,L=S,S=l(a(u(G,f(79-y,D,k,M),E[w[y]+P],m(y)),b[y]),R),G=R,R=M,M=a(k,10),k=D,D=S}S=c(this.h[1],T,M),this.h[1]=c(this.h[2],B,R),this.h[2]=c(this.h[3],H,G),this.h[3]=c(this.h[4],A,D),this.h[4]=c(this.h[0],L,k),this.h[0]=S},d.prototype._digest=function(E){return E==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=s.rotl32,c=s.sum32,u=s.sum32_5,h=a.ft_1,d=o.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(p,d),n.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(m,g){for(var w=this.W,v=0;v<16;v++)w[v]=m[g+v];for(;v<w.length;v++)w[v]=l(w[v-3]^w[v-8]^w[v-14]^w[v-16],1);var b=this.h[0],E=this.h[1],P=this.h[2],A=this.h[3],L=this.h[4];for(v=0;v<w.length;v++){var T=~~(v/20),B=u(l(b,5),h(T,E,P,A),L,w[v],f[T]);L=A,A=P,P=l(E,30),E=b,b=B}this.h[0]=c(this.h[0],b),this.h[1]=c(this.h[1],E),this.h[2]=c(this.h[2],P),this.h[3]=c(this.h[3],A),this.h[4]=c(this.h[4],L)},p.prototype._digest=function(m){return m==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,i){var s=r("../utils"),o=r("./256");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=r("minimalistic-assert"),c=s.sum32,u=s.sum32_4,h=s.sum32_5,d=a.ch32,f=a.maj32,p=a.s0_256,m=a.s1_256,g=a.g0_256,w=a.g1_256,v=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}s.inherits(E,v),n.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(P,A){for(var L=this.W,T=0;T<16;T++)L[T]=P[A+T];for(;T<L.length;T++)L[T]=u(w(L[T-2]),L[T-7],g(L[T-15]),L[T-16]);var B=this.h[0],H=this.h[1],G=this.h[2],D=this.h[3],k=this.h[4],M=this.h[5],R=this.h[6],y=this.h[7];for(l(this.k.length===L.length),T=0;T<L.length;T++){var S=h(y,m(k),d(k,M,R),this.k[T],L[T]),C=c(p(B),f(B,H,G));y=R,R=M,M=k,k=c(D,S),D=G,G=H,H=B,B=c(S,C)}this.h[0]=c(this.h[0],B),this.h[1]=c(this.h[1],H),this.h[2]=c(this.h[2],G),this.h[3]=c(this.h[3],D),this.h[4]=c(this.h[4],k),this.h[5]=c(this.h[5],M),this.h[6]=c(this.h[6],R),this.h[7]=c(this.h[7],y)},E.prototype._digest=function(P){return P==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,i){var s=r("../utils"),o=r("./512");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("minimalistic-assert"),l=s.rotr64_hi,c=s.rotr64_lo,u=s.shr64_hi,h=s.shr64_lo,d=s.sum64,f=s.sum64_hi,p=s.sum64_lo,m=s.sum64_4_hi,g=s.sum64_4_lo,w=s.sum64_5_hi,v=s.sum64_5_lo,b=o.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function A(C,x,F,O,N){var j=C&F^~C&N;return j<0&&(j+=4294967296),j}function L(C,x,F,O,N,j){var W=x&O^~x&j;return W<0&&(W+=4294967296),W}function T(C,x,F,O,N){var j=C&F^C&N^F&N;return j<0&&(j+=4294967296),j}function B(C,x,F,O,N,j){var W=x&O^x&j^O&j;return W<0&&(W+=4294967296),W}function H(C,x){var F=l(C,x,28)^l(x,C,2)^l(x,C,7);return F<0&&(F+=4294967296),F}function G(C,x){var F=c(C,x,28)^c(x,C,2)^c(x,C,7);return F<0&&(F+=4294967296),F}function D(C,x){var F=l(C,x,14)^l(C,x,18)^l(x,C,9);return F<0&&(F+=4294967296),F}function k(C,x){var F=c(C,x,14)^c(C,x,18)^c(x,C,9);return F<0&&(F+=4294967296),F}function M(C,x){var F=l(C,x,1)^l(C,x,8)^u(C,x,7);return F<0&&(F+=4294967296),F}function R(C,x){var F=c(C,x,1)^c(C,x,8)^h(C,x,7);return F<0&&(F+=4294967296),F}function y(C,x){var F=l(C,x,19)^l(x,C,29)^u(C,x,6);return F<0&&(F+=4294967296),F}function S(C,x){var F=c(C,x,19)^c(x,C,29)^h(C,x,6);return F<0&&(F+=4294967296),F}s.inherits(P,b),n.exports=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(C,x){for(var F=this.W,O=0;O<32;O++)F[O]=C[x+O];for(;O<F.length;O+=2){var N=y(F[O-4],F[O-3]),j=S(F[O-4],F[O-3]),W=F[O-14],q=F[O-13],V=M(F[O-30],F[O-29]),$=R(F[O-30],F[O-29]),I=F[O-32],_=F[O-31];F[O]=m(N,j,W,q,V,$,I,_),F[O+1]=g(N,j,W,q,V,$,I,_)}},P.prototype._update=function(C,x){this._prepareBlock(C,x);var F=this.W,O=this.h[0],N=this.h[1],j=this.h[2],W=this.h[3],q=this.h[4],V=this.h[5],$=this.h[6],I=this.h[7],_=this.h[8],z=this.h[9],K=this.h[10],Q=this.h[11],X=this.h[12],Z=this.h[13],ne=this.h[14],ie=this.h[15];a(this.k.length===F.length);for(var Y=0;Y<F.length;Y+=2){var te=ne,re=ie,ae=D(_,z),oe=k(_,z),le=A(_,z,K,Q,X),he=L(_,z,K,Q,X,Z),pe=this.k[Y],be=this.k[Y+1],_e=F[Y],Pe=F[Y+1],ve=w(te,re,ae,oe,le,he,pe,be,_e,Pe),Ie=v(te,re,ae,oe,le,he,pe,be,_e,Pe);te=H(O,N),re=G(O,N),ae=T(O,N,j,W,q),oe=B(O,N,j,W,q,V);var Ve=f(te,re,ae,oe),je=p(te,re,ae,oe);ne=X,ie=Z,X=K,Z=Q,K=_,Q=z,_=f($,I,ve,Ie),z=p(I,I,ve,Ie),$=q,I=V,q=j,V=W,j=O,W=N,O=f(ve,Ie,Ve,je),N=p(ve,Ie,Ve,je)}d(this.h,0,O,N),d(this.h,2,j,W),d(this.h,4,q,V),d(this.h,6,$,I),d(this.h,8,_,z),d(this.h,10,K,Q),d(this.h,12,X,Z),d(this.h,14,ne,ie)},P.prototype._digest=function(C){return C==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,i){var s=r("../utils").rotr32;function o(c,u,h){return c&u^~c&h}function a(c,u,h){return c&u^c&h^u&h}function l(c,u,h){return c^u^h}i.ft_1=function(c,u,h,d){return c===0?o(u,h,d):c===1||c===3?l(u,h,d):c===2?a(u,h,d):void 0},i.ch32=o,i.maj32=a,i.p32=l,i.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},i.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},i.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},i.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},{"../utils":437}],437:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits");function a(h,d){return(64512&h.charCodeAt(d))==55296&&!(d<0||d+1>=h.length)&&(64512&h.charCodeAt(d+1))==56320}function l(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function c(h){return h.length===1?"0"+h:h}function u(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}i.inherits=o,i.toArray=function(h,d){if(Array.isArray(h))return h.slice();if(!h)return[];var f=[];if(typeof h=="string")if(d){if(d==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),m=0;m<h.length;m+=2)f.push(parseInt(h[m]+h[m+1],16))}else for(var p=0,m=0;m<h.length;m++){var g=h.charCodeAt(m);g<128?f[p++]=g:g<2048?(f[p++]=g>>6|192,f[p++]=63&g|128):a(h,m)?(g=65536+((1023&g)<<10)+(1023&h.charCodeAt(++m)),f[p++]=g>>18|240,f[p++]=g>>12&63|128,f[p++]=g>>6&63|128,f[p++]=63&g|128):(f[p++]=g>>12|224,f[p++]=g>>6&63|128,f[p++]=63&g|128)}else for(m=0;m<h.length;m++)f[m]=0|h[m];return f},i.toHex=function(h){for(var d="",f=0;f<h.length;f++)d+=c(h[f].toString(16));return d},i.htonl=l,i.toHex32=function(h,d){for(var f="",p=0;p<h.length;p++){var m=h[p];d==="little"&&(m=l(m)),f+=u(m.toString(16))}return f},i.zero2=c,i.zero8=u,i.join32=function(h,d,f,p){var m=f-d;s(m%4==0);for(var g=new Array(m/4),w=0,v=d;w<g.length;w++,v+=4){var b;b=p==="big"?h[v]<<24|h[v+1]<<16|h[v+2]<<8|h[v+3]:h[v+3]<<24|h[v+2]<<16|h[v+1]<<8|h[v],g[w]=b>>>0}return g},i.split32=function(h,d){for(var f=new Array(4*h.length),p=0,m=0;p<h.length;p++,m+=4){var g=h[p];d==="big"?(f[m]=g>>>24,f[m+1]=g>>>16&255,f[m+2]=g>>>8&255,f[m+3]=255&g):(f[m+3]=g>>>24,f[m+2]=g>>>16&255,f[m+1]=g>>>8&255,f[m]=255&g)}return f},i.rotr32=function(h,d){return h>>>d|h<<32-d},i.rotl32=function(h,d){return h<<d|h>>>32-d},i.sum32=function(h,d){return h+d>>>0},i.sum32_3=function(h,d,f){return h+d+f>>>0},i.sum32_4=function(h,d,f,p){return h+d+f+p>>>0},i.sum32_5=function(h,d,f,p,m){return h+d+f+p+m>>>0},i.sum64=function(h,d,f,p){var m=h[d],g=p+h[d+1]>>>0,w=(g<p?1:0)+f+m;h[d]=w>>>0,h[d+1]=g},i.sum64_hi=function(h,d,f,p){return(d+p>>>0<d?1:0)+h+f>>>0},i.sum64_lo=function(h,d,f,p){return d+p>>>0},i.sum64_4_hi=function(h,d,f,p,m,g,w,v){var b=0,E=d;return b+=(E=E+p>>>0)<d?1:0,b+=(E=E+g>>>0)<g?1:0,h+f+m+w+(b+=(E=E+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(h,d,f,p,m,g,w,v){return d+p+g+v>>>0},i.sum64_5_hi=function(h,d,f,p,m,g,w,v,b,E){var P=0,A=d;return P+=(A=A+p>>>0)<d?1:0,P+=(A=A+g>>>0)<g?1:0,P+=(A=A+v>>>0)<v?1:0,h+f+m+w+b+(P+=(A=A+E>>>0)<E?1:0)>>>0},i.sum64_5_lo=function(h,d,f,p,m,g,w,v,b,E){return d+p+g+v+E>>>0},i.rotr64_hi=function(h,d,f){return(d<<32-f|h>>>f)>>>0},i.rotr64_lo=function(h,d,f){return(h<<32-f|d>>>f)>>>0},i.shr64_hi=function(h,d,f){return h>>>f},i.shr64_lo=function(h,d,f){return(h<<32-f|d>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,i){var s=r("hash.js"),o=r("minimalistic-crypto-utils"),a=r("minimalistic-assert");function l(c){if(!(this instanceof l))return new l(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(c.entropy,c.entropyEnc||"hex"),h=o.toArray(c.nonce,c.nonceEnc||"hex"),d=o.toArray(c.pers,c.persEnc||"hex");a(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,h,d)}n.exports=l,l.prototype._init=function(c,u,h){var d=c.concat(u).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(c){var u=this._hmac().update(this.V).update([0]);c&&(u=u.update(c)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(c,u,h,d){typeof u!="string"&&(d=h,h=u,u=null),c=o.toArray(c,u),h=o.toArray(h,d),a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(h||[])),this._reseed=1},l.prototype.generate=function(c,u,h,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(d=h,h=u,u=null),h&&(h=o.toArray(h,d||"hex"),this._update(h));for(var f=[];f.length<c;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var p=f.slice(0,c);return this._update(h),this._reseed++,o.encode(p,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,a,l,c){var u,h,d=8*c-l-1,f=(1<<d)-1,p=f>>1,m=-7,g=a?c-1:0,w=a?-1:1,v=s[o+g];for(g+=w,u=v&(1<<-m)-1,v>>=-m,m+=d;m>0;u=256*u+s[o+g],g+=w,m-=8);for(h=u&(1<<-m)-1,u>>=-m,m+=l;m>0;h=256*h+s[o+g],g+=w,m-=8);if(u===0)u=1-p;else{if(u===f)return h?NaN:1/0*(v?-1:1);h+=Math.pow(2,l),u-=p}return(v?-1:1)*h*Math.pow(2,u-l)},i.write=function(s,o,a,l,c,u){var h,d,f,p=8*u-c-1,m=(1<<p)-1,g=m>>1,w=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=l?0:u-1,b=l?1:-1,E=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(d=isNaN(o)?1:0,h=m):(h=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-h))<1&&(h--,f*=2),(o+=h+g>=1?w/f:w*Math.pow(2,1-g))*f>=2&&(h++,f/=2),h+g>=m?(d=0,h=m):h+g>=1?(d=(o*f-1)*Math.pow(2,c),h+=g):(d=o*Math.pow(2,g-1)*Math.pow(2,c),h=0));c>=8;s[a+v]=255&d,v+=b,d/=256,c-=8);for(h=h<<c|d,p+=c;p>0;s[a+v]=255&h,v+=b,h/=256,p-=8);s[a+v-b]|=128*E}},{}],440:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,o){if(o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}}},{}],441:[function(r,n,i){(function(s,o,a,l,c,u,h,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof i=="object"&&n!==void 0?n.exports=f():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(p,m,g){function w(E,P){if(!m[E]){if(!p[E]){var A=typeof r=="function"&&r;if(!P&&A)return A(E,!0);if(v)return v(E,!0);var L=new Error("Cannot find module '"+E+"'");throw L.code="MODULE_NOT_FOUND",L}var T=m[E]={exports:{}};p[E][0].call(T.exports,function(B){return w(p[E][1][B]||B)},T,T.exports,f,p,m,g)}return m[E].exports}for(var v=typeof r=="function"&&r,b=0;b<g.length;b++)w(g[b]);return w}({1:[function(f,p,m){var g=f("./utils"),w=f("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(b){for(var E,P,A,L,T,B,H,G=[],D=0,k=b.length,M=k,R=g.getTypeOf(b)!=="string";D<b.length;)M=k-D,A=R?(E=b[D++],P=D<k?b[D++]:0,D<k?b[D++]:0):(E=b.charCodeAt(D++),P=D<k?b.charCodeAt(D++):0,D<k?b.charCodeAt(D++):0),L=E>>2,T=(3&E)<<4|P>>4,B=1<M?(15&P)<<2|A>>6:64,H=2<M?63&A:64,G.push(v.charAt(L)+v.charAt(T)+v.charAt(B)+v.charAt(H));return G.join("")},m.decode=function(b){var E,P,A,L,T,B,H=0,G=0,D="data:";if(b.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");var k,M=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===v.charAt(64)&&M--,b.charAt(b.length-2)===v.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=w.uint8array?new Uint8Array(0|M):new Array(0|M);H<b.length;)E=v.indexOf(b.charAt(H++))<<2|(L=v.indexOf(b.charAt(H++)))>>4,P=(15&L)<<4|(T=v.indexOf(b.charAt(H++)))>>2,A=(3&T)<<6|(B=v.indexOf(b.charAt(H++))),k[G++]=E,T!==64&&(k[G++]=P),B!==64&&(k[G++]=A);return k}},{"./support":30,"./utils":32}],2:[function(f,p,m){var g=f("./external"),w=f("./stream/DataWorker"),v=f("./stream/Crc32Probe"),b=f("./stream/DataLengthProbe");function E(P,A,L,T,B){this.compressedSize=P,this.uncompressedSize=A,this.crc32=L,this.compression=T,this.compressedContent=B}E.prototype={getContentWorker:function(){var P=new w(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),A=this;return P.on("end",function(){if(this.streamInfo.data_length!==A.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),P},getCompressedWorker:function(){return new w(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(P,A,L){return P.pipe(new v).pipe(new b("uncompressedSize")).pipe(A.compressWorker(L)).pipe(new b("compressedSize")).withStreamInfo("compression",A)},p.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,p,m){var g=f("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},m.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,p,m){var g=f("./utils"),w=function(){for(var v,b=[],E=0;E<256;E++){v=E;for(var P=0;P<8;P++)v=1&v?3988292384^v>>>1:v>>>1;b[E]=v}return b}();p.exports=function(v,b){return v!==void 0&&v.length?g.getTypeOf(v)!=="string"?function(E,P,A,L){var T=w,B=0+A;E^=-1;for(var H=0;H<B;H++)E=E>>>8^T[255&(E^P[H])];return-1^E}(0|b,v,v.length):function(E,P,A,L){var T=w,B=0+A;E^=-1;for(var H=0;H<B;H++)E=E>>>8^T[255&(E^P.charCodeAt(H))];return-1^E}(0|b,v,v.length):0}},{"./utils":32}],5:[function(f,p,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(f,p,m){var g;g=typeof Promise<"u"?Promise:f("lie"),p.exports={Promise:g}},{lie:37}],7:[function(f,p,m){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=f("pako"),v=f("./utils"),b=f("./stream/GenericWorker"),E=g?"uint8array":"array";function P(A,L){b.call(this,"FlateWorker/"+A),this._pako=null,this._pakoAction=A,this._pakoOptions=L,this.meta={}}m.magic="\b\0",v.inherits(P,b),P.prototype.processChunk=function(A){this.meta=A.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(E,A.data),!1)},P.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},P.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},P.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var A=this;this._pako.onData=function(L){A.push({data:L,meta:A.meta})}},m.compressWorker=function(A){return new P("Deflate",A)},m.uncompressWorker=function(){return new P("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,p,m){function g(T,B){var H,G="";for(H=0;H<B;H++)G+=String.fromCharCode(255&T),T>>>=8;return G}function w(T,B,H,G,D,k){var M,R,y=T.file,S=T.compression,C=k!==E.utf8encode,x=v.transformTo("string",k(y.name)),F=v.transformTo("string",E.utf8encode(y.name)),O=y.comment,N=v.transformTo("string",k(O)),j=v.transformTo("string",E.utf8encode(O)),W=F.length!==y.name.length,q=j.length!==O.length,V="",$="",I="",_=y.dir,z=y.date,K={crc32:0,compressedSize:0,uncompressedSize:0};B&&!H||(K.crc32=T.crc32,K.compressedSize=T.compressedSize,K.uncompressedSize=T.uncompressedSize);var Q=0;B&&(Q|=8),C||!W&&!q||(Q|=2048);var X=0,Z=0;_&&(X|=16),D==="UNIX"?(Z=798,X|=function(ie,Y){var te=ie;return ie||(te=Y?16893:33204),(65535&te)<<16}(y.unixPermissions,_)):(Z=20,X|=function(ie){return 63&(ie||0)}(y.dosPermissions)),M=z.getUTCHours(),M<<=6,M|=z.getUTCMinutes(),M<<=5,M|=z.getUTCSeconds()/2,R=z.getUTCFullYear()-1980,R<<=4,R|=z.getUTCMonth()+1,R<<=5,R|=z.getUTCDate(),W&&($=g(1,1)+g(P(x),4)+F,V+="up"+g($.length,2)+$),q&&(I=g(1,1)+g(P(N),4)+j,V+="uc"+g(I.length,2)+I);var ne="";return ne+=`
\0`,ne+=g(Q,2),ne+=S.magic,ne+=g(M,2),ne+=g(R,2),ne+=g(K.crc32,4),ne+=g(K.compressedSize,4),ne+=g(K.uncompressedSize,4),ne+=g(x.length,2),ne+=g(V.length,2),{fileRecord:A.LOCAL_FILE_HEADER+ne+x+V,dirRecord:A.CENTRAL_FILE_HEADER+g(Z,2)+ne+g(N.length,2)+"\0\0\0\0"+g(X,4)+g(G,4)+x+V+N}}var v=f("../utils"),b=f("../stream/GenericWorker"),E=f("../utf8"),P=f("../crc32"),A=f("../signature");function L(T,B,H,G){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=H,this.encodeFileName=G,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(L,b),L.prototype.push=function(T){var B=T.meta.percent||0,H=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,b.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:H?(B+100*(H-G-1))/H:100}}))},L.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var B=this.streamFiles&&!T.file.dir;if(B){var H=w(T,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(T){this.accumulate=!1;var B=this.streamFiles&&!T.file.dir,H=w(T,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),B)this.push({data:function(G){return A.DATA_DESCRIPTOR+g(G.crc32,4)+g(G.compressedSize,4)+g(G.uncompressedSize,4)}(T),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var T=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var H=this.bytesWritten-T,G=function(D,k,M,R,y){var S=v.transformTo("string",y(R));return A.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(D,2)+g(D,2)+g(k,4)+g(M,4)+g(S.length,2)+S}(this.dirRecords.length,H,T,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(T){this._sources.push(T);var B=this;return T.on("data",function(H){B.processChunk(H)}),T.on("end",function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()}),T.on("error",function(H){B.error(H)}),this},L.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(T){var B=this._sources;if(!b.prototype.error.call(this,T))return!1;for(var H=0;H<B.length;H++)try{B[H].error(T)}catch{}return!0},L.prototype.lock=function(){b.prototype.lock.call(this);for(var T=this._sources,B=0;B<T.length;B++)T[B].lock()},p.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,p,m){var g=f("../compressions"),w=f("./ZipFileWorker");m.generateWorker=function(v,b,E){var P=new w(b.streamFiles,E,b.platform,b.encodeFileName),A=0;try{v.forEach(function(L,T){A++;var B=function(k,M){var R=k||M,y=g[R];if(!y)throw new Error(R+" is not a valid compression method !");return y}(T.options.compression,b.compression),H=T.options.compressionOptions||b.compressionOptions||{},G=T.dir,D=T.date;T._compressWorker(B,H).withStreamInfo("file",{name:L,dir:G,date:D,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(P)}),P.entriesCount=A}catch(L){P.error(L)}return P}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,p,m){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new g;for(var v in this)typeof this[v]!="function"&&(w[v]=this[v]);return w}}(g.prototype=f("./object")).loadAsync=f("./load"),g.support=f("./support"),g.defaults=f("./defaults"),g.version="3.10.1",g.loadAsync=function(w,v){return new g().loadAsync(w,v)},g.external=f("./external"),p.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,p,m){var g=f("./utils"),w=f("./external"),v=f("./utf8"),b=f("./zipEntries"),E=f("./stream/Crc32Probe"),P=f("./nodejsUtils");function A(L){return new w.Promise(function(T,B){var H=L.decompressed.getContentWorker().pipe(new E);H.on("error",function(G){B(G)}).on("end",function(){H.streamInfo.crc32!==L.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}p.exports=function(L,T){var B=this;return T=g.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),P.isNode&&P.isStream(L)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",L,!0,T.optimizedBinaryString,T.base64).then(function(H){var G=new b(T);return G.load(H),G}).then(function(H){var G=[w.Promise.resolve(H)],D=H.files;if(T.checkCRC32)for(var k=0;k<D.length;k++)G.push(A(D[k]));return w.Promise.all(G)}).then(function(H){for(var G=H.shift(),D=G.files,k=0;k<D.length;k++){var M=D[k],R=M.fileNameStr,y=g.resolve(M.fileNameStr);B.file(y,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:T.createFolders}),M.dir||(B.file(y).unsafeOriginalName=R)}return G.zipComment.length&&(B.comment=G.zipComment),B})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,p,m){var g=f("../utils"),w=f("../stream/GenericWorker");function v(b,E){w.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(E)}g.inherits(v,w),v.prototype._bindStream=function(b){var E=this;(this._stream=b).pause(),b.on("data",function(P){E.push({data:P,meta:{percent:0}})}).on("error",function(P){E.isPaused?this.generatedError=P:E.error(P)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},v.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,p,m){var g=f("readable-stream").Readable;function w(v,b,E){g.call(this,b),this._helper=v;var P=this;v.on("data",function(A,L){P.push(A)||P._helper.pause(),E&&E(L)}).on("error",function(A){P.emit("error",A)}).on("end",function(){P.push(null)})}f("../utils").inherits(w,g),w.prototype._read=function(){this._helper.resume()},p.exports=w},{"../utils":32,"readable-stream":16}],14:[function(f,p,m){p.exports={isNode:a!==void 0,newBufferFrom:function(g,w){if(a.from&&a.from!==Uint8Array.from)return a.from(g,w);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new a(g,w)},allocBuffer:function(g){if(a.alloc)return a.alloc(g);var w=new a(g);return w.fill(0),w},isBuffer:function(g){return a.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(f,p,m){function g(y,S,C){var x,F=v.getTypeOf(S),O=v.extend(C||{},P);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(y=D(y)),O.createFolders&&(x=G(y))&&k.call(this,x,!0);var N=F==="string"&&O.binary===!1&&O.base64===!1;C&&C.binary!==void 0||(O.binary=!N),(S instanceof A&&S.uncompressedSize===0||O.dir||!S||S.length===0)&&(O.base64=!1,O.binary=!0,S="",O.compression="STORE",F="string");var j;j=S instanceof A||S instanceof b?S:B.isNode&&B.isStream(S)?new H(y,S):v.prepareContent(y,S,O.binary,O.optimizedBinaryString,O.base64);var W=new L(y,j,O);this.files[y]=W}var w=f("./utf8"),v=f("./utils"),b=f("./stream/GenericWorker"),E=f("./stream/StreamHelper"),P=f("./defaults"),A=f("./compressedObject"),L=f("./zipObject"),T=f("./generate"),B=f("./nodejsUtils"),H=f("./nodejs/NodejsStreamInputAdapter"),G=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var S=y.lastIndexOf("/");return 0<S?y.substring(0,S):""},D=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},k=function(y,S){return S=S!==void 0?S:P.createFolders,y=D(y),this.files[y]||g.call(this,y,null,{dir:!0,createFolders:S}),this.files[y]};function M(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var S,C,x;for(S in this.files)x=this.files[S],(C=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&y(C,x)},filter:function(y){var S=[];return this.forEach(function(C,x){y(C,x)&&S.push(x)}),S},file:function(y,S,C){if(arguments.length!==1)return y=this.root+y,g.call(this,y,S,C),this;if(M(y)){var x=y;return this.filter(function(O,N){return!N.dir&&x.test(O)})}var F=this.files[this.root+y];return F&&!F.dir?F:null},folder:function(y){if(!y)return this;if(M(y))return this.filter(function(F,O){return O.dir&&y.test(F)});var S=this.root+y,C=k.call(this,S),x=this.clone();return x.root=C.name,x},remove:function(y){y=this.root+y;var S=this.files[y];if(S||(y.slice(-1)!=="/"&&(y+="/"),S=this.files[y]),S&&!S.dir)delete this.files[y];else for(var C=this.filter(function(F,O){return O.name.slice(0,y.length)===y}),x=0;x<C.length;x++)delete this.files[C[x].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var S,C={};try{if((C=v.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");v.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var x=C.comment||this.comment||"";S=T.generateWorker(this,C,x)}catch(F){(S=new b("error")).error(F)}return new E(S,C.type||"string",C.mimeType)},generateAsync:function(y,S){return this.generateInternalStream(y).accumulate(S)},generateNodeStream:function(y,S){return(y=y||{}).type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(S)}};p.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,p,m){p.exports=f("stream")},{stream:void 0}],17:[function(f,p,m){var g=f("./DataReader");function w(v){g.call(this,v);for(var b=0;b<this.data.length;b++)v[b]=255&v[b]}f("../utils").inherits(w,g),w.prototype.byteAt=function(v){return this.data[this.zero+v]},w.prototype.lastIndexOfSignature=function(v){for(var b=v.charCodeAt(0),E=v.charCodeAt(1),P=v.charCodeAt(2),A=v.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===b&&this.data[L+1]===E&&this.data[L+2]===P&&this.data[L+3]===A)return L-this.zero;return-1},w.prototype.readAndCheckSignature=function(v){var b=v.charCodeAt(0),E=v.charCodeAt(1),P=v.charCodeAt(2),A=v.charCodeAt(3),L=this.readData(4);return b===L[0]&&E===L[1]&&P===L[2]&&A===L[3]},w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,b},p.exports=w},{"../utils":32,"./DataReader":18}],18:[function(f,p,m){var g=f("../utils");function w(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var b,E=0;for(this.checkOffset(v),b=this.index+v-1;b>=this.index;b--)E=(E<<8)+this.byteAt(b);return this.index+=v,E},readString:function(v){return g.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},p.exports=w},{"../utils":32}],19:[function(f,p,m){var g=f("./Uint8ArrayReader");function w(v){g.call(this,v)}f("../utils").inherits(w,g),w.prototype.readData=function(v){this.checkOffset(v);var b=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,b},p.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,p,m){var g=f("./DataReader");function w(v){g.call(this,v)}f("../utils").inherits(w,g),w.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},w.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},w.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},w.prototype.readData=function(v){this.checkOffset(v);var b=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,b},p.exports=w},{"../utils":32,"./DataReader":18}],21:[function(f,p,m){var g=f("./ArrayReader");function w(v){g.call(this,v)}f("../utils").inherits(w,g),w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,b},p.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(f,p,m){var g=f("../utils"),w=f("../support"),v=f("./ArrayReader"),b=f("./StringReader"),E=f("./NodeBufferReader"),P=f("./Uint8ArrayReader");p.exports=function(A){var L=g.getTypeOf(A);return g.checkSupport(L),L!=="string"||w.uint8array?L==="nodebuffer"?new E(A):w.uint8array?new P(g.transformTo("uint8array",A)):new v(g.transformTo("array",A)):new b(A)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,p,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,p,m){var g=f("./GenericWorker"),w=f("../utils");function v(b){g.call(this,"ConvertWorker to "+b),this.destType=b}w.inherits(v,g),v.prototype.processChunk=function(b){this.push({data:w.transformTo(this.destType,b.data),meta:b.meta})},p.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(f,p,m){var g=f("./GenericWorker"),w=f("../crc32");function v(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(v,g),v.prototype.processChunk=function(b){this.streamInfo.crc32=w(b.data,this.streamInfo.crc32||0),this.push(b)},p.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,p,m){var g=f("../utils"),w=f("./GenericWorker");function v(b){w.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}g.inherits(v,w),v.prototype.processChunk=function(b){if(b){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+b.data.length}w.prototype.processChunk.call(this,b)},p.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(f,p,m){var g=f("../utils"),w=f("./GenericWorker");function v(b){w.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(P){E.dataIsReady=!0,E.data=P,E.max=P&&P.length||0,E.type=g.getTypeOf(P),E.isPaused||E._tickAndRepeat()},function(P){E.error(P)})}g.inherits(v,w),v.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,E);break;case"uint8array":b=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":b=this.data.slice(this.index,E)}return this.index=E,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(f,p,m){function g(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,v){return this._listeners[w].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,v){if(this._listeners[w])for(var b=0;b<this._listeners[w].length;b++)this._listeners[w][b].call(this,v)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var v=this;return w.on("data",function(b){v.processChunk(b)}),w.on("end",function(){v.end()}),w.on("error",function(b){v.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,v){return this.extraStreamInfo[w]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},p.exports=g},{}],29:[function(f,p,m){var g=f("../utils"),w=f("./ConvertWorker"),v=f("./GenericWorker"),b=f("../base64"),E=f("../support"),P=f("../external"),A=null;if(E.nodestream)try{A=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(T,B,H){var G=B;switch(B){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=B,this._mimeType=H,g.checkSupport(G),this._worker=T.pipe(new w(G)),T.lock()}catch(D){this._worker=new v("error"),this._worker.error(D)}}L.prototype={accumulate:function(T){return function(B,H){return new P.Promise(function(G,D){var k=[],M=B._internalType,R=B._outputType,y=B._mimeType;B.on("data",function(S,C){k.push(S),H&&H(C)}).on("error",function(S){k=[],D(S)}).on("end",function(){try{var S=function(C,x,F){switch(C){case"blob":return g.newBlob(g.transformTo("arraybuffer",x),F);case"base64":return b.encode(x);default:return g.transformTo(C,x)}}(R,function(C,x){var F,O=0,N=null,j=0;for(F=0;F<x.length;F++)j+=x[F].length;switch(C){case"string":return x.join("");case"array":return Array.prototype.concat.apply([],x);case"uint8array":for(N=new Uint8Array(j),F=0;F<x.length;F++)N.set(x[F],O),O+=x[F].length;return N;case"nodebuffer":return a.concat(x);default:throw new Error("concat : unsupported type '"+C+"'")}}(M,k),y);G(S)}catch(C){D(C)}k=[]}).resume()})}(this,T)},on:function(T,B){var H=this;return T==="data"?this._worker.on(T,function(G){B.call(H,G.data,G.meta)}):this._worker.on(T,function(){g.delay(B,arguments,H)}),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new A(this,{objectMode:this._outputType!=="nodebuffer"},T)}},p.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,p,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=a!==void 0,m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var g=new ArrayBuffer(0);try{m.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(g),m.blob=w.getBlob("application/zip").size===0}catch{m.blob=!1}}}try{m.nodestream=!!f("readable-stream").Readable}catch{m.nodestream=!1}},{"readable-stream":16}],31:[function(f,p,m){for(var g=f("./utils"),w=f("./support"),v=f("./nodejsUtils"),b=f("./stream/GenericWorker"),E=new Array(256),P=0;P<256;P++)E[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;function A(){b.call(this,"utf-8 decode"),this.leftOver=null}function L(){b.call(this,"utf-8 encode")}E[254]=E[254]=1,m.utf8encode=function(T){return w.nodebuffer?v.newBufferFrom(T,"utf-8"):function(B){var H,G,D,k,M,R=B.length,y=0;for(k=0;k<R;k++)(64512&(G=B.charCodeAt(k)))==55296&&k+1<R&&(64512&(D=B.charCodeAt(k+1)))==56320&&(G=65536+(G-55296<<10)+(D-56320),k++),y+=G<128?1:G<2048?2:G<65536?3:4;for(H=w.uint8array?new Uint8Array(y):new Array(y),k=M=0;M<y;k++)(64512&(G=B.charCodeAt(k)))==55296&&k+1<R&&(64512&(D=B.charCodeAt(k+1)))==56320&&(G=65536+(G-55296<<10)+(D-56320),k++),G<128?H[M++]=G:(G<2048?H[M++]=192|G>>>6:(G<65536?H[M++]=224|G>>>12:(H[M++]=240|G>>>18,H[M++]=128|G>>>12&63),H[M++]=128|G>>>6&63),H[M++]=128|63&G);return H}(T)},m.utf8decode=function(T){return w.nodebuffer?g.transformTo("nodebuffer",T).toString("utf-8"):function(B){var H,G,D,k,M=B.length,R=new Array(2*M);for(H=G=0;H<M;)if((D=B[H++])<128)R[G++]=D;else if(4<(k=E[D]))R[G++]=65533,H+=k-1;else{for(D&=k===2?31:k===3?15:7;1<k&&H<M;)D=D<<6|63&B[H++],k--;1<k?R[G++]=65533:D<65536?R[G++]=D:(D-=65536,R[G++]=55296|D>>10&1023,R[G++]=56320|1023&D)}return R.length!==G&&(R.subarray?R=R.subarray(0,G):R.length=G),g.applyFromCharCode(R)}(T=g.transformTo(w.uint8array?"uint8array":"array",T))},g.inherits(A,b),A.prototype.processChunk=function(T){var B=g.transformTo(w.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var H=B;(B=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),B.set(H,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var G=function(k,M){var R;for((M=M||k.length)>k.length&&(M=k.length),R=M-1;0<=R&&(192&k[R])==128;)R--;return R<0||R===0?M:R+E[k[R]]>M?R:M}(B),D=B;G!==B.length&&(w.uint8array?(D=B.subarray(0,G),this.leftOver=B.subarray(G,B.length)):(D=B.slice(0,G),this.leftOver=B.slice(G,B.length))),this.push({data:m.utf8decode(D),meta:T.meta})},A.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=A,g.inherits(L,b),L.prototype.processChunk=function(T){this.push({data:m.utf8encode(T.data),meta:T.meta})},m.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,p,m){var g=f("./support"),w=f("./base64"),v=f("./nodejsUtils"),b=f("./external");function E(H){return H}function P(H,G){for(var D=0;D<H.length;++D)G[D]=255&H.charCodeAt(D);return G}f("setimmediate"),m.newBlob=function(H,G){m.checkSupport("blob");try{return new Blob([H],{type:G})}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(H),D.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var A={stringifyByChunk:function(H,G,D){var k=[],M=0,R=H.length;if(R<=D)return String.fromCharCode.apply(null,H);for(;M<R;)G==="array"||G==="nodebuffer"?k.push(String.fromCharCode.apply(null,H.slice(M,Math.min(M+D,R)))):k.push(String.fromCharCode.apply(null,H.subarray(M,Math.min(M+D,R)))),M+=D;return k.join("")},stringifyByChar:function(H){for(var G="",D=0;D<H.length;D++)G+=String.fromCharCode(H[D]);return G},applyCanBeUsed:{uint8array:function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}}()}};function L(H){var G=65536,D=m.getTypeOf(H),k=!0;if(D==="uint8array"?k=A.applyCanBeUsed.uint8array:D==="nodebuffer"&&(k=A.applyCanBeUsed.nodebuffer),k)for(;1<G;)try{return A.stringifyByChunk(H,D,G)}catch{G=Math.floor(G/2)}return A.stringifyByChar(H)}function T(H,G){for(var D=0;D<H.length;D++)G[D]=H[D];return G}m.applyFromCharCode=L;var B={};B.string={string:E,array:function(H){return P(H,new Array(H.length))},arraybuffer:function(H){return B.string.uint8array(H).buffer},uint8array:function(H){return P(H,new Uint8Array(H.length))},nodebuffer:function(H){return P(H,v.allocBuffer(H.length))}},B.array={string:L,array:E,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return v.newBufferFrom(H)}},B.arraybuffer={string:function(H){return L(new Uint8Array(H))},array:function(H){return T(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:E,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return v.newBufferFrom(new Uint8Array(H))}},B.uint8array={string:L,array:function(H){return T(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:E,nodebuffer:function(H){return v.newBufferFrom(H)}},B.nodebuffer={string:L,array:function(H){return T(H,new Array(H.length))},arraybuffer:function(H){return B.nodebuffer.uint8array(H).buffer},uint8array:function(H){return T(H,new Uint8Array(H.length))},nodebuffer:E},m.transformTo=function(H,G){if(G=G||"",!H)return G;m.checkSupport(H);var D=m.getTypeOf(G);return B[D][H](G)},m.resolve=function(H){for(var G=H.split("/"),D=[],k=0;k<G.length;k++){var M=G[k];M==="."||M===""&&k!==0&&k!==G.length-1||(M===".."?D.pop():D.push(M))}return D.join("/")},m.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":g.nodebuffer&&v.isBuffer(H)?"nodebuffer":g.uint8array&&H instanceof Uint8Array?"uint8array":g.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(H){if(!g[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(H){var G,D,k="";for(D=0;D<(H||"").length;D++)k+="\\x"+((G=H.charCodeAt(D))<16?"0":"")+G.toString(16).toUpperCase();return k},m.delay=function(H,G,D){d(function(){H.apply(D||null,G||[])})},m.inherits=function(H,G){function D(){}D.prototype=G.prototype,H.prototype=new D},m.extend=function(){var H,G,D={};for(H=0;H<arguments.length;H++)for(G in arguments[H])Object.prototype.hasOwnProperty.call(arguments[H],G)&&D[G]===void 0&&(D[G]=arguments[H][G]);return D},m.prepareContent=function(H,G,D,k,M){return b.Promise.resolve(G).then(function(R){return g.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new b.Promise(function(y,S){var C=new FileReader;C.onload=function(x){y(x.target.result)},C.onerror=function(x){S(x.target.error)},C.readAsArrayBuffer(R)}):R}).then(function(R){var y=m.getTypeOf(R);return y?(y==="arraybuffer"?R=m.transformTo("uint8array",R):y==="string"&&(M?R=w.decode(R):D&&k!==!0&&(R=function(S){return P(S,g.uint8array?new Uint8Array(S.length):new Array(S.length))}(R))),R):b.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,p,m){var g=f("./reader/readerFor"),w=f("./utils"),v=f("./signature"),b=f("./zipEntry"),E=f("./support");function P(A){this.files=[],this.loadOptions=A}P.prototype={checkSignature:function(A){if(!this.reader.readAndCheckSignature(A)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(L)+", expected "+w.pretty(A)+")")}},isSignature:function(A,L){var T=this.reader.index;this.reader.setIndex(A);var B=this.reader.readString(4)===L;return this.reader.setIndex(T),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var A=this.reader.readData(this.zipCommentLength),L=E.uint8array?"uint8array":"array",T=w.transformTo(L,A);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var A,L,T,B=this.zip64EndOfCentralSize-44;0<B;)A=this.reader.readInt(2),L=this.reader.readInt(4),T=this.reader.readData(L),this.zip64ExtensibleData[A]={id:A,length:L,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var A,L;for(A=0;A<this.files.length;A++)L=this.files[A],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var A;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(A=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(A);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var A=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(A<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(A);var L=A;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(A=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(A),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var B=L-T;if(0<B)this.isSignature(L,v.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(A){this.reader=g(A)},load:function(A){this.prepareReader(A),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=P},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,p,m){var g=f("./reader/readerFor"),w=f("./utils"),v=f("./compressedObject"),b=f("./crc32"),E=f("./utf8"),P=f("./compressions"),A=f("./support");function L(T,B){this.options=T,this.loadOptions=B}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var B,H;if(T.skip(22),this.fileNameLength=T.readInt(2),H=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=function(G){for(var D in P)if(Object.prototype.hasOwnProperty.call(P,D)&&P[D].magic===G)return P[D];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,B,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var B=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(B),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=g(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var B,H,G,D=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<D;)B=T.readInt(2),H=T.readInt(2),G=T.readData(H),this.extraFields[B]={id:B,length:H,value:G};T.setIndex(D)},handleUTF8:function(){var T=A.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var H=w.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var D=w.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var B=g(T.value);return B.readInt(1)!==1||b(this.fileName)!==B.readInt(4)?null:E.utf8decode(B.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var B=g(T.value);return B.readInt(1)!==1||b(this.fileComment)!==B.readInt(4)?null:E.utf8decode(B.readData(T.length-5))}return null}},p.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,p,m){function g(B,H,G){this.name=B,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=H,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var w=f("./stream/StreamHelper"),v=f("./stream/DataWorker"),b=f("./utf8"),E=f("./compressedObject"),P=f("./stream/GenericWorker");g.prototype={internalStream:function(B){var H=null,G="string";try{if(!B)throw new Error("No output type specified.");var D=(G=B.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),H=this._decompressWorker();var k=!this._dataBinary;k&&!D&&(H=H.pipe(new b.Utf8EncodeWorker)),!k&&D&&(H=H.pipe(new b.Utf8DecodeWorker))}catch(M){(H=new P("error")).error(M)}return new w(H,G,"")},async:function(B,H){return this.internalStream(B).accumulate(H)},nodeStream:function(B,H){return this.internalStream(B||"nodebuffer").toNodejsStream(H)},_compressWorker:function(B,H){if(this._data instanceof E&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new b.Utf8EncodeWorker)),E.createWorkerFrom(G,B,H)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof P?this._data:new v(this._data)}};for(var A=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<A.length;T++)g.prototype[A[T]]=L;p.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,p,m){(function(g){var w,v,b=g.MutationObserver||g.WebKitMutationObserver;if(b){var E=0,P=new b(B),A=g.document.createTextNode("");P.observe(A,{characterData:!0}),w=function(){A.data=E=++E%2}}else if(g.setImmediate||g.MessageChannel===void 0)w="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var H=g.document.createElement("script");H.onreadystatechange=function(){B(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},g.document.documentElement.appendChild(H)}:function(){setTimeout(B,0)};else{var L=new g.MessageChannel;L.port1.onmessage=B,w=function(){L.port2.postMessage(0)}}var T=[];function B(){var H,G;v=!0;for(var D=T.length;D;){for(G=T,T=[],H=-1;++H<D;)G[H]();D=T.length}v=!1}p.exports=function(H){T.push(H)!==1||v||w()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,p,m){var g=f("immediate");function w(){}var v={},b=["REJECTED"],E=["FULFILLED"],P=["PENDING"];function A(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,D!==w&&H(this,D)}function L(D,k,M){this.promise=D,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function T(D,k,M){g(function(){var R;try{R=k(M)}catch(y){return v.reject(D,y)}R===D?v.reject(D,new TypeError("Cannot resolve promise with itself")):v.resolve(D,R)})}function B(D){var k=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof k=="function")return function(){k.apply(D,arguments)}}function H(D,k){var M=!1;function R(C){M||(M=!0,v.reject(D,C))}function y(C){M||(M=!0,v.resolve(D,C))}var S=G(function(){k(y,R)});S.status==="error"&&R(S.value)}function G(D,k){var M={};try{M.value=D(k),M.status="success"}catch(R){M.status="error",M.value=R}return M}(p.exports=A).prototype.finally=function(D){if(typeof D!="function")return this;var k=this.constructor;return this.then(function(M){return k.resolve(D()).then(function(){return M})},function(M){return k.resolve(D()).then(function(){throw M})})},A.prototype.catch=function(D){return this.then(null,D)},A.prototype.then=function(D,k){if(typeof D!="function"&&this.state===E||typeof k!="function"&&this.state===b)return this;var M=new this.constructor(w);return this.state!==P?T(M,this.state===E?D:k,this.outcome):this.queue.push(new L(M,D,k)),M},L.prototype.callFulfilled=function(D){v.resolve(this.promise,D)},L.prototype.otherCallFulfilled=function(D){T(this.promise,this.onFulfilled,D)},L.prototype.callRejected=function(D){v.reject(this.promise,D)},L.prototype.otherCallRejected=function(D){T(this.promise,this.onRejected,D)},v.resolve=function(D,k){var M=G(B,k);if(M.status==="error")return v.reject(D,M.value);var R=M.value;if(R)H(D,R);else{D.state=E,D.outcome=k;for(var y=-1,S=D.queue.length;++y<S;)D.queue[y].callFulfilled(k)}return D},v.reject=function(D,k){D.state=b,D.outcome=k;for(var M=-1,R=D.queue.length;++M<R;)D.queue[M].callRejected(k);return D},A.resolve=function(D){return D instanceof this?D:v.resolve(new this(w),D)},A.reject=function(D){var k=new this(w);return v.reject(k,D)},A.all=function(D){var k=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=D.length,R=!1;if(!M)return this.resolve([]);for(var y=new Array(M),S=0,C=-1,x=new this(w);++C<M;)F(D[C],C);return x;function F(O,N){k.resolve(O).then(function(j){y[N]=j,++S!==M||R||(R=!0,v.resolve(x,y))},function(j){R||(R=!0,v.reject(x,j))})}},A.race=function(D){if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=D.length,M=!1;if(!k)return this.resolve([]);for(var R,y=-1,S=new this(w);++y<k;)R=D[y],this.resolve(R).then(function(C){M||(M=!0,v.resolve(S,C))},function(C){M||(M=!0,v.reject(S,C))});return S}},{immediate:36}],38:[function(f,p,m){var g={};(0,f("./lib/utils/common").assign)(g,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),p.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,p,m){var g=f("./zlib/deflate"),w=f("./utils/common"),v=f("./utils/strings"),b=f("./zlib/messages"),E=f("./zlib/zstream"),P=Object.prototype.toString;function A(T){if(!(this instanceof A))return new A(T);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},T||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var H=g.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(H!==0)throw new Error(b[H]);if(B.header&&g.deflateSetHeader(this.strm,B.header),B.dictionary){var G;if(G=typeof B.dictionary=="string"?v.string2buf(B.dictionary):P.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(H=g.deflateSetDictionary(this.strm,G))!==0)throw new Error(b[H]);this._dict_set=!0}}function L(T,B){var H=new A(B);if(H.push(T,!0),H.err)throw H.msg||b[H.err];return H.result}A.prototype.push=function(T,B){var H,G,D=this.strm,k=this.options.chunkSize;if(this.ended)return!1;G=B===~~B?B:B===!0?4:0,typeof T=="string"?D.input=v.string2buf(T):P.call(T)==="[object ArrayBuffer]"?D.input=new Uint8Array(T):D.input=T,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new w.Buf8(k),D.next_out=0,D.avail_out=k),(H=g.deflate(D,G))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(w.shrinkBuf(D.output,D.next_out))):this.onData(w.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&H!==1);return G===4?(H=g.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):G!==2||(this.onEnd(0),!(D.avail_out=0))},A.prototype.onData=function(T){this.chunks.push(T)},A.prototype.onEnd=function(T){T===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},m.Deflate=A,m.deflate=L,m.deflateRaw=function(T,B){return(B=B||{}).raw=!0,L(T,B)},m.gzip=function(T,B){return(B=B||{}).gzip=!0,L(T,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,p,m){var g=f("./zlib/inflate"),w=f("./utils/common"),v=f("./utils/strings"),b=f("./zlib/constants"),E=f("./zlib/messages"),P=f("./zlib/zstream"),A=f("./zlib/gzheader"),L=Object.prototype.toString;function T(H){if(!(this instanceof T))return new T(H);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},H||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||H&&H.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var D=g.inflateInit2(this.strm,G.windowBits);if(D!==b.Z_OK)throw new Error(E[D]);this.header=new A,g.inflateGetHeader(this.strm,this.header)}function B(H,G){var D=new T(G);if(D.push(H,!0),D.err)throw D.msg||E[D.err];return D.result}T.prototype.push=function(H,G){var D,k,M,R,y,S,C=this.strm,x=this.options.chunkSize,F=this.options.dictionary,O=!1;if(this.ended)return!1;k=G===~~G?G:G===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof H=="string"?C.input=v.binstring2buf(H):L.call(H)==="[object ArrayBuffer]"?C.input=new Uint8Array(H):C.input=H,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new w.Buf8(x),C.next_out=0,C.avail_out=x),(D=g.inflate(C,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&F&&(S=typeof F=="string"?v.string2buf(F):L.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,D=g.inflateSetDictionary(this.strm,S)),D===b.Z_BUF_ERROR&&O===!0&&(D=b.Z_OK,O=!1),D!==b.Z_STREAM_END&&D!==b.Z_OK)return this.onEnd(D),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&D!==b.Z_STREAM_END&&(C.avail_in!==0||k!==b.Z_FINISH&&k!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=v.utf8border(C.output,C.next_out),R=C.next_out-M,y=v.buf2string(C.output,M),C.next_out=R,C.avail_out=x-R,R&&w.arraySet(C.output,C.output,M,R,0),this.onData(y)):this.onData(w.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(O=!0)}while((0<C.avail_in||C.avail_out===0)&&D!==b.Z_STREAM_END);return D===b.Z_STREAM_END&&(k=b.Z_FINISH),k===b.Z_FINISH?(D=g.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===b.Z_OK):k!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(C.avail_out=0))},T.prototype.onData=function(H){this.chunks.push(H)},T.prototype.onEnd=function(H){H===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},m.Inflate=T,m.inflate=B,m.inflateRaw=function(H,G){return(G=G||{}).raw=!0,B(H,G)},m.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,p,m){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(b){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var P=E.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(var A in P)P.hasOwnProperty(A)&&(b[A]=P[A])}}return b},m.shrinkBuf=function(b,E){return b.length===E?b:b.subarray?b.subarray(0,E):(b.length=E,b)};var w={arraySet:function(b,E,P,A,L){if(E.subarray&&b.subarray)b.set(E.subarray(P,P+A),L);else for(var T=0;T<A;T++)b[L+T]=E[P+T]},flattenChunks:function(b){var E,P,A,L,T,B;for(E=A=0,P=b.length;E<P;E++)A+=b[E].length;for(B=new Uint8Array(A),E=L=0,P=b.length;E<P;E++)T=b[E],B.set(T,L),L+=T.length;return B}},v={arraySet:function(b,E,P,A,L){for(var T=0;T<A;T++)b[L+T]=E[P+T]},flattenChunks:function(b){return[].concat.apply([],b)}};m.setTyped=function(b){b?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,w)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,v))},m.setTyped(g)},{}],42:[function(f,p,m){var g=f("./common"),w=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var b=new g.Buf8(256),E=0;E<256;E++)b[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function P(A,L){if(L<65537&&(A.subarray&&v||!A.subarray&&w))return String.fromCharCode.apply(null,g.shrinkBuf(A,L));for(var T="",B=0;B<L;B++)T+=String.fromCharCode(A[B]);return T}b[254]=b[254]=1,m.string2buf=function(A){var L,T,B,H,G,D=A.length,k=0;for(H=0;H<D;H++)(64512&(T=A.charCodeAt(H)))==55296&&H+1<D&&(64512&(B=A.charCodeAt(H+1)))==56320&&(T=65536+(T-55296<<10)+(B-56320),H++),k+=T<128?1:T<2048?2:T<65536?3:4;for(L=new g.Buf8(k),H=G=0;G<k;H++)(64512&(T=A.charCodeAt(H)))==55296&&H+1<D&&(64512&(B=A.charCodeAt(H+1)))==56320&&(T=65536+(T-55296<<10)+(B-56320),H++),T<128?L[G++]=T:(T<2048?L[G++]=192|T>>>6:(T<65536?L[G++]=224|T>>>12:(L[G++]=240|T>>>18,L[G++]=128|T>>>12&63),L[G++]=128|T>>>6&63),L[G++]=128|63&T);return L},m.buf2binstring=function(A){return P(A,A.length)},m.binstring2buf=function(A){for(var L=new g.Buf8(A.length),T=0,B=L.length;T<B;T++)L[T]=A.charCodeAt(T);return L},m.buf2string=function(A,L){var T,B,H,G,D=L||A.length,k=new Array(2*D);for(T=B=0;T<D;)if((H=A[T++])<128)k[B++]=H;else if(4<(G=b[H]))k[B++]=65533,T+=G-1;else{for(H&=G===2?31:G===3?15:7;1<G&&T<D;)H=H<<6|63&A[T++],G--;1<G?k[B++]=65533:H<65536?k[B++]=H:(H-=65536,k[B++]=55296|H>>10&1023,k[B++]=56320|1023&H)}return P(k,B)},m.utf8border=function(A,L){var T;for((L=L||A.length)>A.length&&(L=A.length),T=L-1;0<=T&&(192&A[T])==128;)T--;return T<0||T===0?L:T+b[A[T]]>L?T:L}},{"./common":41}],43:[function(f,p,m){p.exports=function(g,w,v,b){for(var E=65535&g|0,P=g>>>16&65535|0,A=0;v!==0;){for(v-=A=2e3<v?2e3:v;P=P+(E=E+w[b++]|0)|0,--A;);E%=65521,P%=65521}return E|P<<16|0}},{}],44:[function(f,p,m){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,p,m){var g=function(){for(var w,v=[],b=0;b<256;b++){w=b;for(var E=0;E<8;E++)w=1&w?3988292384^w>>>1:w>>>1;v[b]=w}return v}();p.exports=function(w,v,b,E){var P=g,A=E+b;w^=-1;for(var L=E;L<A;L++)w=w>>>8^P[255&(w^v[L])];return-1^w}},{}],46:[function(f,p,m){var g,w=f("../utils/common"),v=f("./trees"),b=f("./adler32"),E=f("./crc32"),P=f("./messages"),A=-2,L=258,T=262,B=113;function H(V,$){return V.msg=P[$],$}function G(V){return(V<<1)-(4<V?9:0)}function D(V){for(var $=V.length;0<=--$;)V[$]=0}function k(V){var $=V.state,I=$.pending;I>V.avail_out&&(I=V.avail_out),I!==0&&(w.arraySet(V.output,$.pending_buf,$.pending_out,I,V.next_out),V.next_out+=I,$.pending_out+=I,V.total_out+=I,V.avail_out-=I,$.pending-=I,$.pending===0&&($.pending_out=0))}function M(V,$){v._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,$),V.block_start=V.strstart,k(V.strm)}function R(V,$){V.pending_buf[V.pending++]=$}function y(V,$){V.pending_buf[V.pending++]=$>>>8&255,V.pending_buf[V.pending++]=255&$}function S(V,$){var I,_,z=V.max_chain_length,K=V.strstart,Q=V.prev_length,X=V.nice_match,Z=V.strstart>V.w_size-T?V.strstart-(V.w_size-T):0,ne=V.window,ie=V.w_mask,Y=V.prev,te=V.strstart+L,re=ne[K+Q-1],ae=ne[K+Q];V.prev_length>=V.good_match&&(z>>=2),X>V.lookahead&&(X=V.lookahead);do if(ne[(I=$)+Q]===ae&&ne[I+Q-1]===re&&ne[I]===ne[K]&&ne[++I]===ne[K+1]){K+=2,I++;do;while(ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&ne[++K]===ne[++I]&&K<te);if(_=L-(te-K),K=te-L,Q<_){if(V.match_start=$,X<=(Q=_))break;re=ne[K+Q-1],ae=ne[K+Q]}}while(($=Y[$&ie])>Z&&--z!=0);return Q<=V.lookahead?Q:V.lookahead}function C(V){var $,I,_,z,K,Q,X,Z,ne,ie,Y=V.w_size;do{if(z=V.window_size-V.lookahead-V.strstart,V.strstart>=Y+(Y-T)){for(w.arraySet(V.window,V.window,Y,Y,0),V.match_start-=Y,V.strstart-=Y,V.block_start-=Y,$=I=V.hash_size;_=V.head[--$],V.head[$]=Y<=_?_-Y:0,--I;);for($=I=Y;_=V.prev[--$],V.prev[$]=Y<=_?_-Y:0,--I;);z+=Y}if(V.strm.avail_in===0)break;if(Q=V.strm,X=V.window,Z=V.strstart+V.lookahead,ie=void 0,(ne=z)<(ie=Q.avail_in)&&(ie=ne),I=ie===0?0:(Q.avail_in-=ie,w.arraySet(X,Q.input,Q.next_in,ie,Z),Q.state.wrap===1?Q.adler=b(Q.adler,X,ie,Z):Q.state.wrap===2&&(Q.adler=E(Q.adler,X,ie,Z)),Q.next_in+=ie,Q.total_in+=ie,ie),V.lookahead+=I,V.lookahead+V.insert>=3)for(K=V.strstart-V.insert,V.ins_h=V.window[K],V.ins_h=(V.ins_h<<V.hash_shift^V.window[K+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[K+3-1])&V.hash_mask,V.prev[K&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=K,K++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<T&&V.strm.avail_in!==0)}function x(V,$){for(var I,_;;){if(V.lookahead<T){if(C(V),V.lookahead<T&&$===0)return 1;if(V.lookahead===0)break}if(I=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,I=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),I!==0&&V.strstart-I<=V.w_size-T&&(V.match_length=S(V,I)),V.match_length>=3)if(_=v._tr_tally(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,I=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else _=v._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(_&&(M(V,!1),V.strm.avail_out===0))return 1}return V.insert=V.strstart<2?V.strstart:2,$===4?(M(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(M(V,!1),V.strm.avail_out===0)?1:2}function F(V,$){for(var I,_,z;;){if(V.lookahead<T){if(C(V),V.lookahead<T&&$===0)return 1;if(V.lookahead===0)break}if(I=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,I=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,I!==0&&V.prev_length<V.max_lazy_match&&V.strstart-I<=V.w_size-T&&(V.match_length=S(V,I),V.match_length<=5&&(V.strategy===1||V.match_length===3&&4096<V.strstart-V.match_start)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){for(z=V.strstart+V.lookahead-3,_=v._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=z&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,I=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=2,V.strstart++,_&&(M(V,!1),V.strm.avail_out===0))return 1}else if(V.match_available){if((_=v._tr_tally(V,0,V.window[V.strstart-1]))&&M(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(_=v._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,$===4?(M(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(M(V,!1),V.strm.avail_out===0)?1:2}function O(V,$,I,_,z){this.good_length=V,this.max_lazy=$,this.nice_length=I,this.max_chain=_,this.func=z}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j(V){var $;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,($=V.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:B,V.adler=$.wrap===2?0:1,$.last_flush=0,v._tr_init($),0):H(V,A)}function W(V){var $=j(V);return $===0&&function(I){I.window_size=2*I.w_size,D(I.head),I.max_lazy_match=g[I.level].max_lazy,I.good_match=g[I.level].good_length,I.nice_match=g[I.level].nice_length,I.max_chain_length=g[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=2,I.match_available=0,I.ins_h=0}(V.state),$}function q(V,$,I,_,z,K){if(!V)return A;var Q=1;if($===-1&&($=6),_<0?(Q=0,_=-_):15<_&&(Q=2,_-=16),z<1||9<z||I!==8||_<8||15<_||$<0||9<$||K<0||4<K)return H(V,A);_===8&&(_=9);var X=new N;return(V.state=X).strm=V,X.wrap=Q,X.gzhead=null,X.w_bits=_,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=z+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+3-1)/3),X.window=new w.Buf8(2*X.w_size),X.head=new w.Buf16(X.hash_size),X.prev=new w.Buf16(X.w_size),X.lit_bufsize=1<<z+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new w.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=$,X.strategy=K,X.method=I,W(V)}g=[new O(0,0,0,0,function(V,$){var I=65535;for(I>V.pending_buf_size-5&&(I=V.pending_buf_size-5);;){if(V.lookahead<=1){if(C(V),V.lookahead===0&&$===0)return 1;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var _=V.block_start+I;if((V.strstart===0||V.strstart>=_)&&(V.lookahead=V.strstart-_,V.strstart=_,M(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-T&&(M(V,!1),V.strm.avail_out===0))return 1}return V.insert=0,$===4?(M(V,!0),V.strm.avail_out===0?3:4):(V.strstart>V.block_start&&(M(V,!1),V.strm.avail_out),1)}),new O(4,4,8,4,x),new O(4,5,16,8,x),new O(4,6,32,32,x),new O(4,4,16,16,F),new O(8,16,32,32,F),new O(8,16,128,128,F),new O(8,32,128,256,F),new O(32,128,258,1024,F),new O(32,258,258,4096,F)],m.deflateInit=function(V,$){return q(V,$,8,15,8,0)},m.deflateInit2=q,m.deflateReset=W,m.deflateResetKeep=j,m.deflateSetHeader=function(V,$){return V&&V.state?V.state.wrap!==2?A:(V.state.gzhead=$,0):A},m.deflate=function(V,$){var I,_,z,K;if(!V||!V.state||5<$||$<0)return V?H(V,A):A;if(_=V.state,!V.output||!V.input&&V.avail_in!==0||_.status===666&&$!==4)return H(V,V.avail_out===0?-5:A);if(_.strm=V,I=_.last_flush,_.last_flush=$,_.status===42)if(_.wrap===2)V.adler=0,R(_,31),R(_,139),R(_,8),_.gzhead?(R(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),R(_,255&_.gzhead.time),R(_,_.gzhead.time>>8&255),R(_,_.gzhead.time>>16&255),R(_,_.gzhead.time>>24&255),R(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),R(_,255&_.gzhead.os),_.gzhead.extra&&_.gzhead.extra.length&&(R(_,255&_.gzhead.extra.length),R(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(V.adler=E(V.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=69):(R(_,0),R(_,0),R(_,0),R(_,0),R(_,0),R(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),R(_,3),_.status=B);else{var Q=8+(_.w_bits-8<<4)<<8;Q|=(2<=_.strategy||_.level<2?0:_.level<6?1:_.level===6?2:3)<<6,_.strstart!==0&&(Q|=32),Q+=31-Q%31,_.status=B,y(_,Q),_.strstart!==0&&(y(_,V.adler>>>16),y(_,65535&V.adler)),V.adler=1}if(_.status===69)if(_.gzhead.extra){for(z=_.pending;_.gzindex<(65535&_.gzhead.extra.length)&&(_.pending!==_.pending_buf_size||(_.gzhead.hcrc&&_.pending>z&&(V.adler=E(V.adler,_.pending_buf,_.pending-z,z)),k(V),z=_.pending,_.pending!==_.pending_buf_size));)R(_,255&_.gzhead.extra[_.gzindex]),_.gzindex++;_.gzhead.hcrc&&_.pending>z&&(V.adler=E(V.adler,_.pending_buf,_.pending-z,z)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=73)}else _.status=73;if(_.status===73)if(_.gzhead.name){z=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>z&&(V.adler=E(V.adler,_.pending_buf,_.pending-z,z)),k(V),z=_.pending,_.pending===_.pending_buf_size)){K=1;break}K=_.gzindex<_.gzhead.name.length?255&_.gzhead.name.charCodeAt(_.gzindex++):0,R(_,K)}while(K!==0);_.gzhead.hcrc&&_.pending>z&&(V.adler=E(V.adler,_.pending_buf,_.pending-z,z)),K===0&&(_.gzindex=0,_.status=91)}else _.status=91;if(_.status===91)if(_.gzhead.comment){z=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>z&&(V.adler=E(V.adler,_.pending_buf,_.pending-z,z)),k(V),z=_.pending,_.pending===_.pending_buf_size)){K=1;break}K=_.gzindex<_.gzhead.comment.length?255&_.gzhead.comment.charCodeAt(_.gzindex++):0,R(_,K)}while(K!==0);_.gzhead.hcrc&&_.pending>z&&(V.adler=E(V.adler,_.pending_buf,_.pending-z,z)),K===0&&(_.status=103)}else _.status=103;if(_.status===103&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&k(V),_.pending+2<=_.pending_buf_size&&(R(_,255&V.adler),R(_,V.adler>>8&255),V.adler=0,_.status=B)):_.status=B),_.pending!==0){if(k(V),V.avail_out===0)return _.last_flush=-1,0}else if(V.avail_in===0&&G($)<=G(I)&&$!==4)return H(V,-5);if(_.status===666&&V.avail_in!==0)return H(V,-5);if(V.avail_in!==0||_.lookahead!==0||$!==0&&_.status!==666){var X=_.strategy===2?function(Z,ne){for(var ie;;){if(Z.lookahead===0&&(C(Z),Z.lookahead===0)){if(ne===0)return 1;break}if(Z.match_length=0,ie=v._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,ie&&(M(Z,!1),Z.strm.avail_out===0))return 1}return Z.insert=0,ne===4?(M(Z,!0),Z.strm.avail_out===0?3:4):Z.last_lit&&(M(Z,!1),Z.strm.avail_out===0)?1:2}(_,$):_.strategy===3?function(Z,ne){for(var ie,Y,te,re,ae=Z.window;;){if(Z.lookahead<=L){if(C(Z),Z.lookahead<=L&&ne===0)return 1;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=3&&0<Z.strstart&&(Y=ae[te=Z.strstart-1])===ae[++te]&&Y===ae[++te]&&Y===ae[++te]){re=Z.strstart+L;do;while(Y===ae[++te]&&Y===ae[++te]&&Y===ae[++te]&&Y===ae[++te]&&Y===ae[++te]&&Y===ae[++te]&&Y===ae[++te]&&Y===ae[++te]&&te<re);Z.match_length=L-(re-te),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=3?(ie=v._tr_tally(Z,1,Z.match_length-3),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(ie=v._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),ie&&(M(Z,!1),Z.strm.avail_out===0))return 1}return Z.insert=0,ne===4?(M(Z,!0),Z.strm.avail_out===0?3:4):Z.last_lit&&(M(Z,!1),Z.strm.avail_out===0)?1:2}(_,$):g[_.level].func(_,$);if(X!==3&&X!==4||(_.status=666),X===1||X===3)return V.avail_out===0&&(_.last_flush=-1),0;if(X===2&&($===1?v._tr_align(_):$!==5&&(v._tr_stored_block(_,0,0,!1),$===3&&(D(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),k(V),V.avail_out===0))return _.last_flush=-1,0}return $!==4?0:_.wrap<=0?1:(_.wrap===2?(R(_,255&V.adler),R(_,V.adler>>8&255),R(_,V.adler>>16&255),R(_,V.adler>>24&255),R(_,255&V.total_in),R(_,V.total_in>>8&255),R(_,V.total_in>>16&255),R(_,V.total_in>>24&255)):(y(_,V.adler>>>16),y(_,65535&V.adler)),k(V),0<_.wrap&&(_.wrap=-_.wrap),_.pending!==0?0:1)},m.deflateEnd=function(V){var $;return V&&V.state?($=V.state.status)!==42&&$!==69&&$!==73&&$!==91&&$!==103&&$!==B&&$!==666?H(V,A):(V.state=null,$===B?H(V,-3):0):A},m.deflateSetDictionary=function(V,$){var I,_,z,K,Q,X,Z,ne,ie=$.length;if(!V||!V.state||(K=(I=V.state).wrap)===2||K===1&&I.status!==42||I.lookahead)return A;for(K===1&&(V.adler=b(V.adler,$,ie,0)),I.wrap=0,ie>=I.w_size&&(K===0&&(D(I.head),I.strstart=0,I.block_start=0,I.insert=0),ne=new w.Buf8(I.w_size),w.arraySet(ne,$,ie-I.w_size,I.w_size,0),$=ne,ie=I.w_size),Q=V.avail_in,X=V.next_in,Z=V.input,V.avail_in=ie,V.next_in=0,V.input=$,C(I);I.lookahead>=3;){for(_=I.strstart,z=I.lookahead-2;I.ins_h=(I.ins_h<<I.hash_shift^I.window[_+3-1])&I.hash_mask,I.prev[_&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=_,_++,--z;);I.strstart=_,I.lookahead=2,C(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=2,I.match_available=0,V.next_in=X,V.input=Z,V.avail_in=Q,I.wrap=K,0},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,p,m){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,p,m){p.exports=function(g,w){var v,b,E,P,A,L,T,B,H,G,D,k,M,R,y,S,C,x,F,O,N,j,W,q,V;v=g.state,b=g.next_in,q=g.input,E=b+(g.avail_in-5),P=g.next_out,V=g.output,A=P-(w-g.avail_out),L=P+(g.avail_out-257),T=v.dmax,B=v.wsize,H=v.whave,G=v.wnext,D=v.window,k=v.hold,M=v.bits,R=v.lencode,y=v.distcode,S=(1<<v.lenbits)-1,C=(1<<v.distbits)-1;e:do{M<15&&(k+=q[b++]<<M,M+=8,k+=q[b++]<<M,M+=8),x=R[k&S];t:for(;;){if(k>>>=F=x>>>24,M-=F,(F=x>>>16&255)==0)V[P++]=65535&x;else{if(!(16&F)){if(!(64&F)){x=R[(65535&x)+(k&(1<<F)-1)];continue t}if(32&F){v.mode=12;break e}g.msg="invalid literal/length code",v.mode=30;break e}O=65535&x,(F&=15)&&(M<F&&(k+=q[b++]<<M,M+=8),O+=k&(1<<F)-1,k>>>=F,M-=F),M<15&&(k+=q[b++]<<M,M+=8,k+=q[b++]<<M,M+=8),x=y[k&C];r:for(;;){if(k>>>=F=x>>>24,M-=F,!(16&(F=x>>>16&255))){if(!(64&F)){x=y[(65535&x)+(k&(1<<F)-1)];continue r}g.msg="invalid distance code",v.mode=30;break e}if(N=65535&x,M<(F&=15)&&(k+=q[b++]<<M,(M+=8)<F&&(k+=q[b++]<<M,M+=8)),T<(N+=k&(1<<F)-1)){g.msg="invalid distance too far back",v.mode=30;break e}if(k>>>=F,M-=F,(F=P-A)<N){if(H<(F=N-F)&&v.sane){g.msg="invalid distance too far back",v.mode=30;break e}if(W=D,(j=0)===G){if(j+=B-F,F<O){for(O-=F;V[P++]=D[j++],--F;);j=P-N,W=V}}else if(G<F){if(j+=B+G-F,(F-=G)<O){for(O-=F;V[P++]=D[j++],--F;);if(j=0,G<O){for(O-=F=G;V[P++]=D[j++],--F;);j=P-N,W=V}}}else if(j+=G-F,F<O){for(O-=F;V[P++]=D[j++],--F;);j=P-N,W=V}for(;2<O;)V[P++]=W[j++],V[P++]=W[j++],V[P++]=W[j++],O-=3;O&&(V[P++]=W[j++],1<O&&(V[P++]=W[j++]))}else{for(j=P-N;V[P++]=V[j++],V[P++]=V[j++],V[P++]=V[j++],2<(O-=3););O&&(V[P++]=V[j++],1<O&&(V[P++]=V[j++]))}break}}break}}while(b<E&&P<L);b-=O=M>>3,k&=(1<<(M-=O<<3))-1,g.next_in=b,g.next_out=P,g.avail_in=b<E?E-b+5:5-(b-E),g.avail_out=P<L?L-P+257:257-(P-L),v.hold=k,v.bits=M}},{}],49:[function(f,p,m){var g=f("../utils/common"),w=f("./adler32"),v=f("./crc32"),b=f("./inffast"),E=f("./inftrees"),P=-2;function A(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(S){var C;return S&&S.state?(C=S.state,S.total_in=S.total_out=C.total=0,S.msg="",C.wrap&&(S.adler=1&C.wrap),C.mode=1,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new g.Buf32(852),C.distcode=C.distdyn=new g.Buf32(592),C.sane=1,C.back=-1,0):P}function B(S){var C;return S&&S.state?((C=S.state).wsize=0,C.whave=0,C.wnext=0,T(S)):P}function H(S,C){var x,F;return S&&S.state?(F=S.state,C<0?(x=0,C=-C):(x=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?P:(F.window!==null&&F.wbits!==C&&(F.window=null),F.wrap=x,F.wbits=C,B(S))):P}function G(S,C){var x,F;return S?(F=new L,(S.state=F).window=null,(x=H(S,C))!==0&&(S.state=null),x):P}var D,k,M=!0;function R(S){if(M){var C;for(D=new g.Buf32(512),k=new g.Buf32(32),C=0;C<144;)S.lens[C++]=8;for(;C<256;)S.lens[C++]=9;for(;C<280;)S.lens[C++]=7;for(;C<288;)S.lens[C++]=8;for(E(1,S.lens,0,288,D,0,S.work,{bits:9}),C=0;C<32;)S.lens[C++]=5;E(2,S.lens,0,32,k,0,S.work,{bits:5}),M=!1}S.lencode=D,S.lenbits=9,S.distcode=k,S.distbits=5}function y(S,C,x,F){var O,N=S.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new g.Buf8(N.wsize)),F>=N.wsize?(g.arraySet(N.window,C,x-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(F<(O=N.wsize-N.wnext)&&(O=F),g.arraySet(N.window,C,x-F,O,N.wnext),(F-=O)?(g.arraySet(N.window,C,x-F,F,0),N.wnext=F,N.whave=N.wsize):(N.wnext+=O,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=O))),0}m.inflateReset=B,m.inflateReset2=H,m.inflateResetKeep=T,m.inflateInit=function(S){return G(S,15)},m.inflateInit2=G,m.inflate=function(S,C){var x,F,O,N,j,W,q,V,$,I,_,z,K,Q,X,Z,ne,ie,Y,te,re,ae,oe,le,he=0,pe=new g.Buf8(4),be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return P;(x=S.state).mode===12&&(x.mode=13),j=S.next_out,O=S.output,q=S.avail_out,N=S.next_in,F=S.input,W=S.avail_in,V=x.hold,$=x.bits,I=W,_=q,ae=0;e:for(;;)switch(x.mode){case 1:if(x.wrap===0){x.mode=13;break}for(;$<16;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(2&x.wrap&&V===35615){pe[x.check=0]=255&V,pe[1]=V>>>8&255,x.check=v(x.check,pe,2,0),$=V=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&V)<<8)+(V>>8))%31){S.msg="incorrect header check",x.mode=30;break}if((15&V)!=8){S.msg="unknown compression method",x.mode=30;break}if($-=4,re=8+(15&(V>>>=4)),x.wbits===0)x.wbits=re;else if(re>x.wbits){S.msg="invalid window size",x.mode=30;break}x.dmax=1<<re,S.adler=x.check=1,x.mode=512&V?10:12,$=V=0;break;case 2:for(;$<16;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(x.flags=V,(255&x.flags)!=8){S.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){S.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=V>>8&1),512&x.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,x.check=v(x.check,pe,2,0)),$=V=0,x.mode=3;case 3:for(;$<32;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}x.head&&(x.head.time=V),512&x.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,pe[2]=V>>>16&255,pe[3]=V>>>24&255,x.check=v(x.check,pe,4,0)),$=V=0,x.mode=4;case 4:for(;$<16;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}x.head&&(x.head.xflags=255&V,x.head.os=V>>8),512&x.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,x.check=v(x.check,pe,2,0)),$=V=0,x.mode=5;case 5:if(1024&x.flags){for(;$<16;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}x.length=V,x.head&&(x.head.extra_len=V),512&x.flags&&(pe[0]=255&V,pe[1]=V>>>8&255,x.check=v(x.check,pe,2,0)),$=V=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(W<(z=x.length)&&(z=W),z&&(x.head&&(re=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),g.arraySet(x.head.extra,F,N,z,re)),512&x.flags&&(x.check=v(x.check,F,z,N)),W-=z,N+=z,x.length-=z),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(W===0)break e;for(z=0;re=F[N+z++],x.head&&re&&x.length<65536&&(x.head.name+=String.fromCharCode(re)),re&&z<W;);if(512&x.flags&&(x.check=v(x.check,F,z,N)),W-=z,N+=z,re)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(W===0)break e;for(z=0;re=F[N+z++],x.head&&re&&x.length<65536&&(x.head.comment+=String.fromCharCode(re)),re&&z<W;);if(512&x.flags&&(x.check=v(x.check,F,z,N)),W-=z,N+=z,re)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;$<16;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(V!==(65535&x.check)){S.msg="header crc mismatch",x.mode=30;break}$=V=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),S.adler=x.check=0,x.mode=12;break;case 10:for(;$<32;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}S.adler=x.check=A(V),$=V=0,x.mode=11;case 11:if(x.havedict===0)return S.next_out=j,S.avail_out=q,S.next_in=N,S.avail_in=W,x.hold=V,x.bits=$,2;S.adler=x.check=1,x.mode=12;case 12:if(C===5||C===6)break e;case 13:if(x.last){V>>>=7&$,$-=7&$,x.mode=27;break}for(;$<3;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}switch(x.last=1&V,$-=1,3&(V>>>=1)){case 0:x.mode=14;break;case 1:if(R(x),x.mode=20,C!==6)break;V>>>=2,$-=2;break e;case 2:x.mode=17;break;case 3:S.msg="invalid block type",x.mode=30}V>>>=2,$-=2;break;case 14:for(V>>>=7&$,$-=7&$;$<32;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if((65535&V)!=(V>>>16^65535)){S.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&V,$=V=0,x.mode=15,C===6)break e;case 15:x.mode=16;case 16:if(z=x.length){if(W<z&&(z=W),q<z&&(z=q),z===0)break e;g.arraySet(O,F,N,z,j),W-=z,N+=z,q-=z,j+=z,x.length-=z;break}x.mode=12;break;case 17:for(;$<14;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(x.nlen=257+(31&V),V>>>=5,$-=5,x.ndist=1+(31&V),V>>>=5,$-=5,x.ncode=4+(15&V),V>>>=4,$-=4,286<x.nlen||30<x.ndist){S.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;$<3;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}x.lens[be[x.have++]]=7&V,V>>>=3,$-=3}for(;x.have<19;)x.lens[be[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,oe={bits:x.lenbits},ae=E(0,x.lens,0,19,x.lencode,0,x.work,oe),x.lenbits=oe.bits,ae){S.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;Z=(he=x.lencode[V&(1<<x.lenbits)-1])>>>16&255,ne=65535&he,!((X=he>>>24)<=$);){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(ne<16)V>>>=X,$-=X,x.lens[x.have++]=ne;else{if(ne===16){for(le=X+2;$<le;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(V>>>=X,$-=X,x.have===0){S.msg="invalid bit length repeat",x.mode=30;break}re=x.lens[x.have-1],z=3+(3&V),V>>>=2,$-=2}else if(ne===17){for(le=X+3;$<le;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}$-=X,re=0,z=3+(7&(V>>>=X)),V>>>=3,$-=3}else{for(le=X+7;$<le;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}$-=X,re=0,z=11+(127&(V>>>=X)),V>>>=7,$-=7}if(x.have+z>x.nlen+x.ndist){S.msg="invalid bit length repeat",x.mode=30;break}for(;z--;)x.lens[x.have++]=re}}if(x.mode===30)break;if(x.lens[256]===0){S.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,oe={bits:x.lenbits},ae=E(1,x.lens,0,x.nlen,x.lencode,0,x.work,oe),x.lenbits=oe.bits,ae){S.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,oe={bits:x.distbits},ae=E(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,oe),x.distbits=oe.bits,ae){S.msg="invalid distances set",x.mode=30;break}if(x.mode=20,C===6)break e;case 20:x.mode=21;case 21:if(6<=W&&258<=q){S.next_out=j,S.avail_out=q,S.next_in=N,S.avail_in=W,x.hold=V,x.bits=$,b(S,_),j=S.next_out,O=S.output,q=S.avail_out,N=S.next_in,F=S.input,W=S.avail_in,V=x.hold,$=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;Z=(he=x.lencode[V&(1<<x.lenbits)-1])>>>16&255,ne=65535&he,!((X=he>>>24)<=$);){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(Z&&!(240&Z)){for(ie=X,Y=Z,te=ne;Z=(he=x.lencode[te+((V&(1<<ie+Y)-1)>>ie)])>>>16&255,ne=65535&he,!(ie+(X=he>>>24)<=$);){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}V>>>=ie,$-=ie,x.back+=ie}if(V>>>=X,$-=X,x.back+=X,x.length=ne,Z===0){x.mode=26;break}if(32&Z){x.back=-1,x.mode=12;break}if(64&Z){S.msg="invalid literal/length code",x.mode=30;break}x.extra=15&Z,x.mode=22;case 22:if(x.extra){for(le=x.extra;$<le;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}x.length+=V&(1<<x.extra)-1,V>>>=x.extra,$-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;Z=(he=x.distcode[V&(1<<x.distbits)-1])>>>16&255,ne=65535&he,!((X=he>>>24)<=$);){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(!(240&Z)){for(ie=X,Y=Z,te=ne;Z=(he=x.distcode[te+((V&(1<<ie+Y)-1)>>ie)])>>>16&255,ne=65535&he,!(ie+(X=he>>>24)<=$);){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}V>>>=ie,$-=ie,x.back+=ie}if(V>>>=X,$-=X,x.back+=X,64&Z){S.msg="invalid distance code",x.mode=30;break}x.offset=ne,x.extra=15&Z,x.mode=24;case 24:if(x.extra){for(le=x.extra;$<le;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}x.offset+=V&(1<<x.extra)-1,V>>>=x.extra,$-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){S.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(q===0)break e;if(z=_-q,x.offset>z){if((z=x.offset-z)>x.whave&&x.sane){S.msg="invalid distance too far back",x.mode=30;break}K=z>x.wnext?(z-=x.wnext,x.wsize-z):x.wnext-z,z>x.length&&(z=x.length),Q=x.window}else Q=O,K=j-x.offset,z=x.length;for(q<z&&(z=q),q-=z,x.length-=z;O[j++]=Q[K++],--z;);x.length===0&&(x.mode=21);break;case 26:if(q===0)break e;O[j++]=x.length,q--,x.mode=21;break;case 27:if(x.wrap){for(;$<32;){if(W===0)break e;W--,V|=F[N++]<<$,$+=8}if(_-=q,S.total_out+=_,x.total+=_,_&&(S.adler=x.check=x.flags?v(x.check,O,_,j-_):w(x.check,O,_,j-_)),_=q,(x.flags?V:A(V))!==x.check){S.msg="incorrect data check",x.mode=30;break}$=V=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;$<32;){if(W===0)break e;W--,V+=F[N++]<<$,$+=8}if(V!==(4294967295&x.total)){S.msg="incorrect length check",x.mode=30;break}$=V=0}x.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return P}return S.next_out=j,S.avail_out=q,S.next_in=N,S.avail_in=W,x.hold=V,x.bits=$,(x.wsize||_!==S.avail_out&&x.mode<30&&(x.mode<27||C!==4))&&y(S,S.output,S.next_out,_-S.avail_out)?(x.mode=31,-4):(I-=S.avail_in,_-=S.avail_out,S.total_in+=I,S.total_out+=_,x.total+=_,x.wrap&&_&&(S.adler=x.check=x.flags?v(x.check,O,_,S.next_out-_):w(x.check,O,_,S.next_out-_)),S.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(I==0&&_===0||C===4)&&ae===0&&(ae=-5),ae)},m.inflateEnd=function(S){if(!S||!S.state)return P;var C=S.state;return C.window&&(C.window=null),S.state=null,0},m.inflateGetHeader=function(S,C){var x;return S&&S.state&&2&(x=S.state).wrap?((x.head=C).done=!1,0):P},m.inflateSetDictionary=function(S,C){var x,F=C.length;return S&&S.state?(x=S.state).wrap!==0&&x.mode!==11?P:x.mode===11&&w(1,C,F,0)!==x.check?-3:y(S,C,F,F)?(x.mode=31,-4):(x.havedict=1,0):P},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,p,m){var g=f("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(P,A,L,T,B,H,G,D){var k,M,R,y,S,C,x,F,O,N=D.bits,j=0,W=0,q=0,V=0,$=0,I=0,_=0,z=0,K=0,Q=0,X=null,Z=0,ne=new g.Buf16(16),ie=new g.Buf16(16),Y=null,te=0;for(j=0;j<=15;j++)ne[j]=0;for(W=0;W<T;W++)ne[A[L+W]]++;for($=N,V=15;1<=V&&ne[V]===0;V--);if(V<$&&($=V),V===0)return B[H++]=20971520,B[H++]=20971520,D.bits=1,0;for(q=1;q<V&&ne[q]===0;q++);for($<q&&($=q),j=z=1;j<=15;j++)if(z<<=1,(z-=ne[j])<0)return-1;if(0<z&&(P===0||V!==1))return-1;for(ie[1]=0,j=1;j<15;j++)ie[j+1]=ie[j]+ne[j];for(W=0;W<T;W++)A[L+W]!==0&&(G[ie[A[L+W]]++]=W);if(C=P===0?(X=Y=G,19):P===1?(X=w,Z-=257,Y=v,te-=257,256):(X=b,Y=E,-1),j=q,S=H,_=W=Q=0,R=-1,y=(K=1<<(I=$))-1,P===1&&852<K||P===2&&592<K)return 1;for(;;){for(x=j-_,O=G[W]<C?(F=0,G[W]):G[W]>C?(F=Y[te+G[W]],X[Z+G[W]]):(F=96,0),k=1<<j-_,q=M=1<<I;B[S+(Q>>_)+(M-=k)]=x<<24|F<<16|O|0,M!==0;);for(k=1<<j-1;Q&k;)k>>=1;if(k!==0?(Q&=k-1,Q+=k):Q=0,W++,--ne[j]==0){if(j===V)break;j=A[L+G[W]]}if($<j&&(Q&y)!==R){for(_===0&&(_=$),S+=q,z=1<<(I=j-_);I+_<V&&!((z-=ne[I+_])<=0);)I++,z<<=1;if(K+=1<<I,P===1&&852<K||P===2&&592<K)return 1;B[R=Q&y]=$<<24|I<<16|S-H|0}}return Q!==0&&(B[S+Q]=j-_<<24|64<<16|0),D.bits=$,0}},{"../utils/common":41}],51:[function(f,p,m){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,p,m){var g=f("../utils/common");function w(Y){for(var te=Y.length;0<=--te;)Y[te]=0}var v=256,b=286,E=30,P=15,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);w(H);var G=new Array(60);w(G);var D=new Array(512);w(D);var k=new Array(256);w(k);var M=new Array(29);w(M);var R,y,S,C=new Array(E);function x(Y,te,re,ae,oe){this.static_tree=Y,this.extra_bits=te,this.extra_base=re,this.elems=ae,this.max_length=oe,this.has_stree=Y&&Y.length}function F(Y,te){this.dyn_tree=Y,this.max_code=0,this.stat_desc=te}function O(Y){return Y<256?D[Y]:D[256+(Y>>>7)]}function N(Y,te){Y.pending_buf[Y.pending++]=255&te,Y.pending_buf[Y.pending++]=te>>>8&255}function j(Y,te,re){Y.bi_valid>16-re?(Y.bi_buf|=te<<Y.bi_valid&65535,N(Y,Y.bi_buf),Y.bi_buf=te>>16-Y.bi_valid,Y.bi_valid+=re-16):(Y.bi_buf|=te<<Y.bi_valid&65535,Y.bi_valid+=re)}function W(Y,te,re){j(Y,re[2*te],re[2*te+1])}function q(Y,te){for(var re=0;re|=1&Y,Y>>>=1,re<<=1,0<--te;);return re>>>1}function V(Y,te,re){var ae,oe,le=new Array(16),he=0;for(ae=1;ae<=P;ae++)le[ae]=he=he+re[ae-1]<<1;for(oe=0;oe<=te;oe++){var pe=Y[2*oe+1];pe!==0&&(Y[2*oe]=q(le[pe]++,pe))}}function $(Y){var te;for(te=0;te<b;te++)Y.dyn_ltree[2*te]=0;for(te=0;te<E;te++)Y.dyn_dtree[2*te]=0;for(te=0;te<19;te++)Y.bl_tree[2*te]=0;Y.dyn_ltree[512]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function I(Y){8<Y.bi_valid?N(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function _(Y,te,re,ae){var oe=2*te,le=2*re;return Y[oe]<Y[le]||Y[oe]===Y[le]&&ae[te]<=ae[re]}function z(Y,te,re){for(var ae=Y.heap[re],oe=re<<1;oe<=Y.heap_len&&(oe<Y.heap_len&&_(te,Y.heap[oe+1],Y.heap[oe],Y.depth)&&oe++,!_(te,ae,Y.heap[oe],Y.depth));)Y.heap[re]=Y.heap[oe],re=oe,oe<<=1;Y.heap[re]=ae}function K(Y,te,re){var ae,oe,le,he,pe=0;if(Y.last_lit!==0)for(;ae=Y.pending_buf[Y.d_buf+2*pe]<<8|Y.pending_buf[Y.d_buf+2*pe+1],oe=Y.pending_buf[Y.l_buf+pe],pe++,ae===0?W(Y,oe,te):(W(Y,(le=k[oe])+v+1,te),(he=A[le])!==0&&j(Y,oe-=M[le],he),W(Y,le=O(--ae),re),(he=L[le])!==0&&j(Y,ae-=C[le],he)),pe<Y.last_lit;);W(Y,256,te)}function Q(Y,te){var re,ae,oe,le=te.dyn_tree,he=te.stat_desc.static_tree,pe=te.stat_desc.has_stree,be=te.stat_desc.elems,_e=-1;for(Y.heap_len=0,Y.heap_max=573,re=0;re<be;re++)le[2*re]!==0?(Y.heap[++Y.heap_len]=_e=re,Y.depth[re]=0):le[2*re+1]=0;for(;Y.heap_len<2;)le[2*(oe=Y.heap[++Y.heap_len]=_e<2?++_e:0)]=1,Y.depth[oe]=0,Y.opt_len--,pe&&(Y.static_len-=he[2*oe+1]);for(te.max_code=_e,re=Y.heap_len>>1;1<=re;re--)z(Y,le,re);for(oe=be;re=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],z(Y,le,1),ae=Y.heap[1],Y.heap[--Y.heap_max]=re,Y.heap[--Y.heap_max]=ae,le[2*oe]=le[2*re]+le[2*ae],Y.depth[oe]=(Y.depth[re]>=Y.depth[ae]?Y.depth[re]:Y.depth[ae])+1,le[2*re+1]=le[2*ae+1]=oe,Y.heap[1]=oe++,z(Y,le,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(Pe,ve){var Ie,Ve,je,$e,Ae,xe,De=ve.dyn_tree,Ge=ve.max_code,Oe=ve.stat_desc.static_tree,ut=ve.stat_desc.has_stree,Ct=ve.stat_desc.extra_bits,Ke=ve.stat_desc.extra_base,vt=ve.stat_desc.max_length,ct=0;for($e=0;$e<=P;$e++)Pe.bl_count[$e]=0;for(De[2*Pe.heap[Pe.heap_max]+1]=0,Ie=Pe.heap_max+1;Ie<573;Ie++)vt<($e=De[2*De[2*(Ve=Pe.heap[Ie])+1]+1]+1)&&($e=vt,ct++),De[2*Ve+1]=$e,Ge<Ve||(Pe.bl_count[$e]++,Ae=0,Ke<=Ve&&(Ae=Ct[Ve-Ke]),xe=De[2*Ve],Pe.opt_len+=xe*($e+Ae),ut&&(Pe.static_len+=xe*(Oe[2*Ve+1]+Ae)));if(ct!==0){do{for($e=vt-1;Pe.bl_count[$e]===0;)$e--;Pe.bl_count[$e]--,Pe.bl_count[$e+1]+=2,Pe.bl_count[vt]--,ct-=2}while(0<ct);for($e=vt;$e!==0;$e--)for(Ve=Pe.bl_count[$e];Ve!==0;)Ge<(je=Pe.heap[--Ie])||(De[2*je+1]!==$e&&(Pe.opt_len+=($e-De[2*je+1])*De[2*je],De[2*je+1]=$e),Ve--)}}(Y,te),V(le,_e,Y.bl_count)}function X(Y,te,re){var ae,oe,le=-1,he=te[1],pe=0,be=7,_e=4;for(he===0&&(be=138,_e=3),te[2*(re+1)+1]=65535,ae=0;ae<=re;ae++)oe=he,he=te[2*(ae+1)+1],++pe<be&&oe===he||(pe<_e?Y.bl_tree[2*oe]+=pe:oe!==0?(oe!==le&&Y.bl_tree[2*oe]++,Y.bl_tree[32]++):pe<=10?Y.bl_tree[34]++:Y.bl_tree[36]++,le=oe,_e=(pe=0)===he?(be=138,3):oe===he?(be=6,3):(be=7,4))}function Z(Y,te,re){var ae,oe,le=-1,he=te[1],pe=0,be=7,_e=4;for(he===0&&(be=138,_e=3),ae=0;ae<=re;ae++)if(oe=he,he=te[2*(ae+1)+1],!(++pe<be&&oe===he)){if(pe<_e)for(;W(Y,oe,Y.bl_tree),--pe!=0;);else oe!==0?(oe!==le&&(W(Y,oe,Y.bl_tree),pe--),W(Y,16,Y.bl_tree),j(Y,pe-3,2)):pe<=10?(W(Y,17,Y.bl_tree),j(Y,pe-3,3)):(W(Y,18,Y.bl_tree),j(Y,pe-11,7));le=oe,_e=(pe=0)===he?(be=138,3):oe===he?(be=6,3):(be=7,4)}}w(C);var ne=!1;function ie(Y,te,re,ae){j(Y,0+(ae?1:0),3),function(oe,le,he,pe){I(oe),N(oe,he),N(oe,~he),g.arraySet(oe.pending_buf,oe.window,le,he,oe.pending),oe.pending+=he}(Y,te,re)}m._tr_init=function(Y){ne||(function(){var te,re,ae,oe,le,he=new Array(16);for(oe=ae=0;oe<28;oe++)for(M[oe]=ae,te=0;te<1<<A[oe];te++)k[ae++]=oe;for(k[ae-1]=oe,oe=le=0;oe<16;oe++)for(C[oe]=le,te=0;te<1<<L[oe];te++)D[le++]=oe;for(le>>=7;oe<E;oe++)for(C[oe]=le<<7,te=0;te<1<<L[oe]-7;te++)D[256+le++]=oe;for(re=0;re<=P;re++)he[re]=0;for(te=0;te<=143;)H[2*te+1]=8,te++,he[8]++;for(;te<=255;)H[2*te+1]=9,te++,he[9]++;for(;te<=279;)H[2*te+1]=7,te++,he[7]++;for(;te<=287;)H[2*te+1]=8,te++,he[8]++;for(V(H,287,he),te=0;te<E;te++)G[2*te+1]=5,G[2*te]=q(te,5);R=new x(H,A,257,b,P),y=new x(G,L,0,E,P),S=new x(new Array(0),T,0,19,7)}(),ne=!0),Y.l_desc=new F(Y.dyn_ltree,R),Y.d_desc=new F(Y.dyn_dtree,y),Y.bl_desc=new F(Y.bl_tree,S),Y.bi_buf=0,Y.bi_valid=0,$(Y)},m._tr_stored_block=ie,m._tr_flush_block=function(Y,te,re,ae){var oe,le,he=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(pe){var be,_e=4093624447;for(be=0;be<=31;be++,_e>>>=1)if(1&_e&&pe.dyn_ltree[2*be]!==0)return 0;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return 1;for(be=32;be<v;be++)if(pe.dyn_ltree[2*be]!==0)return 1;return 0}(Y)),Q(Y,Y.l_desc),Q(Y,Y.d_desc),he=function(pe){var be;for(X(pe,pe.dyn_ltree,pe.l_desc.max_code),X(pe,pe.dyn_dtree,pe.d_desc.max_code),Q(pe,pe.bl_desc),be=18;3<=be&&pe.bl_tree[2*B[be]+1]===0;be--);return pe.opt_len+=3*(be+1)+5+5+4,be}(Y),oe=Y.opt_len+3+7>>>3,(le=Y.static_len+3+7>>>3)<=oe&&(oe=le)):oe=le=re+5,re+4<=oe&&te!==-1?ie(Y,te,re,ae):Y.strategy===4||le===oe?(j(Y,2+(ae?1:0),3),K(Y,H,G)):(j(Y,4+(ae?1:0),3),function(pe,be,_e,Pe){var ve;for(j(pe,be-257,5),j(pe,_e-1,5),j(pe,Pe-4,4),ve=0;ve<Pe;ve++)j(pe,pe.bl_tree[2*B[ve]+1],3);Z(pe,pe.dyn_ltree,be-1),Z(pe,pe.dyn_dtree,_e-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,he+1),K(Y,Y.dyn_ltree,Y.dyn_dtree)),$(Y),ae&&I(Y)},m._tr_tally=function(Y,te,re){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=te>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&te,Y.pending_buf[Y.l_buf+Y.last_lit]=255&re,Y.last_lit++,te===0?Y.dyn_ltree[2*re]++:(Y.matches++,te--,Y.dyn_ltree[2*(k[re]+v+1)]++,Y.dyn_dtree[2*O(te)]++),Y.last_lit===Y.lit_bufsize-1},m._tr_align=function(Y){j(Y,2,3),W(Y,256,H),function(te){te.bi_valid===16?(N(te,te.bi_buf),te.bi_buf=0,te.bi_valid=0):8<=te.bi_valid&&(te.pending_buf[te.pending++]=255&te.bi_buf,te.bi_buf>>=8,te.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(f,p,m){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,p,m){(function(g){(function(w,v){if(!w.setImmediate){var b,E,P,A,L=1,T={},B=!1,H=w.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(w);G=G&&G.setTimeout?G:w,b={}.toString.call(w.process)==="[object process]"?function(R){s.nextTick(function(){k(R)})}:function(){if(w.postMessage&&!w.importScripts){var R=!0,y=w.onmessage;return w.onmessage=function(){R=!1},w.postMessage("","*"),w.onmessage=y,R}}()?(A="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",M,!1):w.attachEvent("onmessage",M),function(R){w.postMessage(A+R,"*")}):w.MessageChannel?((P=new MessageChannel).port1.onmessage=function(R){k(R.data)},function(R){P.port2.postMessage(R)}):H&&"onreadystatechange"in H.createElement("script")?(E=H.documentElement,function(R){var y=H.createElement("script");y.onreadystatechange=function(){k(R),y.onreadystatechange=null,E.removeChild(y),y=null},E.appendChild(y)}):function(R){setTimeout(k,0,R)},G.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var C={callback:R,args:y};return T[L]=C,b(L),L++},G.clearImmediate=D}function D(R){delete T[R]}function k(R){if(B)setTimeout(k,0,R);else{var y=T[R];if(y){B=!0;try{(function(S){var C=S.callback,x=S.args;switch(x.length){case 0:C();break;case 1:C(x[0]);break;case 2:C(x[0],x[1]);break;case 3:C(x[0],x[1],x[2]);break;default:C.apply(void 0,x)}})(y)}finally{D(R),B=!1}}}}function M(R){R.source===w&&typeof R.data=="string"&&R.data.indexOf(A)===0&&k(+R.data.slice(A.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,i){(function(s){(function(){var o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),l=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype.toString,d=u.Symbol,f=d?d.prototype:void 0,p=f?f.toString:void 0;function m(g){if(typeof g=="string")return g;if(function(v){return typeof v=="symbol"||function(b){return!!b&&typeof b=="object"}(v)&&h.call(v)=="[object Symbol]"}(g))return p?p.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}n.exports=function(g){var w;return(g=(w=g)==null?"":m(w))&&a.test(g)?g.replace(o,"\\$&"):g}}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[a]=w["[object Number]"]=w[l]=w["[object RegExp]"]=w[c]=w["[object String]"]=w["[object WeakMap]"]=!1;var v=typeof s=="object"&&s&&s.Object===Object&&s,b=typeof self=="object"&&self&&self.Object===Object&&self,E=v||b||Function("return this")(),P=typeof i=="object"&&i&&!i.nodeType&&i,A=P&&typeof n=="object"&&n&&!n.nodeType&&n,L=A&&A.exports===P&&v.process,T=function(){try{return L&&L.binding("util")}catch{}}(),B=T&&T.isTypedArray;function H(ee,ue,me,Ce){for(var He=-1,Re=ee?ee.length:0;++He<Re;){var Fe=ee[He];ue(Ce,Fe,me(Fe),ee)}return Ce}function G(ee,ue){for(var me=-1,Ce=ee?ee.length:0;++me<Ce;)if(ue(ee[me],me,ee))return!0;return!1}function D(ee){var ue=!1;if(ee!=null&&typeof ee.toString!="function")try{ue=!!(ee+"")}catch{}return ue}function k(ee){var ue=-1,me=Array(ee.size);return ee.forEach(function(Ce,He){me[++ue]=[He,Ce]}),me}function M(ee){var ue=-1,me=Array(ee.size);return ee.forEach(function(Ce){me[++ue]=Ce}),me}var R,y,S,C=Array.prototype,x=Function.prototype,F=Object.prototype,O=E["__core-js_shared__"],N=(R=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",j=x.toString,W=F.hasOwnProperty,q=F.toString,V=RegExp("^"+j.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=E.Symbol,I=E.Uint8Array,_=F.propertyIsEnumerable,z=C.splice,K=(y=Object.keys,S=Object,function(ee){return y(S(ee))}),Q=Ze(E,"DataView"),X=Ze(E,"Map"),Z=Ze(E,"Promise"),ne=Ze(E,"Set"),ie=Ze(E,"WeakMap"),Y=Ze(Object,"create"),te=ce(Q),re=ce(X),ae=ce(Z),oe=ce(ne),le=ce(ie),he=$?$.prototype:void 0,pe=he?he.valueOf:void 0,be=he?he.toString:void 0;function _e(ee){var ue=-1,me=ee?ee.length:0;for(this.clear();++ue<me;){var Ce=ee[ue];this.set(Ce[0],Ce[1])}}function Pe(ee){var ue=-1,me=ee?ee.length:0;for(this.clear();++ue<me;){var Ce=ee[ue];this.set(Ce[0],Ce[1])}}function ve(ee){var ue=-1,me=ee?ee.length:0;for(this.clear();++ue<me;){var Ce=ee[ue];this.set(Ce[0],Ce[1])}}function Ie(ee){var ue=-1,me=ee?ee.length:0;for(this.__data__=new ve;++ue<me;)this.add(ee[ue])}function Ve(ee){this.__data__=new Pe(ee)}function je(ee,ue){var me=Xe(ee)||Je(ee)?function(Fe,ht){for(var st=-1,at=Array(Fe);++st<Fe;)at[st]=ht(st);return at}(ee.length,String):[],Ce=me.length,He=!!Ce;for(var Re in ee)!W.call(ee,Re)||He&&(Re=="length"||Ft(Re,Ce))||me.push(Re);return me}function $e(ee,ue){for(var me=ee.length;me--;)if(Te(ee[me][0],ue))return me;return-1}function Ae(ee,ue,me,Ce){return De(ee,function(He,Re,Fe){ue(Ce,He,me(He),Fe)}),Ce}_e.prototype.clear=function(){this.__data__=Y?Y(null):{}},_e.prototype.delete=function(ee){return this.has(ee)&&delete this.__data__[ee]},_e.prototype.get=function(ee){var ue=this.__data__;if(Y){var me=ue[ee];return me==="__lodash_hash_undefined__"?void 0:me}return W.call(ue,ee)?ue[ee]:void 0},_e.prototype.has=function(ee){var ue=this.__data__;return Y?ue[ee]!==void 0:W.call(ue,ee)},_e.prototype.set=function(ee,ue){return this.__data__[ee]=Y&&ue===void 0?"__lodash_hash_undefined__":ue,this},Pe.prototype.clear=function(){this.__data__=[]},Pe.prototype.delete=function(ee){var ue=this.__data__,me=$e(ue,ee);return!(me<0)&&(me==ue.length-1?ue.pop():z.call(ue,me,1),!0)},Pe.prototype.get=function(ee){var ue=this.__data__,me=$e(ue,ee);return me<0?void 0:ue[me][1]},Pe.prototype.has=function(ee){return $e(this.__data__,ee)>-1},Pe.prototype.set=function(ee,ue){var me=this.__data__,Ce=$e(me,ee);return Ce<0?me.push([ee,ue]):me[Ce][1]=ue,this},ve.prototype.clear=function(){this.__data__={hash:new _e,map:new(X||Pe),string:new _e}},ve.prototype.delete=function(ee){return wt(this,ee).delete(ee)},ve.prototype.get=function(ee){return wt(this,ee).get(ee)},ve.prototype.has=function(ee){return wt(this,ee).has(ee)},ve.prototype.set=function(ee,ue){return wt(this,ee).set(ee,ue),this},Ie.prototype.add=Ie.prototype.push=function(ee){return this.__data__.set(ee,"__lodash_hash_undefined__"),this},Ie.prototype.has=function(ee){return this.__data__.has(ee)},Ve.prototype.clear=function(){this.__data__=new Pe},Ve.prototype.delete=function(ee){return this.__data__.delete(ee)},Ve.prototype.get=function(ee){return this.__data__.get(ee)},Ve.prototype.has=function(ee){return this.__data__.has(ee)},Ve.prototype.set=function(ee,ue){var me=this.__data__;if(me instanceof Pe){var Ce=me.__data__;if(!X||Ce.length<199)return Ce.push([ee,ue]),this;me=this.__data__=new ve(Ce)}return me.set(ee,ue),this};var xe,De=(xe=function(ee,ue){return ee&&Ge(ee,ue,nr)},function(ee,ue){if(ee==null)return ee;if(!We(ee))return xe(ee,ue);for(var me=ee.length,Ce=-1,He=Object(ee);++Ce<me&&ue(He[Ce],Ce,He)!==!1;);return ee}),Ge=function(ee){return function(ue,me,Ce){for(var He=-1,Re=Object(ue),Fe=Ce(ue),ht=Fe.length;ht--;){var st=Fe[++He];if(me(Re[st],st,Re)===!1)break}return ue}}();function Oe(ee,ue){for(var me=0,Ce=(ue=Qe(ue,ee)?[ue]:rt(ue)).length;ee!=null&&me<Ce;)ee=ee[se(ue[me++])];return me&&me==Ce?ee:void 0}function ut(ee,ue){return ee!=null&&ue in Object(ee)}function Ct(ee,ue,me,Ce,He){return ee===ue||(ee==null||ue==null||!ot(ee)&&!qt(ue)?ee!=ee&&ue!=ue:function(Re,Fe,ht,st,at,Ye){var St=Xe(Re),xt=Xe(Fe),Mt="[object Array]",zt="[object Array]";St||(Mt=(Mt=pt(Re))==o?l:Mt),xt||(zt=(zt=pt(Fe))==o?l:zt);var lr=Mt==l&&!D(Re),Pr=zt==l&&!D(Fe),yn=Mt==zt;if(yn&&!lr)return Ye||(Ye=new Ve),St||rr(Re)?At(Re,Fe,ht,st,at,Ye):function(Rt,mt,ki,gs,uc,Wr,ti){switch(ki){case"[object DataView]":if(Rt.byteLength!=mt.byteLength||Rt.byteOffset!=mt.byteOffset)return!1;Rt=Rt.buffer,mt=mt.buffer;case"[object ArrayBuffer]":return!(Rt.byteLength!=mt.byteLength||!gs(new I(Rt),new I(mt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Te(+Rt,+mt);case"[object Error]":return Rt.name==mt.name&&Rt.message==mt.message;case"[object RegExp]":case"[object String]":return Rt==mt+"";case a:var Fi=k;case c:var Pa=2&Wr;if(Fi||(Fi=M),Rt.size!=mt.size&&!Pa)return!1;var dc=ti.get(Rt);if(dc)return dc==mt;Wr|=1,ti.set(Rt,mt);var uo=At(Fi(Rt),Fi(mt),gs,uc,Wr,ti);return ti.delete(Rt),uo;case"[object Symbol]":if(pe)return pe.call(Rt)==pe.call(mt)}return!1}(Re,Fe,Mt,ht,st,at,Ye);if(!(2&at)){var ps=lr&&W.call(Re,"__wrapped__"),ao=Pr&&W.call(Fe,"__wrapped__");if(ps||ao){var lo=ps?Re.value():Re,co=ao?Fe.value():Fe;return Ye||(Ye=new Ve),ht(lo,co,st,at,Ye)}}return yn?(Ye||(Ye=new Ve),function(Rt,mt,ki,gs,uc,Wr){var ti=2&uc,Fi=nr(Rt),Pa=Fi.length,dc=nr(mt).length;if(Pa!=dc&&!ti)return!1;for(var uo=Pa;uo--;){var Pi=Fi[uo];if(!(ti?Pi in mt:W.call(mt,Pi)))return!1}var vv=Wr.get(Rt);if(vv&&Wr.get(mt))return vv==mt;var hc=!0;Wr.set(Rt,mt),Wr.set(mt,Rt);for(var fh=ti;++uo<Pa;){Pi=Fi[uo];var fc=Rt[Pi],pc=mt[Pi];if(gs)var wv=ti?gs(pc,fc,Pi,mt,Rt,Wr):gs(fc,pc,Pi,Rt,mt,Wr);if(!(wv===void 0?fc===pc||ki(fc,pc,gs,uc,Wr):wv)){hc=!1;break}fh||(fh=Pi=="constructor")}if(hc&&!fh){var gc=Rt.constructor,mc=mt.constructor;gc==mc||!("constructor"in Rt)||!("constructor"in mt)||typeof gc=="function"&&gc instanceof gc&&typeof mc=="function"&&mc instanceof mc||(hc=!1)}return Wr.delete(Rt),Wr.delete(mt),hc}(Re,Fe,ht,st,at,Ye)):!1}(ee,ue,Ct,me,Ce,He))}function Ke(ee){return!(!ot(ee)||function(ue){return!!N&&N in ue}(ee))&&(nt(ee)||D(ee)?V:m).test(ce(ee))}function vt(ee){return typeof ee=="function"?ee:ee==null?Or:typeof ee=="object"?Xe(ee)?function(Ce,He){return Qe(Ce)&&yt(He)?Pt(se(Ce),He):function(Re){var Fe=function(ht,st,at){var Ye=ht==null?void 0:Oe(ht,st);return Ye===void 0?at:Ye}(Re,Ce);return Fe===void 0&&Fe===He?function(ht,st){return ht!=null&&function(at,Ye,St){Ye=Qe(Ye,at)?[Ye]:rt(Ye);for(var xt,Mt=-1,zt=Ye.length;++Mt<zt;){var lr=se(Ye[Mt]);if(!(xt=at!=null&&St(at,lr)))break;at=at[lr]}return xt||!!(zt=at?at.length:0)&&tt(zt)&&Ft(lr,zt)&&(Xe(at)||Je(at))}(ht,st,ut)}(Re,Ce):Ct(He,Fe,void 0,3)}}(ee[0],ee[1]):function(Ce){var He=function(Re){for(var Fe=nr(Re),ht=Fe.length;ht--;){var st=Fe[ht],at=Re[st];Fe[ht]=[st,at,yt(at)]}return Fe}(Ce);return He.length==1&&He[0][2]?Pt(He[0][0],He[0][1]):function(Re){return Re===Ce||function(Fe,ht,st,at){var Ye=st.length,St=Ye;if(Fe==null)return!St;for(Fe=Object(Fe);Ye--;){var xt=st[Ye];if(xt[2]?xt[1]!==Fe[xt[0]]:!(xt[0]in Fe))return!1}for(;++Ye<St;){var Mt=(xt=st[Ye])[0],zt=Fe[Mt],lr=xt[1];if(xt[2]){if(zt===void 0&&!(Mt in Fe))return!1}else{var Pr=new Ve,yn;if(!(yn===void 0?Ct(lr,zt,at,3,Pr):yn))return!1}}return!0}(Re,Ce,He)}}(ee):Qe(ue=ee)?(me=se(ue),function(Ce){return Ce?.[me]}):function(Ce){return function(He){return Oe(He,Ce)}}(ue);var ue,me}function ct(ee){if(me=(ue=ee)&&ue.constructor,Ce=typeof me=="function"&&me.prototype||F,ue!==Ce)return K(ee);var ue,me,Ce,He=[];for(var Re in Object(ee))W.call(ee,Re)&&Re!="constructor"&&He.push(Re);return He}function rt(ee){return Xe(ee)?ee:it(ee)}function At(ee,ue,me,Ce,He,Re){var Fe=2&He,ht=ee.length,st=ue.length;if(ht!=st&&!(Fe&&st>ht))return!1;var at=Re.get(ee);if(at&&Re.get(ue))return at==ue;var Ye=-1,St=!0,xt=1&He?new Ie:void 0;for(Re.set(ee,ue),Re.set(ue,ee);++Ye<ht;){var Mt=ee[Ye],zt=ue[Ye];if(Ce)var lr=Fe?Ce(zt,Mt,Ye,ue,ee,Re):Ce(Mt,zt,Ye,ee,ue,Re);if(lr!==void 0){if(lr)continue;St=!1;break}if(xt){if(!G(ue,function(Pr,yn){if(!xt.has(yn)&&(Mt===Pr||me(Mt,Pr,Ce,He,Re)))return xt.add(yn)})){St=!1;break}}else if(Mt!==zt&&!me(Mt,zt,Ce,He,Re)){St=!1;break}}return Re.delete(ee),Re.delete(ue),St}function wt(ee,ue){var me,Ce,He=ee.__data__;return((Ce=typeof(me=ue))=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?me!=="__proto__":me===null)?He[typeof ue=="string"?"string":"hash"]:He.map}function Ze(ee,ue){var me=function(Ce,He){return Ce?.[He]}(ee,ue);return Ke(me)?me:void 0}var pt=function(ee){return q.call(ee)};function Ft(ee,ue){return!!(ue=ue??9007199254740991)&&(typeof ee=="number"||g.test(ee))&&ee>-1&&ee%1==0&&ee<ue}function Qe(ee,ue){if(Xe(ee))return!1;var me=typeof ee;return!(me!="number"&&me!="symbol"&&me!="boolean"&&ee!=null&&!Ot(ee))||h.test(ee)||!u.test(ee)||ue!=null&&ee in Object(ue)}function yt(ee){return ee==ee&&!ot(ee)}function Pt(ee,ue){return function(me){return me!=null&&me[ee]===ue&&(ue!==void 0||ee in Object(me))}}(Q&&pt(new Q(new ArrayBuffer(1)))!="[object DataView]"||X&&pt(new X)!=a||Z&&pt(Z.resolve())!="[object Promise]"||ne&&pt(new ne)!=c||ie&&pt(new ie)!="[object WeakMap]")&&(pt=function(ee){var ue=q.call(ee),me=ue==l?ee.constructor:void 0,Ce=me?ce(me):void 0;if(Ce)switch(Ce){case te:return"[object DataView]";case re:return a;case ae:return"[object Promise]";case oe:return c;case le:return"[object WeakMap]"}return ue});var it=qe(function(ee){var ue;ee=(ue=ee)==null?"":function(Ce){if(typeof Ce=="string")return Ce;if(Ot(Ce))return be?be.call(Ce):"";var He=Ce+"";return He=="0"&&1/Ce==-1/0?"-0":He}(ue);var me=[];return d.test(ee)&&me.push(""),ee.replace(f,function(Ce,He,Re,Fe){me.push(Re?Fe.replace(p,"$1"):He||Ce)}),me});function se(ee){if(typeof ee=="string"||Ot(ee))return ee;var ue=ee+"";return ue=="0"&&1/ee==-1/0?"-0":ue}function ce(ee){if(ee!=null){try{return j.call(ee)}catch{}try{return ee+""}catch{}}return""}var ge,ke=(ge=function(ee,ue,me){W.call(ee,me)?ee[me].push(ue):ee[me]=[ue]},function(ee,ue){var me=Xe(ee)?H:Ae,Ce={};return me(ee,ge,vt(ue),Ce)});function qe(ee,ue){if(typeof ee!="function"||ue&&typeof ue!="function")throw new TypeError("Expected a function");var me=function(){var Ce=arguments,He=ue?ue.apply(this,Ce):Ce[0],Re=me.cache;if(Re.has(He))return Re.get(He);var Fe=ee.apply(this,Ce);return me.cache=Re.set(He,Fe),Fe};return me.cache=new(qe.Cache||ve),me}function Te(ee,ue){return ee===ue||ee!=ee&&ue!=ue}function Je(ee){return function(ue){return qt(ue)&&We(ue)}(ee)&&W.call(ee,"callee")&&(!_.call(ee,"callee")||q.call(ee)==o)}qe.Cache=ve;var Xe=Array.isArray;function We(ee){return ee!=null&&tt(ee.length)&&!nt(ee)}function nt(ee){var ue=ot(ee)?q.call(ee):"";return ue=="[object Function]"||ue=="[object GeneratorFunction]"}function tt(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=9007199254740991}function ot(ee){var ue=typeof ee;return!!ee&&(ue=="object"||ue=="function")}function qt(ee){return!!ee&&typeof ee=="object"}function Ot(ee){return typeof ee=="symbol"||qt(ee)&&q.call(ee)=="[object Symbol]"}var rr=B?function(ee){return function(ue){return ee(ue)}}(B):function(ee){return qt(ee)&&tt(ee.length)&&!!w[q.call(ee)]};function nr(ee){return We(ee)?je(ee):ct(ee)}function Or(ee){return ee}n.exports=ke}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,i){var s=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(a){return!!a&&typeof a=="object"}(o)&&s.call(o)=="[object Boolean]"}},{}],445:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[a]=d["[object Number]"]=d[l]=d["[object RegExp]"]=d[c]=d["[object String]"]=d["[object WeakMap]"]=!1;var f=typeof s=="object"&&s&&s.Object===Object&&s,p=typeof self=="object"&&self&&self.Object===Object&&self,m=f||p||Function("return this")(),g=typeof i=="object"&&i&&!i.nodeType&&i,w=g&&typeof n=="object"&&n&&!n.nodeType&&n,v=w&&w.exports===g,b=v&&f.process,E=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),P=E&&E.isTypedArray;function A(se,ce){for(var ge=-1,ke=se==null?0:se.length;++ge<ke;)if(ce(se[ge],ge,se))return!0;return!1}function L(se){var ce=-1,ge=Array(se.size);return se.forEach(function(ke,qe){ge[++ce]=[qe,ke]}),ge}function T(se){var ce=-1,ge=Array(se.size);return se.forEach(function(ke){ge[++ce]=ke}),ge}var B,H,G,D=Array.prototype,k=Function.prototype,M=Object.prototype,R=m["__core-js_shared__"],y=k.toString,S=M.hasOwnProperty,C=(B=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",x=M.toString,F=RegExp("^"+y.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=v?m.Buffer:void 0,N=m.Symbol,j=m.Uint8Array,W=M.propertyIsEnumerable,q=D.splice,V=N?N.toStringTag:void 0,$=Object.getOwnPropertySymbols,I=O?O.isBuffer:void 0,_=(H=Object.keys,G=Object,function(se){return H(G(se))}),z=ut(m,"DataView"),K=ut(m,"Map"),Q=ut(m,"Promise"),X=ut(m,"Set"),Z=ut(m,"WeakMap"),ne=ut(Object,"create"),ie=ct(z),Y=ct(K),te=ct(Q),re=ct(X),ae=ct(Z),oe=N?N.prototype:void 0,le=oe?oe.valueOf:void 0;function he(se){var ce=-1,ge=se==null?0:se.length;for(this.clear();++ce<ge;){var ke=se[ce];this.set(ke[0],ke[1])}}function pe(se){var ce=-1,ge=se==null?0:se.length;for(this.clear();++ce<ge;){var ke=se[ce];this.set(ke[0],ke[1])}}function be(se){var ce=-1,ge=se==null?0:se.length;for(this.clear();++ce<ge;){var ke=se[ce];this.set(ke[0],ke[1])}}function _e(se){var ce=-1,ge=se==null?0:se.length;for(this.__data__=new be;++ce<ge;)this.add(se[ce])}function Pe(se){var ce=this.__data__=new pe(se);this.size=ce.size}function ve(se,ce){var ge=wt(se),ke=!ge&&At(se),qe=!ge&&!ke&&Ze(se),Te=!ge&&!ke&&!qe&&Pt(se),Je=ge||ke||qe||Te,Xe=Je?function(tt,ot){for(var qt=-1,Ot=Array(tt);++qt<tt;)Ot[qt]=ot(qt);return Ot}(se.length,String):[],We=Xe.length;for(var nt in se)!S.call(se,nt)||Je&&(nt=="length"||qe&&(nt=="offset"||nt=="parent")||Te&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||vt(nt,We))||Xe.push(nt);return Xe}function Ie(se,ce){for(var ge=se.length;ge--;)if(rt(se[ge][0],ce))return ge;return-1}function Ve(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":V&&V in Object(se)?function(ce){var ge=S.call(ce,V),ke=ce[V];try{ce[V]=void 0;var qe=!0}catch{}var Te=x.call(ce);return qe&&(ge?ce[V]=ke:delete ce[V]),Te}(se):function(ce){return x.call(ce)}(se)}function je(se){return yt(se)&&Ve(se)==o}function $e(se,ce,ge,ke,qe){return se===ce||(se==null||ce==null||!yt(se)&&!yt(ce)?se!=se&&ce!=ce:function(Te,Je,Xe,We,nt,tt){var ot=wt(Te),qt=wt(Je),Ot=ot?"[object Array]":Ke(Te),rr=qt?"[object Array]":Ke(Je),nr=(Ot=Ot==o?l:Ot)==l,Or=(rr=rr==o?l:rr)==l,ee=Ot==rr;if(ee&&Ze(Te)){if(!Ze(Je))return!1;ot=!0,nr=!1}if(ee&&!nr)return tt||(tt=new Pe),ot||Pt(Te)?De(Te,Je,Xe,We,nt,tt):function(Re,Fe,ht,st,at,Ye,St){switch(ht){case"[object DataView]":if(Re.byteLength!=Fe.byteLength||Re.byteOffset!=Fe.byteOffset)return!1;Re=Re.buffer,Fe=Fe.buffer;case"[object ArrayBuffer]":return!(Re.byteLength!=Fe.byteLength||!Ye(new j(Re),new j(Fe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rt(+Re,+Fe);case"[object Error]":return Re.name==Fe.name&&Re.message==Fe.message;case"[object RegExp]":case"[object String]":return Re==Fe+"";case a:var xt=L;case c:var Mt=1&st;if(xt||(xt=T),Re.size!=Fe.size&&!Mt)return!1;var zt=St.get(Re);if(zt)return zt==Fe;st|=2,St.set(Re,Fe);var lr=De(xt(Re),xt(Fe),st,at,Ye,St);return St.delete(Re),lr;case"[object Symbol]":if(le)return le.call(Re)==le.call(Fe)}return!1}(Te,Je,Ot,Xe,We,nt,tt);if(!(1&Xe)){var ue=nr&&S.call(Te,"__wrapped__"),me=Or&&S.call(Je,"__wrapped__");if(ue||me){var Ce=ue?Te.value():Te,He=me?Je.value():Je;return tt||(tt=new Pe),nt(Ce,He,Xe,We,tt)}}return ee?(tt||(tt=new Pe),function(Re,Fe,ht,st,at,Ye){var St=1&ht,xt=Ge(Re),Mt=xt.length,zt=Ge(Fe).length;if(Mt!=zt&&!St)return!1;for(var lr=Mt;lr--;){var Pr=xt[lr];if(!(St?Pr in Fe:S.call(Fe,Pr)))return!1}var yn=Ye.get(Re);if(yn&&Ye.get(Fe))return yn==Fe;var ps=!0;Ye.set(Re,Fe),Ye.set(Fe,Re);for(var ao=St;++lr<Mt;){Pr=xt[lr];var lo=Re[Pr],co=Fe[Pr];if(st)var Rt=St?st(co,lo,Pr,Fe,Re,Ye):st(lo,co,Pr,Re,Fe,Ye);if(!(Rt===void 0?lo===co||at(lo,co,ht,st,Ye):Rt)){ps=!1;break}ao||(ao=Pr=="constructor")}if(ps&&!ao){var mt=Re.constructor,ki=Fe.constructor;mt==ki||!("constructor"in Re)||!("constructor"in Fe)||typeof mt=="function"&&mt instanceof mt&&typeof ki=="function"&&ki instanceof ki||(ps=!1)}return Ye.delete(Re),Ye.delete(Fe),ps}(Te,Je,Xe,We,nt,tt)):!1}(se,ce,ge,ke,$e,qe))}function Ae(se){return!(!Qe(se)||function(ce){return!!C&&C in ce}(se))&&(pt(se)?F:u).test(ct(se))}function xe(se){if(ge=(ce=se)&&ce.constructor,ke=typeof ge=="function"&&ge.prototype||M,ce!==ke)return _(se);var ce,ge,ke,qe=[];for(var Te in Object(se))S.call(se,Te)&&Te!="constructor"&&qe.push(Te);return qe}function De(se,ce,ge,ke,qe,Te){var Je=1&ge,Xe=se.length,We=ce.length;if(Xe!=We&&!(Je&&We>Xe))return!1;var nt=Te.get(se);if(nt&&Te.get(ce))return nt==ce;var tt=-1,ot=!0,qt=2&ge?new _e:void 0;for(Te.set(se,ce),Te.set(ce,se);++tt<Xe;){var Ot=se[tt],rr=ce[tt];if(ke)var nr=Je?ke(rr,Ot,tt,ce,se,Te):ke(Ot,rr,tt,se,ce,Te);if(nr!==void 0){if(nr)continue;ot=!1;break}if(qt){if(!A(ce,function(Or,ee){if(ue=ee,!qt.has(ue)&&(Ot===Or||qe(Ot,Or,ge,ke,Te)))return qt.push(ee);var ue})){ot=!1;break}}else if(Ot!==rr&&!qe(Ot,rr,ge,ke,Te)){ot=!1;break}}return Te.delete(se),Te.delete(ce),ot}function Ge(se){return function(ce,ge,ke){var qe=ge(ce);return wt(ce)?qe:function(Te,Je){for(var Xe=-1,We=Je.length,nt=Te.length;++Xe<We;)Te[nt+Xe]=Je[Xe];return Te}(qe,ke(ce))}(se,it,Ct)}function Oe(se,ce){var ge,ke,qe=se.__data__;return((ke=typeof(ge=ce))=="string"||ke=="number"||ke=="symbol"||ke=="boolean"?ge!=="__proto__":ge===null)?qe[typeof ce=="string"?"string":"hash"]:qe.map}function ut(se,ce){var ge=function(ke,qe){return ke?.[qe]}(se,ce);return Ae(ge)?ge:void 0}he.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},he.prototype.delete=function(se){var ce=this.has(se)&&delete this.__data__[se];return this.size-=ce?1:0,ce},he.prototype.get=function(se){var ce=this.__data__;if(ne){var ge=ce[se];return ge==="__lodash_hash_undefined__"?void 0:ge}return S.call(ce,se)?ce[se]:void 0},he.prototype.has=function(se){var ce=this.__data__;return ne?ce[se]!==void 0:S.call(ce,se)},he.prototype.set=function(se,ce){var ge=this.__data__;return this.size+=this.has(se)?0:1,ge[se]=ne&&ce===void 0?"__lodash_hash_undefined__":ce,this},pe.prototype.clear=function(){this.__data__=[],this.size=0},pe.prototype.delete=function(se){var ce=this.__data__,ge=Ie(ce,se);return!(ge<0)&&(ge==ce.length-1?ce.pop():q.call(ce,ge,1),--this.size,!0)},pe.prototype.get=function(se){var ce=this.__data__,ge=Ie(ce,se);return ge<0?void 0:ce[ge][1]},pe.prototype.has=function(se){return Ie(this.__data__,se)>-1},pe.prototype.set=function(se,ce){var ge=this.__data__,ke=Ie(ge,se);return ke<0?(++this.size,ge.push([se,ce])):ge[ke][1]=ce,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(K||pe),string:new he}},be.prototype.delete=function(se){var ce=Oe(this,se).delete(se);return this.size-=ce?1:0,ce},be.prototype.get=function(se){return Oe(this,se).get(se)},be.prototype.has=function(se){return Oe(this,se).has(se)},be.prototype.set=function(se,ce){var ge=Oe(this,se),ke=ge.size;return ge.set(se,ce),this.size+=ge.size==ke?0:1,this},_e.prototype.add=_e.prototype.push=function(se){return this.__data__.set(se,"__lodash_hash_undefined__"),this},_e.prototype.has=function(se){return this.__data__.has(se)},Pe.prototype.clear=function(){this.__data__=new pe,this.size=0},Pe.prototype.delete=function(se){var ce=this.__data__,ge=ce.delete(se);return this.size=ce.size,ge},Pe.prototype.get=function(se){return this.__data__.get(se)},Pe.prototype.has=function(se){return this.__data__.has(se)},Pe.prototype.set=function(se,ce){var ge=this.__data__;if(ge instanceof pe){var ke=ge.__data__;if(!K||ke.length<199)return ke.push([se,ce]),this.size=++ge.size,this;ge=this.__data__=new be(ke)}return ge.set(se,ce),this.size=ge.size,this};var Ct=$?function(se){return se==null?[]:(se=Object(se),function(ce,ge){for(var ke=-1,qe=ce==null?0:ce.length,Te=0,Je=[];++ke<qe;){var Xe=ce[ke];ge(Xe,ke,ce)&&(Je[Te++]=Xe)}return Je}($(se),function(ce){return W.call(se,ce)}))}:function(){return[]},Ke=Ve;function vt(se,ce){return!!(ce=ce??9007199254740991)&&(typeof se=="number"||h.test(se))&&se>-1&&se%1==0&&se<ce}function ct(se){if(se!=null){try{return y.call(se)}catch{}try{return se+""}catch{}}return""}function rt(se,ce){return se===ce||se!=se&&ce!=ce}(z&&Ke(new z(new ArrayBuffer(1)))!="[object DataView]"||K&&Ke(new K)!=a||Q&&Ke(Q.resolve())!="[object Promise]"||X&&Ke(new X)!=c||Z&&Ke(new Z)!="[object WeakMap]")&&(Ke=function(se){var ce=Ve(se),ge=ce==l?se.constructor:void 0,ke=ge?ct(ge):"";if(ke)switch(ke){case ie:return"[object DataView]";case Y:return a;case te:return"[object Promise]";case re:return c;case ae:return"[object WeakMap]"}return ce});var At=je(function(){return arguments}())?je:function(se){return yt(se)&&S.call(se,"callee")&&!W.call(se,"callee")},wt=Array.isArray,Ze=I||function(){return!1};function pt(se){if(!Qe(se))return!1;var ce=Ve(se);return ce=="[object Function]"||ce=="[object GeneratorFunction]"||ce=="[object AsyncFunction]"||ce=="[object Proxy]"}function Ft(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=9007199254740991}function Qe(se){var ce=typeof se;return se!=null&&(ce=="object"||ce=="function")}function yt(se){return se!=null&&typeof se=="object"}var Pt=P?function(se){return function(ce){return se(ce)}}(P):function(se){return yt(se)&&Ft(se.length)&&!!d[Ve(se)]};function it(se){return(ce=se)!=null&&Ft(ce.length)&&!pt(ce)?ve(se):xe(se);var ce}n.exports=function(se,ce){return $e(se,ce)}}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,i){(function(s){(function(){var o=typeof s=="object"&&s&&s.Object===Object&&s,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,h=c.toString,d=l.Symbol,f=d?d.toStringTag:void 0;function p(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":f&&f in Object(m)?function(g){var w=u.call(g,f),v=g[f];try{g[f]=void 0;var b=!0}catch{}var E=h.call(g);return b&&(w?g[f]=v:delete g[f]),E}(m):function(g){return h.call(g)}(m)}n.exports=function(m){if(!function(w){var v=typeof w;return w!=null&&(v=="object"||v=="function")}(m))return!1;var g=p(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,i){n.exports=function(s){return s==null}},{}],448:[function(r,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(r,n,i){(function(s){(function(){var o=/^\[object .+?Constructor\]$/,a=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")();function u(N,j){return!!(N&&N.length)&&function(W,q,V){if(q!=q)return function(_,z,K,Q){for(var X=_.length,Z=K+-1;++Z<X;)if(z(_[Z],Z,_))return Z;return-1}(W,h,V);for(var $=V-1,I=W.length;++$<I;)if(W[$]===q)return $;return-1}(N,j,0)>-1}function h(N){return N!=N}function d(N,j){return N.has(j)}function f(N){var j=-1,W=Array(N.size);return N.forEach(function(q){W[++j]=q}),W}var p,m=Array.prototype,g=Function.prototype,w=Object.prototype,v=c["__core-js_shared__"],b=(p=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",E=g.toString,P=w.hasOwnProperty,A=w.toString,L=RegExp("^"+E.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=m.splice,B=F(c,"Map"),H=F(c,"Set"),G=F(Object,"create");function D(N){var j=-1,W=N?N.length:0;for(this.clear();++j<W;){var q=N[j];this.set(q[0],q[1])}}function k(N){var j=-1,W=N?N.length:0;for(this.clear();++j<W;){var q=N[j];this.set(q[0],q[1])}}function M(N){var j=-1,W=N?N.length:0;for(this.clear();++j<W;){var q=N[j];this.set(q[0],q[1])}}function R(N){var j=-1,W=N?N.length:0;for(this.__data__=new M;++j<W;)this.add(N[j])}function y(N,j){for(var W,q,V=N.length;V--;)if((W=N[V][0])===(q=j)||W!=W&&q!=q)return V;return-1}function S(N){return!(!O(N)||(j=N,b&&b in j))&&(function(W){var q=O(W)?A.call(W):"";return q=="[object Function]"||q=="[object GeneratorFunction]"}(N)||function(W){var q=!1;if(W!=null&&typeof W.toString!="function")try{q=!!(W+"")}catch{}return q}(N)?L:o).test(function(W){if(W!=null){try{return E.call(W)}catch{}try{return W+""}catch{}}return""}(N));var j}D.prototype.clear=function(){this.__data__=G?G(null):{}},D.prototype.delete=function(N){return this.has(N)&&delete this.__data__[N]},D.prototype.get=function(N){var j=this.__data__;if(G){var W=j[N];return W==="__lodash_hash_undefined__"?void 0:W}return P.call(j,N)?j[N]:void 0},D.prototype.has=function(N){var j=this.__data__;return G?j[N]!==void 0:P.call(j,N)},D.prototype.set=function(N,j){return this.__data__[N]=G&&j===void 0?"__lodash_hash_undefined__":j,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(N){var j=this.__data__,W=y(j,N);return!(W<0)&&(W==j.length-1?j.pop():T.call(j,W,1),!0)},k.prototype.get=function(N){var j=this.__data__,W=y(j,N);return W<0?void 0:j[W][1]},k.prototype.has=function(N){return y(this.__data__,N)>-1},k.prototype.set=function(N,j){var W=this.__data__,q=y(W,N);return q<0?W.push([N,j]):W[q][1]=j,this},M.prototype.clear=function(){this.__data__={hash:new D,map:new(B||k),string:new D}},M.prototype.delete=function(N){return x(this,N).delete(N)},M.prototype.get=function(N){return x(this,N).get(N)},M.prototype.has=function(N){return x(this,N).has(N)},M.prototype.set=function(N,j){return x(this,N).set(N,j),this},R.prototype.add=R.prototype.push=function(N){return this.__data__.set(N,"__lodash_hash_undefined__"),this},R.prototype.has=function(N){return this.__data__.has(N)};var C=H&&1/f(new H([,-0]))[1]==1/0?function(N){return new H(N)}:function(){};function x(N,j){var W,q,V=N.__data__;return((q=typeof(W=j))=="string"||q=="number"||q=="symbol"||q=="boolean"?W!=="__proto__":W===null)?V[typeof j=="string"?"string":"hash"]:V.map}function F(N,j){var W=function(q,V){return q?.[V]}(N,j);return S(W)?W:void 0}function O(N){var j=typeof N;return!!N&&(j=="object"||j=="function")}n.exports=function(N){return N&&N.length?function(j,W,q){var V=-1,$=u,I=j.length,_=!0,z=[],K=z;if(I>=200){var Q=C(j);if(Q)return f(Q);_=!1,$=d,K=new R}else K=z;e:for(;++V<I;){var X=j[V],Z=X;if(X=X!==0?X:0,_&&Z==Z){for(var ne=K.length;ne--;)if(K[ne]===Z)continue e;z.push(X)}else $(K,Z,q)||(K!==z&&K.push(Z),z.push(X))}return z}(N):[]}}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,i){var s=r("inherits"),o=r("hash-base"),a=r("safe-buffer").Buffer,l=new Array(16);function c(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(m,g){return m<<g|m>>>32-g}function h(m,g,w,v,b,E,P){return u(m+(g&w|~g&v)+b+E|0,P)+g|0}function d(m,g,w,v,b,E,P){return u(m+(g&v|w&~v)+b+E|0,P)+g|0}function f(m,g,w,v,b,E,P){return u(m+(g^w^v)+b+E|0,P)+g|0}function p(m,g,w,v,b,E,P){return u(m+(w^(g|~v))+b+E|0,P)+g|0}s(c,o),c.prototype._update=function(){for(var m=l,g=0;g<16;++g)m[g]=this._block.readInt32LE(4*g);var w=this._a,v=this._b,b=this._c,E=this._d;w=h(w,v,b,E,m[0],3614090360,7),E=h(E,w,v,b,m[1],3905402710,12),b=h(b,E,w,v,m[2],606105819,17),v=h(v,b,E,w,m[3],3250441966,22),w=h(w,v,b,E,m[4],4118548399,7),E=h(E,w,v,b,m[5],1200080426,12),b=h(b,E,w,v,m[6],2821735955,17),v=h(v,b,E,w,m[7],4249261313,22),w=h(w,v,b,E,m[8],1770035416,7),E=h(E,w,v,b,m[9],2336552879,12),b=h(b,E,w,v,m[10],4294925233,17),v=h(v,b,E,w,m[11],2304563134,22),w=h(w,v,b,E,m[12],1804603682,7),E=h(E,w,v,b,m[13],4254626195,12),b=h(b,E,w,v,m[14],2792965006,17),w=d(w,v=h(v,b,E,w,m[15],1236535329,22),b,E,m[1],4129170786,5),E=d(E,w,v,b,m[6],3225465664,9),b=d(b,E,w,v,m[11],643717713,14),v=d(v,b,E,w,m[0],3921069994,20),w=d(w,v,b,E,m[5],3593408605,5),E=d(E,w,v,b,m[10],38016083,9),b=d(b,E,w,v,m[15],3634488961,14),v=d(v,b,E,w,m[4],3889429448,20),w=d(w,v,b,E,m[9],568446438,5),E=d(E,w,v,b,m[14],3275163606,9),b=d(b,E,w,v,m[3],4107603335,14),v=d(v,b,E,w,m[8],1163531501,20),w=d(w,v,b,E,m[13],2850285829,5),E=d(E,w,v,b,m[2],4243563512,9),b=d(b,E,w,v,m[7],1735328473,14),w=f(w,v=d(v,b,E,w,m[12],2368359562,20),b,E,m[5],4294588738,4),E=f(E,w,v,b,m[8],2272392833,11),b=f(b,E,w,v,m[11],1839030562,16),v=f(v,b,E,w,m[14],4259657740,23),w=f(w,v,b,E,m[1],2763975236,4),E=f(E,w,v,b,m[4],1272893353,11),b=f(b,E,w,v,m[7],4139469664,16),v=f(v,b,E,w,m[10],3200236656,23),w=f(w,v,b,E,m[13],681279174,4),E=f(E,w,v,b,m[0],3936430074,11),b=f(b,E,w,v,m[3],3572445317,16),v=f(v,b,E,w,m[6],76029189,23),w=f(w,v,b,E,m[9],3654602809,4),E=f(E,w,v,b,m[12],3873151461,11),b=f(b,E,w,v,m[15],530742520,16),w=p(w,v=f(v,b,E,w,m[2],3299628645,23),b,E,m[0],4096336452,6),E=p(E,w,v,b,m[7],1126891415,10),b=p(b,E,w,v,m[14],2878612391,15),v=p(v,b,E,w,m[5],4237533241,21),w=p(w,v,b,E,m[12],1700485571,6),E=p(E,w,v,b,m[3],2399980690,10),b=p(b,E,w,v,m[10],4293915773,15),v=p(v,b,E,w,m[1],2240044497,21),w=p(w,v,b,E,m[8],1873313359,6),E=p(E,w,v,b,m[15],4264355552,10),b=p(b,E,w,v,m[6],2734768916,15),v=p(v,b,E,w,m[13],1309151649,21),w=p(w,v,b,E,m[4],4149444226,6),E=p(E,w,v,b,m[11],3174756917,10),b=p(b,E,w,v,m[2],718787259,15),v=p(v,b,E,w,m[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+v|0,this._c=this._c+b|0,this._d=this._d+E|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var m=a.allocUnsafe(16);return m.writeInt32LE(this._a,0),m.writeInt32LE(this._b,4),m.writeInt32LE(this._c,8),m.writeInt32LE(this._d,12),m},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,i){var s=r("bn.js"),o=r("brorand");function a(l){this.rand=l||new o.Rand}n.exports=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var c=l.bitLength(),u=Math.ceil(c/8);do var h=new s(this.rand.generate(u));while(h.cmp(l)>=0);return h},a.prototype._randrange=function(l,c){var u=c.sub(l);return l.add(this._randbelow(u))},a.prototype.test=function(l,c,u){var h=l.bitLength(),d=s.mont(l),f=new s(1).toRed(d);c||(c=Math.max(1,h/48|0));for(var p=l.subn(1),m=0;!p.testn(m);m++);for(var g=l.shrn(m),w=p.toRed(d);c>0;c--){var v=this._randrange(new s(2),p);u&&u(v);var b=v.toRed(d).redPow(g);if(b.cmp(f)!==0&&b.cmp(w)!==0){for(var E=1;E<m;E++){if((b=b.redSqr()).cmp(f)===0)return!1;if(b.cmp(w)===0)break}if(E===m)return!1}}return!0},a.prototype.getDivisor=function(l,c){var u=l.bitLength(),h=s.mont(l),d=new s(1).toRed(h);c||(c=Math.max(1,u/48|0));for(var f=l.subn(1),p=0;!f.testn(p);p++);for(var m=l.shrn(p),g=f.toRed(h);c>0;c--){var w=this._randrange(new s(2),f),v=l.gcd(w);if(v.cmpn(1)!==0)return v;var b=w.toRed(h).redPow(m);if(b.cmp(d)!==0&&b.cmp(g)!==0){for(var E=1;E<p;E++){if((b=b.redSqr()).cmp(d)===0)return b.fromRed().subn(1).gcd(l);if(b.cmp(g)===0)break}if(E===p)return(b=b.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(r,n,i){function s(o,a){if(!o)throw new Error(a||"Assertion failed")}n.exports=s,s.equal=function(o,a,l){if(o!=a)throw new Error(l||"Assertion failed: "+o+" != "+a)}},{}],454:[function(r,n,i){var s=i;function o(l){return l.length===1?"0"+l:l}function a(l){for(var c="",u=0;u<l.length;u++)c+=o(l[u].toString(16));return c}s.toArray=function(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var h=0;h<l.length;h++)u[h]=0|l[h];return u}if(c==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),h=0;h<l.length;h+=2)u.push(parseInt(l[h]+l[h+1],16));else for(h=0;h<l.length;h++){var d=l.charCodeAt(h),f=d>>8,p=255&d;f?u.push(f,p):u.push(p)}return u},s.zero2=o,s.toHex=a,s.encode=function(l,c){return c==="hex"?a(l):l}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var s=r("asn1.js");i.certificate=r("./certificate");var o=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var a=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=a;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var c=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var h=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=h;var d=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=d,i.DSAparam=s.define("DSAparam",function(){this.int()});var f=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=f;var p=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,n,i){var s=r("asn1.js"),o=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(a)}),h=s.define("RDNSequence",function(){this.seqof(u)}),d=s.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),f=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),p=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),m=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(d),this.key("validity").use(f),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),g=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(m),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=g},{"asn1.js":170}],458:[function(r,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),c=r("browserify-aes"),u=r("safe-buffer").Buffer;n.exports=function(h,d){var f,p=h.toString(),m=p.match(s);if(m){var g="aes"+m[1],w=u.from(m[2],"hex"),v=u.from(m[3].replace(/[\r\n]/g,""),"base64"),b=l(d,w.slice(0,8),parseInt(m[1],10)).key,E=[],P=c.createDecipheriv(g,b,w);E.push(P.update(v)),E.push(P.final()),f=u.concat(E)}else{var A=p.match(a);f=u.from(A[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(o)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,i){var s=r("./asn1"),o=r("./aesid.json"),a=r("./fixProc"),l=r("browserify-aes"),c=r("pbkdf2"),u=r("safe-buffer").Buffer;function h(d){var f;typeof d!="object"||u.isBuffer(d)||(f=d.passphrase,d=d.key),typeof d=="string"&&(d=u.from(d));var p,m,g=a(d,f),w=g.tag,v=g.data;switch(w){case"CERTIFICATE":m=s.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(m||(m=s.PublicKey.decode(v,"der")),p=m.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(m.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return m.subjectPrivateKey=m.subjectPublicKey,{type:"ec",data:m};case"1.2.840.10040.4.1":return m.algorithm.params.pub_key=s.DSAparam.decode(m.subjectPublicKey.data,"der"),{type:"dsa",data:m.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":v=function(b,E){var P=b.algorithm.decrypt.kde.kdeparams.salt,A=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=o[b.algorithm.decrypt.cipher.algo.join(".")],T=b.algorithm.decrypt.cipher.iv,B=b.subjectPrivateKey,H=parseInt(L.split("-")[1],10)/8,G=c.pbkdf2Sync(E,P,A,H,"sha1"),D=l.createDecipheriv(L,G,T),k=[];return k.push(D.update(B)),k.push(D.final()),u.concat(k)}(v=s.EncryptedPrivateKey.decode(v,"der"),f);case"PRIVATE KEY":switch(p=(m=s.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(m.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:m.algorithm.curve,privateKey:s.ECPrivateKey.decode(m.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return m.algorithm.params.priv_key=s.DSAparam.decode(m.subjectPrivateKey,"der"),{type:"dsa",params:m.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=s.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+w)}}n.exports=h,h.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(s){(function(){var o,a,l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),h=r("./sync"),d=r("./to-buffer"),f=s.crypto&&s.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function g(){return a||(a=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function w(v,b,E,P,A){return f.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return f.deriveBits({name:"PBKDF2",salt:b,iterations:E,hash:{name:A}},L,P<<3)}).then(function(L){return l.from(L)})}n.exports=function(v,b,E,P,A,L){typeof A=="function"&&(L=A,A=void 0);var T=p[(A=A||"sha1").toLowerCase()];if(T&&typeof s.Promise=="function"){if(c(E,P),v=d(v,u,"Password"),b=d(b,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(B,H){B.then(function(G){g()(function(){H(null,G)})},function(G){g()(function(){H(G)})})})(function(B){if(s.process&&!s.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(m[B]!==void 0)return m[B];var H=w(o=o||l.alloc(8),o,10,128,B).then(function(){return!0}).catch(function(){return!1});return m[B]=H,H}(T).then(function(B){return B?w(v,b,E,P,T):h(v,b,E,P,A)}),L)}else g()(function(){var B;try{B=h(v,b,E,P,A)}catch(H){return L(H)}L(null,B)})}}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,i){(function(s,o){(function(){var a;o.process&&o.process.browser?a="utf-8":o.process&&o.process.version?a=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",n.exports=a}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,i){var s=Math.pow(2,30)-1;n.exports=function(o,a){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>s||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var s=r("create-hash/md5"),o=r("ripemd160"),a=r("sha.js"),l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),h=r("./to-buffer"),d=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(m,g,w){var v=function(T){function B(H){return a(T).update(H).digest()}return T==="rmd160"||T==="ripemd160"?function(H){return new o().update(H).digest()}:T==="md5"?s:B}(m),b=m==="sha512"||m==="sha384"?128:64;g.length>b?g=v(g):g.length<b&&(g=l.concat([g,d],b));for(var E=l.allocUnsafe(b+f[m]),P=l.allocUnsafe(b+f[m]),A=0;A<b;A++)E[A]=54^g[A],P[A]=92^g[A];var L=l.allocUnsafe(b+w+4);E.copy(L,0,0,b),this.ipad1=L,this.ipad2=E,this.opad=P,this.alg=m,this.blocksize=b,this.hash=v,this.size=f[m]}p.prototype.run=function(m,g){return m.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(m,g,w,v,b){c(w,v);var E=new p(b=b||"sha1",m=h(m,u,"Password"),(g=h(g,u,"Salt")).length),P=l.allocUnsafe(v),A=l.allocUnsafe(g.length+4);g.copy(A,0,0,g.length);for(var L=0,T=f[b],B=Math.ceil(v/T),H=1;H<=B;H++){A.writeUInt32BE(H,g.length);for(var G=E.run(A,E.ipad1),D=G,k=1;k<w;k++){D=E.run(D,E.ipad2);for(var M=0;M<T;M++)G[M]^=D[M]}G.copy(P,L),L+=T}return P}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,i){var s=r("safe-buffer").Buffer;n.exports=function(o,a,l){if(s.isBuffer(o))return o;if(typeof o=="string")return s.from(o,a);if(ArrayBuffer.isView(o))return s.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,a,l,c){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,h,d=arguments.length;switch(d){case 0:case 1:return s.nextTick(o);case 2:return s.nextTick(function(){o.call(null,a)});case 3:return s.nextTick(function(){o.call(null,a,l)});case 4:return s.nextTick(function(){o.call(null,a,l,c)});default:for(u=new Array(d-1),h=0;h<u.length;)u[h++]=arguments[h];return s.nextTick(function(){o.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var s,o,a=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(b){if(s===setTimeout)return setTimeout(b,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{o=typeof clearTimeout=="function"?clearTimeout:c}catch{o=c}})();var h,d=[],f=!1,p=-1;function m(){f&&h&&(f=!1,h.length?d=h.concat(d):p=-1,d.length&&g())}function g(){if(!f){var b=u(m);f=!0;for(var E=d.length;E;){for(h=d,d=[];++p<E;)h&&h[p].run();p=-1,E=d.length}h=null,f=!1,function(P){if(o===clearTimeout)return clearTimeout(P);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(P);try{o(P)}catch{try{return o.call(null,P)}catch{return o.call(this,P)}}}(b)}}function w(b,E){this.fun=b,this.array=E}function v(){}a.nextTick=function(b){var E=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)E[P-1]=arguments[P];d.push(new w(b,E)),d.length!==1||f||u(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(b){return[]},a.binding=function(b){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(b){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(s,o){return i.publicEncrypt(s,o,!0)},i.publicDecrypt=function(s,o){return i.privateDecrypt(s,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var s=r("create-hash"),o=r("safe-buffer").Buffer;function a(l){var c=o.allocUnsafe(4);return c.writeUInt32BE(l,0),c}n.exports=function(l,c){for(var u,h=o.alloc(0),d=0;h.length<c;)u=a(d++),h=o.concat([h,s("sha1").update(l).update(u).digest()]);return h.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(r,n,i){var s=r("parse-asn1"),o=r("./mgf"),a=r("./xor"),l=r("bn.js"),c=r("browserify-rsa"),u=r("create-hash"),h=r("./withPublic"),d=r("safe-buffer").Buffer;n.exports=function(f,p,m){var g;g=f.padding?f.padding:m?1:4;var w,v=s(f),b=v.modulus.byteLength();if(p.length>b||new l(p).cmp(v.modulus)>=0)throw new Error("decryption error");w=m?h(new l(p),v):c(p,v);var E=d.alloc(b-w.length);if(w=d.concat([E,w],b),g===4)return function(P,A){var L=P.modulus.byteLength(),T=u("sha1").update(d.alloc(0)).digest(),B=T.length;if(A[0]!==0)throw new Error("decryption error");var H=A.slice(1,B+1),G=A.slice(B+1),D=a(H,o(G,B)),k=a(G,o(D,L-B-1));if(function(R,y){R=d.from(R),y=d.from(y);var S=0,C=R.length;R.length!==y.length&&(S++,C=Math.min(R.length,y.length));for(var x=-1;++x<C;)S+=R[x]^y[x];return S}(T,k.slice(0,B)))throw new Error("decryption error");for(var M=B;k[M]===0;)M++;if(k[M++]!==1)throw new Error("decryption error");return k.slice(M)}(v,w);if(g===1)return function(P,A,L){for(var T=A.slice(0,2),B=2,H=0;A[B++]!==0;)if(B>=A.length){H++;break}var G=A.slice(2,B-1);if((T.toString("hex")!=="0002"&&!L||T.toString("hex")!=="0001"&&L)&&H++,G.length<8&&H++,H)throw new Error("decryption error");return A.slice(B)}(0,w,m);if(g===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var s=r("parse-asn1"),o=r("randombytes"),a=r("create-hash"),l=r("./mgf"),c=r("./xor"),u=r("bn.js"),h=r("./withPublic"),d=r("browserify-rsa"),f=r("safe-buffer").Buffer;n.exports=function(p,m,g){var w;w=p.padding?p.padding:g?1:4;var v,b=s(p);if(w===4)v=function(E,P){var A=E.modulus.byteLength(),L=P.length,T=a("sha1").update(f.alloc(0)).digest(),B=T.length,H=2*B;if(L>A-H-2)throw new Error("message too long");var G=f.alloc(A-L-H-2),D=A-B-1,k=o(B),M=c(f.concat([T,G,f.alloc(1,1),P],D),l(k,D)),R=c(k,l(M,B));return new u(f.concat([f.alloc(1),R,M],A))}(b,m);else if(w===1)v=function(E,P,A){var L,T=P.length,B=E.modulus.byteLength();if(T>B-11)throw new Error("message too long");return L=A?f.alloc(B-T-3,255):function(H){for(var G,D=f.allocUnsafe(H),k=0,M=o(2*H),R=0;k<H;)R===M.length&&(M=o(2*H),R=0),(G=M[R++])&&(D[k++]=G);return D}(B-T-3),new u(f.concat([f.from([0,A?1:2]),L,f.alloc(1),P],B))}(b,m,g);else{if(w!==3)throw new Error("unknown padding");if((v=new u(m)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return g?d(v,b):h(v,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var s=r("bn.js"),o=r("safe-buffer").Buffer;n.exports=function(a,l){return o.from(a.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(s,o){for(var a=s.length,l=-1;++l<a;)s[l]^=o[l];return s}},{}],475:[function(r,n,i){(function(s,o){(function(){var a=r("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(c,u){if(c>4294967295)throw new RangeError("requested too many random bytes");var h=a.allocUnsafe(c);if(c>0)if(c>65536)for(var d=0;d<c;d+=65536)l.getRandomValues(h.slice(d,d+65536));else l.getRandomValues(h);return typeof u=="function"?s.nextTick(function(){u(null,h)}):h}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(s,o){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),c=r("randombytes"),u=l.Buffer,h=l.kMaxLength,d=o.crypto||o.msCrypto,f=Math.pow(2,32)-1;function p(w,v){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>f||w<0)throw new TypeError("offset must be a uint32");if(w>h||w>v)throw new RangeError("offset out of range")}function m(w,v,b){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>f||w<0)throw new TypeError("size must be a uint32");if(w+v>b||w>h)throw new RangeError("buffer too small")}function g(w,v,b,E){if(s.browser){var P=w.buffer,A=new Uint8Array(P,v,b);return d.getRandomValues(A),E?void s.nextTick(function(){E(null,w)}):w}if(!E)return c(b).copy(w,v),w;c(b,function(L,T){if(L)return E(L);T.copy(w,v),E(null,w)})}d&&d.getRandomValues||!s.browser?(i.randomFill=function(w,v,b,E){if(!(u.isBuffer(w)||w instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")E=v,v=0,b=w.length;else if(typeof b=="function")E=b,b=w.length-v;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return p(v,w.length),m(b,v,w.length),g(w,v,b,E)},i.randomFillSync=function(w,v,b){if(v===void 0&&(v=0),!(u.isBuffer(w)||w instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(v,w.length),b===void 0&&(b=w.length-v),m(b,v,w.length),g(w,v,b)}):(i.randomFill=a,i.randomFillSync=a)}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){var s={};function o(l,c,u){u||(u=Error);var h=function(d){var f,p;function m(g,w,v){return d.call(this,function(b,E,P){return typeof c=="string"?c:c(b,E,P)}(g,w,v))||this}return p=d,(f=m).prototype=Object.create(p.prototype),f.prototype.constructor=f,f.__proto__=p,m}(u);h.prototype.name=u.name,h.prototype.code=l,s[l]=h}function a(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(h){return String(h)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}return"of ".concat(c," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,c,u){var h,d,f;if(typeof c=="string"&&(d="not ",c.substr(0,d.length)===d)?(h="must not be",c=c.replace(/^not /,"")):h="must be",function(m,g,w){return(w===void 0||w>m.length)&&(w=m.length),m.substring(w-g.length,w)===g}(l," argument"))f="The ".concat(l," ").concat(h," ").concat(a(c,"type"));else{var p=function(m,g,w){return typeof w!="number"&&(w=0),!(w+g.length>m.length)&&m.indexOf(g,w)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(p," ").concat(h," ").concat(a(c,"type"))}return f+=". Received type ".concat(typeof u)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(r,n,i){(function(s){(function(){var o=Object.keys||function(m){var g=[];for(var w in m)g.push(w);return g};n.exports=d;var a=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(d,a);for(var c=o(l.prototype),u=0;u<c.length;u++){var h=c[u];d.prototype[h]||(d.prototype[h]=l.prototype[h])}function d(m){if(!(this instanceof d))return new d(m);a.call(this,m),l.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||s.nextTick(p,this)}function p(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,i){n.exports=o;var s=r("./_stream_transform");function o(a){if(!(this instanceof o))return new o(a);s.call(this,a)}r("inherits")(o,s),o.prototype._transform=function(a,l,c){c(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,i){(function(s,o){(function(){var a;n.exports=D,D.ReadableState=G,r("events").EventEmitter;var l=function(I,_){return I.listeners(_).length},c=r("./internal/streams/stream"),u=r("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=r("util");d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m,g,w=r("./internal/streams/buffer_list"),v=r("./internal/streams/destroy"),b=r("./internal/streams/state").getHighWaterMark,E=r("../errors").codes,P=E.ERR_INVALID_ARG_TYPE,A=E.ERR_STREAM_PUSH_AFTER_EOF,L=E.ERR_METHOD_NOT_IMPLEMENTED,T=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(D,c);var B=v.errorOrDestroy,H=["error","close","destroy","pause","resume"];function G(I,_,z){a=a||r("./_stream_duplex"),I=I||{},typeof z!="boolean"&&(z=_ instanceof a),this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=b(this,I,"readableHighWaterMark",z),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(p||(p=r("string_decoder/").StringDecoder),this.decoder=new p(I.encoding),this.encoding=I.encoding)}function D(I){if(a=a||r("./_stream_duplex"),!(this instanceof D))return new D(I);var _=this instanceof a;this._readableState=new G(I,this,_),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),c.call(this)}function k(I,_,z,K,Q){d("readableAddChunk",_);var X,Z=I._readableState;if(_===null)Z.reading=!1,function(ne,ie){if(d("onEofChunk"),!ie.ended){if(ie.decoder){var Y=ie.decoder.end();Y&&Y.length&&(ie.buffer.push(Y),ie.length+=ie.objectMode?1:Y.length)}ie.ended=!0,ie.sync?y(ne):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,S(ne)))}}(I,Z);else if(Q||(X=function(ne,ie){var Y;te=ie,u.isBuffer(te)||te instanceof h||typeof ie=="string"||ie===void 0||ne.objectMode||(Y=new P("chunk",["string","Buffer","Uint8Array"],ie));var te;return Y}(Z,_)),X)B(I,X);else if(Z.objectMode||_&&_.length>0)if(typeof _=="string"||Z.objectMode||Object.getPrototypeOf(_)===u.prototype||(_=function(ne){return u.from(ne)}(_)),K)Z.endEmitted?B(I,new T):M(I,Z,_,!0);else if(Z.ended)B(I,new A);else{if(Z.destroyed)return!1;Z.reading=!1,Z.decoder&&!z?(_=Z.decoder.write(_),Z.objectMode||_.length!==0?M(I,Z,_,!1):C(I,Z)):M(I,Z,_,!1)}else K||(Z.reading=!1,C(I,Z));return!Z.ended&&(Z.length<Z.highWaterMark||Z.length===0)}function M(I,_,z,K){_.flowing&&_.length===0&&!_.sync?(_.awaitDrain=0,I.emit("data",z)):(_.length+=_.objectMode?1:z.length,K?_.buffer.unshift(z):_.buffer.push(z),_.needReadable&&y(I)),C(I,_)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),D.prototype.destroy=v.destroy,D.prototype._undestroy=v.undestroy,D.prototype._destroy=function(I,_){_(I)},D.prototype.push=function(I,_){var z,K=this._readableState;return K.objectMode?z=!0:typeof I=="string"&&((_=_||K.defaultEncoding)!==K.encoding&&(I=u.from(I,_),_=""),z=!0),k(this,I,_,!1,z)},D.prototype.unshift=function(I){return k(this,I,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(I){p||(p=r("string_decoder/").StringDecoder);var _=new p(I);this._readableState.decoder=_,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,K="";z!==null;)K+=_.write(z.data),z=z.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};function R(I,_){return I<=0||_.length===0&&_.ended?0:_.objectMode?1:I!=I?_.flowing&&_.length?_.buffer.head.data.length:_.length:(I>_.highWaterMark&&(_.highWaterMark=function(z){return z>=1073741824?z=1073741824:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(I)),I<=_.length?I:_.ended?_.length:(_.needReadable=!0,0))}function y(I){var _=I._readableState;d("emitReadable",_.needReadable,_.emittedReadable),_.needReadable=!1,_.emittedReadable||(d("emitReadable",_.flowing),_.emittedReadable=!0,s.nextTick(S,I))}function S(I){var _=I._readableState;d("emitReadable_",_.destroyed,_.length,_.ended),_.destroyed||!_.length&&!_.ended||(I.emit("readable"),_.emittedReadable=!1),_.needReadable=!_.flowing&&!_.ended&&_.length<=_.highWaterMark,j(I)}function C(I,_){_.readingMore||(_.readingMore=!0,s.nextTick(x,I,_))}function x(I,_){for(;!_.reading&&!_.ended&&(_.length<_.highWaterMark||_.flowing&&_.length===0);){var z=_.length;if(d("maybeReadMore read 0"),I.read(0),z===_.length)break}_.readingMore=!1}function F(I){var _=I._readableState;_.readableListening=I.listenerCount("readable")>0,_.resumeScheduled&&!_.paused?_.flowing=!0:I.listenerCount("data")>0&&I.resume()}function O(I){d("readable nexttick read 0"),I.read(0)}function N(I,_){d("resume",_.reading),_.reading||I.read(0),_.resumeScheduled=!1,I.emit("resume"),j(I),_.flowing&&!_.reading&&I.read(0)}function j(I){var _=I._readableState;for(d("flow",_.flowing);_.flowing&&I.read()!==null;);}function W(I,_){return _.length===0?null:(_.objectMode?z=_.buffer.shift():!I||I>=_.length?(z=_.decoder?_.buffer.join(""):_.buffer.length===1?_.buffer.first():_.buffer.concat(_.length),_.buffer.clear()):z=_.buffer.consume(I,_.decoder),z);var z}function q(I){var _=I._readableState;d("endReadable",_.endEmitted),_.endEmitted||(_.ended=!0,s.nextTick(V,_,I))}function V(I,_){if(d("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,_.readable=!1,_.emit("end"),I.autoDestroy)){var z=_._writableState;(!z||z.autoDestroy&&z.finished)&&_.destroy()}}function $(I,_){for(var z=0,K=I.length;z<K;z++)if(I[z]===_)return z;return-1}D.prototype.read=function(I){d("read",I),I=parseInt(I,10);var _=this._readableState,z=I;if(I!==0&&(_.emittedReadable=!1),I===0&&_.needReadable&&((_.highWaterMark!==0?_.length>=_.highWaterMark:_.length>0)||_.ended))return d("read: emitReadable",_.length,_.ended),_.length===0&&_.ended?q(this):y(this),null;if((I=R(I,_))===0&&_.ended)return _.length===0&&q(this),null;var K,Q=_.needReadable;return d("need readable",Q),(_.length===0||_.length-I<_.highWaterMark)&&d("length less than watermark",Q=!0),_.ended||_.reading?d("reading or ended",Q=!1):Q&&(d("do read"),_.reading=!0,_.sync=!0,_.length===0&&(_.needReadable=!0),this._read(_.highWaterMark),_.sync=!1,_.reading||(I=R(z,_))),(K=I>0?W(I,_):null)===null?(_.needReadable=_.length<=_.highWaterMark,I=0):(_.length-=I,_.awaitDrain=0),_.length===0&&(_.ended||(_.needReadable=!0),z!==I&&_.ended&&q(this)),K!==null&&this.emit("data",K),K},D.prototype._read=function(I){B(this,new L("_read()"))},D.prototype.pipe=function(I,_){var z=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=I;break;case 1:K.pipes=[K.pipes,I];break;default:K.pipes.push(I)}K.pipesCount+=1,d("pipe count=%d opts=%j",K.pipesCount,_);var Q=(!_||_.end!==!1)&&I!==s.stdout&&I!==s.stderr?Z:oe;function X(le,he){d("onunpipe"),le===z&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,d("cleanup"),I.removeListener("close",re),I.removeListener("finish",ae),I.removeListener("drain",ne),I.removeListener("error",te),I.removeListener("unpipe",X),z.removeListener("end",Z),z.removeListener("end",oe),z.removeListener("data",Y),ie=!0,!K.awaitDrain||I._writableState&&!I._writableState.needDrain||ne())}function Z(){d("onend"),I.end()}K.endEmitted?s.nextTick(Q):z.once("end",Q),I.on("unpipe",X);var ne=function(le){return function(){var he=le._readableState;d("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&l(le,"data")&&(he.flowing=!0,j(le))}}(z);I.on("drain",ne);var ie=!1;function Y(le){d("ondata");var he=I.write(le);d("dest.write",he),he===!1&&((K.pipesCount===1&&K.pipes===I||K.pipesCount>1&&$(K.pipes,I)!==-1)&&!ie&&(d("false write response, pause",K.awaitDrain),K.awaitDrain++),z.pause())}function te(le){d("onerror",le),oe(),I.removeListener("error",te),l(I,"error")===0&&B(I,le)}function re(){I.removeListener("finish",ae),oe()}function ae(){d("onfinish"),I.removeListener("close",re),oe()}function oe(){d("unpipe"),z.unpipe(I)}return z.on("data",Y),function(le,he,pe){if(typeof le.prependListener=="function")return le.prependListener(he,pe);le._events&&le._events[he]?Array.isArray(le._events[he])?le._events[he].unshift(pe):le._events[he]=[pe,le._events[he]]:le.on(he,pe)}(I,"error",te),I.once("close",re),I.once("finish",ae),I.emit("pipe",z),K.flowing||(d("pipe resume"),z.resume()),I},D.prototype.unpipe=function(I){var _=this._readableState,z={hasUnpiped:!1};if(_.pipesCount===0)return this;if(_.pipesCount===1)return I&&I!==_.pipes||(I||(I=_.pipes),_.pipes=null,_.pipesCount=0,_.flowing=!1,I&&I.emit("unpipe",this,z)),this;if(!I){var K=_.pipes,Q=_.pipesCount;_.pipes=null,_.pipesCount=0,_.flowing=!1;for(var X=0;X<Q;X++)K[X].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=$(_.pipes,I);return Z===-1||(_.pipes.splice(Z,1),_.pipesCount-=1,_.pipesCount===1&&(_.pipes=_.pipes[0]),I.emit("unpipe",this,z)),this},D.prototype.on=function(I,_){var z=c.prototype.on.call(this,I,_),K=this._readableState;return I==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):I==="readable"&&(K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,d("on readable",K.length,K.reading),K.length?y(this):K.reading||s.nextTick(O,this))),z},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(I,_){var z=c.prototype.removeListener.call(this,I,_);return I==="readable"&&s.nextTick(F,this),z},D.prototype.removeAllListeners=function(I){var _=c.prototype.removeAllListeners.apply(this,arguments);return I!=="readable"&&I!==void 0||s.nextTick(F,this),_},D.prototype.resume=function(){var I=this._readableState;return I.flowing||(d("resume"),I.flowing=!I.readableListening,function(_,z){z.resumeScheduled||(z.resumeScheduled=!0,s.nextTick(N,_,z))}(this,I)),I.paused=!1,this},D.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(I){var _=this,z=this._readableState,K=!1;for(var Q in I.on("end",function(){if(d("wrapped end"),z.decoder&&!z.ended){var Z=z.decoder.end();Z&&Z.length&&_.push(Z)}_.push(null)}),I.on("data",function(Z){d("wrapped data"),z.decoder&&(Z=z.decoder.write(Z)),z.objectMode&&Z==null||(z.objectMode||Z&&Z.length)&&(_.push(Z)||(K=!0,I.pause()))}),I)this[Q]===void 0&&typeof I[Q]=="function"&&(this[Q]=function(Z){return function(){return I[Z].apply(I,arguments)}}(Q));for(var X=0;X<H.length;X++)I.on(H[X],this.emit.bind(this,H[X]));return this._read=function(Z){d("wrapped _read",Z),K&&(K=!1,I.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=r("./internal/streams/async_iterator")),m(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),D._fromList=W,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(D.from=function(I,_){return g===void 0&&(g=r("./internal/streams/from")),g(D,I,_)})}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,i){n.exports=d;var s=r("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,a=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=s.ERR_TRANSFORM_WITH_LENGTH_0,u=r("./_stream_duplex");function h(m,g){var w=this._transformState;w.transforming=!1;var v=w.writecb;if(v===null)return this.emit("error",new a);w.writechunk=null,w.writecb=null,g!=null&&this.push(g),v(m);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function d(m){if(!(this instanceof d))return new d(m);u.call(this,m),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",f)}function f(){var m=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(g,w){p(m,g,w)})}function p(m,g,w){if(g)return m.emit("error",g);if(w!=null&&m.push(w),m._writableState.length)throw new c;if(m._transformState.transforming)throw new l;return m.push(null)}r("inherits")(d,u),d.prototype.push=function(m,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,m,g)},d.prototype._transform=function(m,g,w){w(new o("_transform()"))},d.prototype._write=function(m,g,w){var v=this._transformState;if(v.writecb=w,v.writechunk=m,v.writeencoding=g,!v.transforming){var b=this._readableState;(v.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},d.prototype._read=function(m){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},d.prototype._destroy=function(m,g){u.prototype._destroy.call(this,m,function(w){g(w)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,i){(function(s,o){(function(){function a(x){var F=this;this.next=null,this.entry=null,this.finish=function(){(function(O,N,j){var W=O.entry;for(O.entry=null;W;){var q=W.callback;N.pendingcb--,q(j),W=W.next}N.corkedRequestsFree.next=O})(F,x)}}var l;n.exports=D,D.WritableState=G;var c={deprecate:r("util-deprecate")},u=r("./internal/streams/stream"),h=r("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,p=r("./internal/streams/destroy"),m=r("./internal/streams/state").getHighWaterMark,g=r("../errors").codes,w=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_MULTIPLE_CALLBACK,E=g.ERR_STREAM_CANNOT_PIPE,P=g.ERR_STREAM_DESTROYED,A=g.ERR_STREAM_NULL_VALUES,L=g.ERR_STREAM_WRITE_AFTER_END,T=g.ERR_UNKNOWN_ENCODING,B=p.errorOrDestroy;function H(){}function G(x,F,O){l=l||r("./_stream_duplex"),x=x||{},typeof O!="boolean"&&(O=F instanceof l),this.objectMode=!!x.objectMode,O&&(this.objectMode=this.objectMode||!!x.writableObjectMode),this.highWaterMark=m(this,x,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=x.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(W,q){var V=W._writableState,$=V.sync,I=V.writecb;if(typeof I!="function")throw new b;if(function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}(V),q)(function(z,K,Q,X,Z){--K.pendingcb,Q?(s.nextTick(Z,X),s.nextTick(C,z,K),z._writableState.errorEmitted=!0,B(z,X)):(Z(X),z._writableState.errorEmitted=!0,B(z,X),C(z,K))})(W,V,$,q,I);else{var _=y(V)||W.destroyed;_||V.corked||V.bufferProcessing||!V.bufferedRequest||R(W,V),$?s.nextTick(M,W,V,_,I):M(W,V,_,I)}})(F,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function D(x){var F=this instanceof(l=l||r("./_stream_duplex"));if(!F&&!f.call(D,this))return new D(x);this._writableState=new G(x,this,F),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),u.call(this)}function k(x,F,O,N,j,W,q){F.writelen=N,F.writecb=q,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new P("write")):O?x._writev(j,F.onwrite):x._write(j,W,F.onwrite),F.sync=!1}function M(x,F,O,N){O||function(j,W){W.length===0&&W.needDrain&&(W.needDrain=!1,j.emit("drain"))}(x,F),F.pendingcb--,N(),C(x,F)}function R(x,F){F.bufferProcessing=!0;var O=F.bufferedRequest;if(x._writev&&O&&O.next){var N=F.bufferedRequestCount,j=new Array(N),W=F.corkedRequestsFree;W.entry=O;for(var q=0,V=!0;O;)j[q]=O,O.isBuf||(V=!1),O=O.next,q+=1;j.allBuffers=V,k(x,F,!0,F.length,j,"",W.finish),F.pendingcb++,F.lastBufferedRequest=null,W.next?(F.corkedRequestsFree=W.next,W.next=null):F.corkedRequestsFree=new a(F),F.bufferedRequestCount=0}else{for(;O;){var $=O.chunk,I=O.encoding,_=O.callback;if(k(x,F,!1,F.objectMode?1:$.length,$,I,_),O=O.next,F.bufferedRequestCount--,F.writing)break}O===null&&(F.lastBufferedRequest=null)}F.bufferedRequest=O,F.bufferProcessing=!1}function y(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function S(x,F){x._final(function(O){F.pendingcb--,O&&B(x,O),F.prefinished=!0,x.emit("prefinish"),C(x,F)})}function C(x,F){var O=y(F);if(O&&(function(j,W){W.prefinished||W.finalCalled||(typeof j._final!="function"||W.destroyed?(W.prefinished=!0,j.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,s.nextTick(S,j,W)))}(x,F),F.pendingcb===0&&(F.finished=!0,x.emit("finish"),F.autoDestroy))){var N=x._readableState;(!N||N.autoDestroy&&N.endEmitted)&&x.destroy()}return O}r("inherits")(D,u),G.prototype.getBuffer=function(){for(var x=this.bufferedRequest,F=[];x;)F.push(x),x=x.next;return F},function(){try{Object.defineProperty(G.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(x){return!!f.call(this,x)||this===D&&x&&x._writableState instanceof G}})):f=function(x){return x instanceof this},D.prototype.pipe=function(){B(this,new E)},D.prototype.write=function(x,F,O){var N,j=this._writableState,W=!1,q=!j.objectMode&&(N=x,h.isBuffer(N)||N instanceof d);return q&&!h.isBuffer(x)&&(x=function(V){return h.from(V)}(x)),typeof F=="function"&&(O=F,F=null),q?F="buffer":F||(F=j.defaultEncoding),typeof O!="function"&&(O=H),j.ending?function(V,$){var I=new L;B(V,I),s.nextTick($,I)}(this,O):(q||function(V,$,I,_){var z;return I===null?z=new A:typeof I=="string"||$.objectMode||(z=new w("chunk",["string","Buffer"],I)),!z||(B(V,z),s.nextTick(_,z),!1)}(this,j,x,O))&&(j.pendingcb++,W=function(V,$,I,_,z,K){if(!I){var Q=function(ie,Y,te){return ie.objectMode||ie.decodeStrings===!1||typeof Y!="string"||(Y=h.from(Y,te)),Y}($,_,z);_!==Q&&(I=!0,z="buffer",_=Q)}var X=$.objectMode?1:_.length;$.length+=X;var Z=$.length<$.highWaterMark;if(Z||($.needDrain=!0),$.writing||$.corked){var ne=$.lastBufferedRequest;$.lastBufferedRequest={chunk:_,encoding:z,isBuf:I,callback:K,next:null},ne?ne.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else k(V,$,!1,X,_,z,K);return Z}(this,j,q,x,F,O)),W},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.bufferProcessing||!x.bufferedRequest||R(this,x))},D.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new T(x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(x,F,O){O(new v("_write()"))},D.prototype._writev=null,D.prototype.end=function(x,F,O){var N=this._writableState;return typeof x=="function"?(O=x,x=null,F=null):typeof F=="function"&&(O=F,F=null),x!=null&&this.write(x,F),N.corked&&(N.corked=1,this.uncork()),N.ending||function(j,W,q){W.ending=!0,C(j,W),q&&(W.finished?s.nextTick(q):j.once("finish",q)),W.ended=!0,j.writable=!1}(this,N,O),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),D.prototype.destroy=p.destroy,D.prototype._undestroy=p.undestroy,D.prototype._destroy=function(x,F){F(x)}}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,i){(function(s){(function(){var o;function a(P,A,L){return(A=function(T){var B=function(H,G){if(typeof H!="object"||H===null)return H;var D=H[Symbol.toPrimitive];if(D!==void 0){var k=D.call(H,G);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(H)}(T,"string");return typeof B=="symbol"?B:String(B)}(A))in P?Object.defineProperty(P,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[A]=L,P}var l=r("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),m=Symbol("stream");function g(P,A){return{value:P,done:A}}function w(P){var A=P[c];if(A!==null){var L=P[m].read();L!==null&&(P[f]=null,P[c]=null,P[u]=null,A(g(L,!1)))}}function v(P){s.nextTick(w,P)}var b=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((a(o={get stream(){return this[m]},next:function(){var P=this,A=this[h];if(A!==null)return Promise.reject(A);if(this[d])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(H,G){s.nextTick(function(){P[h]?G(P[h]):H(g(void 0,!0))})});var L,T=this[f];if(T)L=new Promise(function(H,G){return function(D,k){H.then(function(){G[d]?D(g(void 0,!0)):G[p](D,k)},k)}}(T,this));else{var B=this[m].read();if(B!==null)return Promise.resolve(g(B,!1));L=new Promise(this[p])}return this[f]=L,L}},Symbol.asyncIterator,function(){return this}),a(o,"return",function(){var P=this;return new Promise(function(A,L){P[m].destroy(null,function(T){T?L(T):A(g(void 0,!0))})})}),o),b);n.exports=function(P){var A,L=Object.create(E,(a(A={},m,{value:P,writable:!0}),a(A,c,{value:null,writable:!0}),a(A,u,{value:null,writable:!0}),a(A,h,{value:null,writable:!0}),a(A,d,{value:P._readableState.endEmitted,writable:!0}),a(A,p,{value:function(T,B){var H=L[m].read();H?(L[f]=null,L[c]=null,L[u]=null,T(g(H,!1))):(L[c]=T,L[u]=B)},writable:!0}),A));return L[f]=null,l(P,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=L[u];return B!==null&&(L[f]=null,L[c]=null,L[u]=null,B(T)),void(L[h]=T)}var H=L[c];H!==null&&(L[f]=null,L[c]=null,L[u]=null,H(g(void 0,!0))),L[d]=!0}),P.on("readable",v.bind(null,L)),L}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function s(f,p){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);p&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),m.push.apply(m,g)}return m}function o(f){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?s(Object(m),!0).forEach(function(g){a(f,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):s(Object(m)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(m,g))})}return f}function a(f,p,m){return(p=c(p))in f?Object.defineProperty(f,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[p]=m,f}function l(f,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,c(g.key),g)}}function c(f){var p=function(m,g){if(typeof m!="object"||m===null)return m;var w=m[Symbol.toPrimitive];if(w!==void 0){var v=w.call(m,g);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(m)}(f,"string");return typeof p=="symbol"?p:String(p)}var u=r("buffer").Buffer,h=r("util").inspect,d=h&&h.custom||"inspect";n.exports=function(){function f(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var p,m;return p=f,(m=[{key:"push",value:function(g){var w={data:g,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(g){var w={data:g,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=g+w.data;return v}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var w,v,b,E=u.allocUnsafe(g>>>0),P=this.head,A=0;P;)w=P.data,v=E,b=A,u.prototype.copy.call(w,v,b),A+=P.data.length,P=P.next;return E}},{key:"consume",value:function(g,w){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():w?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var w=this.head,v=1,b=w.data;for(g-=b.length;w=w.next;){var E=w.data,P=g>E.length?E.length:g;if(P===E.length?b+=E:b+=E.slice(0,g),(g-=P)==0){P===E.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=E.slice(P));break}++v}return this.length-=v,b}},{key:"_getBuffer",value:function(g){var w=u.allocUnsafe(g),v=this.head,b=1;for(v.data.copy(w),g-=v.data.length;v=v.next;){var E=v.data,P=g>E.length?E.length:g;if(E.copy(w,w.length-g,0,P),(g-=P)==0){P===E.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(P));break}++b}return this.length-=b,w}},{key:d,value:function(g,w){return h(this,o(o({},w),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,m),Object.defineProperty(p,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(r,n,i){(function(s){(function(){function o(c,u){l(c,u),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var h=this,d=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return d||f?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,c)):s.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(p){!u&&p?h._writableState?h._writableState.errorEmitted?s.nextTick(a,h):(h._writableState.errorEmitted=!0,s.nextTick(o,h,p)):s.nextTick(o,h,p):u?(s.nextTick(a,h),u(p)):s.nextTick(a,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,u){var h=c._readableState,d=c._writableState;h&&h.autoDestroy||d&&d.autoDestroy?c.destroy(u):c.emit("error",u)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var s=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function a(l,c,u){if(typeof c=="function")return a(l,null,c);c||(c={}),u=function(P){var A=!1;return function(){if(!A){A=!0;for(var L=arguments.length,T=new Array(L),B=0;B<L;B++)T[B]=arguments[B];P.apply(this,T)}}}(u||o);var h=c.readable||c.readable!==!1&&l.readable,d=c.writable||c.writable!==!1&&l.writable,f=function(){l.writable||m()},p=l._writableState&&l._writableState.finished,m=function(){d=!1,p=!0,h||u.call(l)},g=l._readableState&&l._readableState.endEmitted,w=function(){h=!1,g=!0,d||u.call(l)},v=function(P){u.call(l,P)},b=function(){var P;return h&&!g?(l._readableState&&l._readableState.ended||(P=new s),u.call(l,P)):d&&!p?(l._writableState&&l._writableState.ended||(P=new s),u.call(l,P)):void 0},E=function(){l.req.on("finish",m)};return function(P){return P.setHeader&&typeof P.abort=="function"}(l)?(l.on("complete",m),l.on("abort",b),l.req?E():l.on("request",E)):d&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",w),l.on("finish",m),c.error!==!1&&l.on("error",v),l.on("close",b),function(){l.removeListener("complete",m),l.removeListener("abort",b),l.removeListener("request",E),l.req&&l.req.removeListener("finish",m),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",m),l.removeListener("end",w),l.removeListener("error",v),l.removeListener("close",b)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var s,o=r("../../../errors").codes,a=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function c(p){if(p)throw p}function u(p,m,g,w){w=function(E){var P=!1;return function(){P||(P=!0,E.apply(void 0,arguments))}}(w);var v=!1;p.on("close",function(){v=!0}),s===void 0&&(s=r("./end-of-stream")),s(p,{readable:m,writable:g},function(E){if(E)return w(E);v=!0,w()});var b=!1;return function(E){if(!v&&!b)return b=!0,function(P){return P.setHeader&&typeof P.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void w(E||new l("pipe"))}}function h(p){p()}function d(p,m){return p.pipe(m)}function f(p){return p.length?typeof p[p.length-1]!="function"?c:p.pop():c}n.exports=function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var w,v=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new a("streams");var b=m.map(function(E,P){var A=P<m.length-1;return u(E,A,P>0,function(L){w||(w=L),L&&b.forEach(h),A||(b.forEach(h),v(w))})});return m.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var s=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,a,l,c){var u=function(h,d,f){return h.highWaterMark!=null?h.highWaterMark:d?h[f]:null}(a,c,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(c?l:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){var s=function(o){var a=Object.prototype,l=a.hasOwnProperty,c=Object.defineProperty||function(C,x,F){C[x]=F.value},u=typeof Symbol=="function"?Symbol:{},h=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function p(C,x,F){return Object.defineProperty(C,x,{value:F,enumerable:!0,configurable:!0,writable:!0}),C[x]}try{p({},"")}catch{p=function(x,F,O){return x[F]=O}}function m(C,x,F,O){var N=x&&x.prototype instanceof v?x:v,j=Object.create(N.prototype),W=new R(O||[]);return c(j,"_invoke",{value:G(C,F,W)}),j}function g(C,x,F){try{return{type:"normal",arg:C.call(x,F)}}catch(O){return{type:"throw",arg:O}}}o.wrap=m;var w={};function v(){}function b(){}function E(){}var P={};p(P,h,function(){return this});var A=Object.getPrototypeOf,L=A&&A(A(y([])));L&&L!==a&&l.call(L,h)&&(P=L);var T=E.prototype=v.prototype=Object.create(P);function B(C){["next","throw","return"].forEach(function(x){p(C,x,function(F){return this._invoke(x,F)})})}function H(C,x){var F;c(this,"_invoke",{value:function(O,N){function j(){return new x(function(W,q){(function V($,I,_,z){var K=g(C[$],C,I);if(K.type!=="throw"){var Q=K.arg,X=Q.value;return X&&typeof X=="object"&&l.call(X,"__await")?x.resolve(X.__await).then(function(Z){V("next",Z,_,z)},function(Z){V("throw",Z,_,z)}):x.resolve(X).then(function(Z){Q.value=Z,_(Q)},function(Z){return V("throw",Z,_,z)})}z(K.arg)})(O,N,W,q)})}return F=F?F.then(j,j):j()}})}function G(C,x,F){var O="suspendedStart";return function(N,j){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(N==="throw")throw j;return S()}for(F.method=N,F.arg=j;;){var W=F.delegate;if(W){var q=D(W,F);if(q){if(q===w)continue;return q}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(O==="suspendedStart")throw O="completed",F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);O="executing";var V=g(C,x,F);if(V.type==="normal"){if(O=F.done?"completed":"suspendedYield",V.arg===w)continue;return{value:V.arg,done:F.done}}V.type==="throw"&&(O="completed",F.method="throw",F.arg=V.arg)}}}function D(C,x){var F=x.method,O=C.iterator[F];if(O===void 0)return x.delegate=null,F==="throw"&&C.iterator.return&&(x.method="return",x.arg=void 0,D(C,x),x.method==="throw")||F!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+F+"' method")),w;var N=g(O,C.iterator,x.arg);if(N.type==="throw")return x.method="throw",x.arg=N.arg,x.delegate=null,w;var j=N.arg;return j?j.done?(x[C.resultName]=j.value,x.next=C.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,w):j:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,w)}function k(C){var x={tryLoc:C[0]};1 in C&&(x.catchLoc=C[1]),2 in C&&(x.finallyLoc=C[2],x.afterLoc=C[3]),this.tryEntries.push(x)}function M(C){var x=C.completion||{};x.type="normal",delete x.arg,C.completion=x}function R(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(k,this),this.reset(!0)}function y(C){if(C){var x=C[h];if(x)return x.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var F=-1,O=function N(){for(;++F<C.length;)if(l.call(C,F))return N.value=C[F],N.done=!1,N;return N.value=void 0,N.done=!0,N};return O.next=O}}return{next:S}}function S(){return{value:void 0,done:!0}}return b.prototype=E,c(T,"constructor",{value:E,configurable:!0}),c(E,"constructor",{value:b,configurable:!0}),b.displayName=p(E,f,"GeneratorFunction"),o.isGeneratorFunction=function(C){var x=typeof C=="function"&&C.constructor;return!!x&&(x===b||(x.displayName||x.name)==="GeneratorFunction")},o.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,E):(C.__proto__=E,p(C,f,"GeneratorFunction")),C.prototype=Object.create(T),C},o.awrap=function(C){return{__await:C}},B(H.prototype),p(H.prototype,d,function(){return this}),o.AsyncIterator=H,o.async=function(C,x,F,O,N){N===void 0&&(N=Promise);var j=new H(m(C,x,F,O),N);return o.isGeneratorFunction(x)?j:j.next().then(function(W){return W.done?W.value:j.next()})},B(T),p(T,f,"Generator"),p(T,h,function(){return this}),p(T,"toString",function(){return"[object Generator]"}),o.keys=function(C){var x=Object(C),F=[];for(var O in x)F.push(O);return F.reverse(),function N(){for(;F.length;){var j=F.pop();if(j in x)return N.value=j,N.done=!1,N}return N.done=!0,N}},o.values=y,R.prototype={constructor:R,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!C)for(var x in this)x.charAt(0)==="t"&&l.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=void 0)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var x=this;function F(V,$){return j.type="throw",j.arg=C,x.next=V,$&&(x.method="next",x.arg=void 0),!!$}for(var O=this.tryEntries.length-1;O>=0;--O){var N=this.tryEntries[O],j=N.completion;if(N.tryLoc==="root")return F("end");if(N.tryLoc<=this.prev){var W=l.call(N,"catchLoc"),q=l.call(N,"finallyLoc");if(W&&q){if(this.prev<N.catchLoc)return F(N.catchLoc,!0);if(this.prev<N.finallyLoc)return F(N.finallyLoc)}else if(W){if(this.prev<N.catchLoc)return F(N.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return F(N.finallyLoc)}}}},abrupt:function(C,x){for(var F=this.tryEntries.length-1;F>=0;--F){var O=this.tryEntries[F];if(O.tryLoc<=this.prev&&l.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var N=O;break}}N&&(C==="break"||C==="continue")&&N.tryLoc<=x&&x<=N.finallyLoc&&(N=null);var j=N?N.completion:{};return j.type=C,j.arg=x,N?(this.method="next",this.next=N.finallyLoc,w):this.complete(j)},complete:function(C,x){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&x&&(this.next=x),w},finish:function(C){for(var x=this.tryEntries.length-1;x>=0;--x){var F=this.tryEntries[x];if(F.finallyLoc===C)return this.complete(F.completion,F.afterLoc),M(F),w}},catch:function(C){for(var x=this.tryEntries.length-1;x>=0;--x){var F=this.tryEntries[x];if(F.tryLoc===C){var O=F.completion;if(O.type==="throw"){var N=O.arg;M(F)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(C,x,F){return this.delegate={iterator:y(C),resultName:x,nextLoc:F},this.method==="next"&&(this.arg=void 0),w}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(r,n,i){var s=r("buffer").Buffer,o=r("inherits"),a=r("hash-base"),l=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function m(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(A,L){return A<<L|A>>>32-L}function w(A,L,T,B,H,G,D,k){return g(A+(L^T^B)+G+D|0,k)+H|0}function v(A,L,T,B,H,G,D,k){return g(A+(L&T|~L&B)+G+D|0,k)+H|0}function b(A,L,T,B,H,G,D,k){return g(A+((L|~T)^B)+G+D|0,k)+H|0}function E(A,L,T,B,H,G,D,k){return g(A+(L&B|T&~B)+G+D|0,k)+H|0}function P(A,L,T,B,H,G,D,k){return g(A+(L^(T|~B))+G+D|0,k)+H|0}o(m,a),m.prototype._update=function(){for(var A=l,L=0;L<16;++L)A[L]=this._block.readInt32LE(4*L);for(var T=0|this._a,B=0|this._b,H=0|this._c,G=0|this._d,D=0|this._e,k=0|this._a,M=0|this._b,R=0|this._c,y=0|this._d,S=0|this._e,C=0;C<80;C+=1){var x,F;C<16?(x=w(T,B,H,G,D,A[c[C]],f[0],h[C]),F=P(k,M,R,y,S,A[u[C]],p[0],d[C])):C<32?(x=v(T,B,H,G,D,A[c[C]],f[1],h[C]),F=E(k,M,R,y,S,A[u[C]],p[1],d[C])):C<48?(x=b(T,B,H,G,D,A[c[C]],f[2],h[C]),F=b(k,M,R,y,S,A[u[C]],p[2],d[C])):C<64?(x=E(T,B,H,G,D,A[c[C]],f[3],h[C]),F=v(k,M,R,y,S,A[u[C]],p[3],d[C])):(x=P(T,B,H,G,D,A[c[C]],f[4],h[C]),F=w(k,M,R,y,S,A[u[C]],p[4],d[C])),T=D,D=G,G=g(H,10),H=B,B=x,k=S,S=y,y=g(R,10),R=M,M=F}var O=this._b+H+y|0;this._b=this._c+G+S|0,this._c=this._d+D+k|0,this._d=this._e+T+M|0,this._e=this._a+B+R|0,this._a=O},m.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=s.alloc?s.alloc(20):new s(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A},n.exports=m},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=r("buffer"),o=s.Buffer;function a(c,u){for(var h in c)u[h]=c[h]}function l(c,u,h){return o(c,u,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),l.prototype=Object.create(o.prototype),a(o,l),l.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,h)},l.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=o(c);return u!==void 0?typeof h=="string"?d.fill(u,h):d.fill(u):d.fill(0),d},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],495:[function(r,n,i){(function(s){(function(){var o,a=r("buffer"),l=a.Buffer,c={};for(o in a)a.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(c[o]=a[o]);var u=c.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=l[o]);if(c.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(h,d,f){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return l(h,d,f)}),u.alloc||(u.alloc=function(h,d,f){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var p=l(h);return d&&d.length!==0?typeof f=="string"?p.fill(d,f):p.fill(d):p.fill(0),p}),!c.kStringMaxLength)try{c.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=r("xmlchars/xml/1.0/ed5"),o=r("xmlchars/xml/1.1/ed2"),a=r("xmlchars/xmlns/1.0/ed3");var l=s.isS,c=s.isChar,u=s.isNameStartChar,h=s.isNameChar,d=s.S_LIST,f=s.NAME_RE,p=o.isChar,m=a.isNCNameStartChar,g=a.isNCNameChar,w=a.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",E={__proto__:null,xml:v,xmlns:b},P={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},A=y=>y===34||y===39,L=[34,39],T=[...L,91,62],B=[...L,60,93],H=[61,63,...d],G=[...d,62,38,60];function D(y,S,C){switch(S){case"xml":C!==v&&y.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":C!==b&&y.fail(`xmlns prefix must be bound to ${b}.`)}switch(C){case b:y.fail(S===""?`the default namespace may not be set to ${C}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case v:switch(S){case"xml":break;case"":y.fail(`the default namespace may not be set to ${C}.`);break;default:y.fail("may not assign the xml namespace to another prefix.")}}}const k=y=>w.test(y),M=y=>f.test(y);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const R={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(y){this.opt=y??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=m,this.nameCheck=g,this.isName=k,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},E);const C=this.opt.additionalNamespaces;C!=null&&(function(x,F){for(const O of Object.keys(F))D(x,O,F[O])}(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=u,this.nameCheck=h,this.isName=M,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var y;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:C}=this.opt;if(C===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");C="1.0"}this.setXMLVersion(C),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(P),(y=this.readyHandler)===null||y===void 0||y.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(y,S){this[R[y]]=S}off(y){this[R[y]]=void 0}makeError(y){var S;let C=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(C.length>0&&(C+=":"),C+=`${this.line}:${this.column}`),C.length>0&&(C+=": "),new Error(C+y)}fail(y){const S=this.makeError(y),C=this.errorHandler;if(C===void 0)throw S;return C(S),this}write(y){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;y===null?(S=!0,y=""):typeof y=="object"&&(y=y.toString()),this.carriedFromPrevious!==void 0&&(y=`${this.carriedFromPrevious}${y}`,this.carriedFromPrevious=void 0);let C=y.length;const x=y.charCodeAt(C-1);!S&&(x===13||x>=55296&&x<=56319)&&(this.carriedFromPrevious=y[C-1],C--,y=y.slice(0,C));const{stateTable:F}=this;for(this.chunk=y,this.i=0;this.i<C;)F[this.state].call(this);return this.chunkPosition+=C,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:y,i:S}=this;if(this.prevI=S,this.i=S+1,S>=y.length)return-1;const C=y.charCodeAt(S);if(this.column++,C<55296){if(C>=32||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return y.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;const x=65536+1024*(C-55296)+(y.charCodeAt(S+1)-56320);return this.i=S+2,x>1114111&&this.fail("disallowed character."),x}getCode11(){const{chunk:y,i:S}=this;if(this.prevI=S,this.i=S+1,S>=y.length)return-1;const C=y.charCodeAt(S);if(this.column++,C<55296){if(C>31&&C<127||C>159&&C!==8232||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const F=y.charCodeAt(S+1);F!==10&&F!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;const x=65536+1024*(C-55296)+(y.charCodeAt(S+1)-56320);return this.i=S+2,x>1114111&&this.fail("disallowed character."),x}getCodeNorm(){const y=this.getCode();return y===-2?10:y}unget(){this.i=this.prevI,this.column--}captureTo(y){let{i:S}=this;const{chunk:C}=this;for(;;){const x=this.getCode(),F=x===-2,O=F?10:x;if(O===-1||y.includes(O))return this.text+=C.slice(S,this.prevI),O;F&&(this.text+=C.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(y){let{i:S}=this;const{chunk:C}=this;for(;;){let x=this.getCode();switch(x){case-2:this.text+=C.slice(S,this.prevI)+`
`,S=this.i,x=10;break;case-1:return this.text+=C.slice(S),!1}if(x===y)return this.text+=C.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:y,i:S}=this;for(;;){const C=this.getCode();if(C===-1)return this.name+=y.slice(S),-1;if(!h(C))return this.name+=y.slice(S,this.prevI),C===-2?10:C}}skipSpaces(){for(;;){const y=this.getCodeNorm();if(y===-1||!l(y))return y}}setXMLVersion(y){this.currentXMLVersion=y,y==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const y=this.i,S=this.skipSpaces();switch(this.prevI!==y&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var y;const S=this.captureTo(T);switch(S){case 62:(y=this.doctypeHandler)===null||y===void 0||y.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:A(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const y=this.q;this.captureToChar(y)&&(this.text+=String.fromCodePoint(y),this.q=null,this.state=2)}sDTD(){const y=this.captureTo(B);y!==-1&&(this.text+=String.fromCodePoint(y),y===93?this.state=2:y===60?this.state=6:A(y)&&(this.state=5,this.q=y))}sDTDQuoted(){const y=this.q;this.captureToChar(y)&&(this.text+=String.fromCodePoint(y),this.state=4,this.q=null)}sDTDOpenWaka(){const y=this.getCodeNorm();switch(this.text+=String.fromCodePoint(y),y){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const y=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=y;this.text+=y,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const y=this.getCodeNorm();this.text+=String.fromCodePoint(y),this.state=y===45?10:8}sDTDCommentEnded(){const y=this.getCodeNorm();this.text+=String.fromCodePoint(y),y===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const y=this.getCodeNorm();this.text+=String.fromCodePoint(y),y===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:y}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(y,this.prevI)+`
`,y=this.i;break;case 59:{const{entityReturnState:C}=this,x=this.entity+S.slice(y,this.prevI);let F;this.state=C,x===""?(this.fail("empty entity name."),F="&;"):(F=this.parseEntity(x),this.entity=""),C===13&&this.textHandler===void 0||(this.text+=F);break e}case-1:this.entity+=S.slice(y);break e}}sOpenWaka(){const y=this.getCode();if(u(y))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(y){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var y;const S=this.getCodeNorm();S===45?(this.state=19,(y=this.commentHandler)===null||y===void 0||y.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const y=this.getCodeNorm();y!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(y),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const y=this.getCodeNorm();y===93?this.state=22:(this.text+="]"+String.fromCodePoint(y),this.state=20)}sCDataEnding2(){var y;const S=this.getCodeNorm();switch(S){case 62:(y=this.cdataHandler)===null||y===void 0||y.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const y=this.getCodeNorm();this.nameStartCheck(y)?(this.piTarget+=String.fromCodePoint(y),this.state=24):y===63||l(y)?(this.fail("processing instruction without a target."),this.state=y===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(y),this.state=24)}sPIRest(){const{chunk:y,i:S}=this;for(;;){const C=this.getCodeNorm();if(C===-1)return void(this.piTarget+=y.slice(S));if(!this.nameCheck(C)){this.piTarget+=y.slice(S,this.prevI);const x=C===63;x||l(C)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=x?33:27):this.state=x?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C));break}}}sPIBody(){if(this.text.length===0){const y=this.getCodeNorm();y===63?this.state=26:l(y)||(this.text=String.fromCodePoint(y))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var y;const S=this.getCodeNorm();if(S===62){const{piTarget:C}=this;C.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(y=this.piHandler)===null||y===void 0||y.call(this,{target:C,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const y=this.skipSpaces();y!==63?y!==-1&&(this.state=28,this.name=String.fromCodePoint(y)):this.state=33}sXMLDeclName(){const y=this.captureTo(H);if(y===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(y)||y===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=y===61?30:29}}sXMLDeclEq(){const y=this.getCodeNorm();if(y===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(y)||(y!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const y=this.getCodeNorm();if(y===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(y)||(A(y)?this.q=y:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const y=this.captureTo([this.q,63]);if(y===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(y===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const C=S;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const y=this.getCodeNorm();y!==63?(l(y)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var y;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(y=this.xmldeclHandler)===null||y===void 0||y.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var y;const S=this.captureNameChars();if(S===-1)return;const C=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=C.ns=Object.create(null)),(y=this.openTagStartHandler)===null||y===void 0||y.call(this,C),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:l(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const y=this.skipSpaces();y!==-1&&(u(y)?(this.unget(),this.state=37):y===62?this.openTag():y===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const y=this.captureNameChars();y===61?this.state=39:l(y)?this.state=38:y===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):y!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const y=this.skipSpaces();switch(y){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",y===62?this.openTag():u(y)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const y=this.getCodeNorm();A(y)?(this.q=y,this.state=40):l(y)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:y,chunk:S}=this;let{i:C}=this;for(;;)switch(this.getCode()){case y:return this.pushAttrib(this.name,this.text+S.slice(C,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(C,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(C,this.prevI)+" ",C=this.i;break;case 60:return this.text+=S.slice(C,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(C))}}sAttribValueClosed(){const y=this.getCodeNorm();l(y)?this.state=36:y===62?this.openTag():y===47?this.state=35:u(y)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const y=this.captureTo(G);switch(y){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",y===62?this.openTag():this.state=36}}sCloseTag(){const y=this.captureNameChars();y===62?this.closeTag():l(y)?this.state=44:y!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:y,forbiddenState:S}=this;const{chunk:C,textHandler:x}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,x!==void 0){const{text:F}=this,O=C.slice(y,this.prevI);F.length!==0?(x(F+O),this.text=""):O.length!==0&&x(O)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=C.slice(y,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:x!==void 0&&(this.text+=C.slice(y,this.prevI)+`
`),y=this.i,S=0;break;case-1:x!==void 0&&(this.text+=C.slice(y));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:y}=this;const{chunk:S,textHandler:C}=this;let x=!1;e:for(;;){const F=this.getCode();switch(F){case 60:if(this.state=15,C!==void 0){const{text:O}=this,N=S.slice(y,this.prevI);O.length!==0?(C(O+N),this.text=""):N.length!==0&&C(N)}break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=S.slice(y,this.prevI)),x=!0;break e;case-2:C!==void 0&&(this.text+=S.slice(y,this.prevI)+`
`),y=this.i;break;case-1:C!==void 0&&(this.text+=S.slice(y));break e;default:l(F)||(x=!0)}}x&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(y,S){var C;const{prefix:x,local:F}=this.qname(y),O={name:y,prefix:x,local:F,value:S};if(this.attribList.push(O),(C=this.attributeHandler)===null||C===void 0||C.call(this,O),x==="xmlns"){const N=S.trim();this.currentXMLVersion==="1.0"&&N===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[F]=N,D(this,F,N)}else if(y==="xmlns"){const N=S.trim();this.topNS[""]=N,D(this,"",N)}}pushAttribPlain(y,S){var C;const x={name:y,value:S};this.attribList.push(x),(C=this.attributeHandler)===null||C===void 0||C.call(this,x)}end(){var y,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:C}=this;for(;C.length>0;){const F=C.pop();this.fail("unclosed tag: "+F.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:x}=this;return x.length!==0&&((y=this.textHandler)===null||y===void 0||y.call(this,x),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(y){var S,C;let x=this.topNS[y];if(x!==void 0)return x;const{tags:F}=this;for(let O=F.length-1;O>=0;O--)if(x=F[O].ns[y],x!==void 0)return x;return x=this.ns[y],x!==void 0?x:(C=(S=this.opt).resolvePrefix)===null||C===void 0?void 0:C.call(S,y)}qname(y){const S=y.indexOf(":");if(S===-1)return{prefix:"",local:y};const C=y.slice(S+1),x=y.slice(0,S);return(x===""||C===""||C.includes(":"))&&this.fail(`malformed name: ${y}.`),{prefix:x,local:C}}processAttribsNS(){var y;const{attribList:S}=this,C=this.tag;{const{prefix:O,local:N}=this.qname(C.name);C.prefix=O,C.local=N;const j=C.uri=(y=this.resolve(O))!==null&&y!==void 0?y:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),j===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),C.uri=O))}if(S.length===0)return;const{attributes:x}=C,F=new Set;for(const O of S){const{name:N,prefix:j,local:W}=O;let q,V;j===""?(q=N==="xmlns"?b:"",V=N):(q=this.resolve(j),q===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(j)}.`),q=j),V=`{${q}}${W}`),F.has(V)&&this.fail(`duplicate attribute: ${V}.`),F.add(V),O.uri=q,x[N]=O}this.attribList=[]}processAttribsPlain(){const{attribList:y}=this,S=this.tag.attributes;for(const{name:C,value:x}of y)S[C]!==void 0&&this.fail(`duplicate attribute: ${C}.`),S[C]=x;this.attribList=[]}openTag(){var y;this.processAttribs();const{tags:S}=this,C=this.tag;C.isSelfClosing=!1,(y=this.openTagHandler)===null||y===void 0||y.call(this,C),S.push(C),this.state=13,this.name=""}openSelfClosingTag(){var y,S,C;this.processAttribs();const{tags:x}=this,F=this.tag;F.isSelfClosing=!0,(y=this.openTagHandler)===null||y===void 0||y.call(this,F),(S=this.closeTagHandler)===null||S===void 0||S.call(this,F),(this.tag=(C=x[x.length-1])!==null&&C!==void 0?C:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:y,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const C=this.closeTagHandler;let x=y.length;for(;x-- >0;){const F=this.tag=y.pop();if(this.topNS=F.ns,C?.(F),F.name===S)break;this.fail("unexpected close tag.")}x===0?this.closedRoot=!0:x<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(y){if(y[0]!=="#"){const C=this.ENTITIES[y];return C!==void 0?C:(this.fail(this.isName(y)?"undefined entity.":"disallowed character in entity name."),`&${y};`)}let S=NaN;return y[1]==="x"&&/^#x[0-9a-f]+$/i.test(y)?S=parseInt(y.slice(2),16):/^#[0-9]+$/.test(y)&&(S=parseInt(y.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${y};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l){this._block=s.alloc(a),this._finalSize=l,this._blockSize=a,this._len=0}o.prototype.update=function(a,l){typeof a=="string"&&(l=l||"utf8",a=s.from(a,l));for(var c=this._block,u=this._blockSize,h=a.length,d=this._len,f=0;f<h;){for(var p=d%u,m=Math.min(h-f,u-p),g=0;g<m;g++)c[p+g]=a[f+g];f+=m,(d+=m)%u==0&&this._update(c)}return this._len+=h,this},o.prototype.digest=function(a){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var u=(4294967295&c)>>>0,h=(c-u)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return a?d.toString(a):d},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(r,n,i){var s=n.exports=function(o){o=o.toLowerCase();var a=s[o];if(!a)throw new Error(o+" is not supported (we accept pull requests)");return new a};s.sha=r("./sha"),s.sha1=r("./sha1"),s.sha224=r("./sha224"),s.sha256=r("./sha256"),s.sha384=r("./sha384"),s.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(f){return f<<30|f>>>2}function d(f,p,m,g){return f===0?p&m|~p&g:f===2?p&m|p&g|m&g:p^m^g}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(f){for(var p,m=this._w,g=0|this._a,w=0|this._b,v=0|this._c,b=0|this._d,E=0|this._e,P=0;P<16;++P)m[P]=f.readInt32BE(4*P);for(;P<80;++P)m[P]=m[P-3]^m[P-8]^m[P-14]^m[P-16];for(var A=0;A<80;++A){var L=~~(A/20),T=0|((p=g)<<5|p>>>27)+d(L,w,v,b)+E+m[A]+l[L];E=b,b=v,v=h(w),w=g,g=T}this._a=g+this._a|0,this._b=w+this._b|0,this._c=v+this._c|0,this._d=b+this._d|0,this._e=E+this._e|0},u.prototype._hash=function(){var f=a.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(p){return p<<5|p>>>27}function d(p){return p<<30|p>>>2}function f(p,m,g,w){return p===0?m&g|~m&w:p===2?m&g|m&w|g&w:m^g^w}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(p){for(var m,g=this._w,w=0|this._a,v=0|this._b,b=0|this._c,E=0|this._d,P=0|this._e,A=0;A<16;++A)g[A]=p.readInt32BE(4*A);for(;A<80;++A)g[A]=(m=g[A-3]^g[A-8]^g[A-14]^g[A-16])<<1|m>>>31;for(var L=0;L<80;++L){var T=~~(L/20),B=h(w)+f(T,v,b,E)+P+g[L]+l[T]|0;P=E,E=b,b=d(v),v=w,w=B}this._a=w+this._a|0,this._b=v+this._b|0,this._c=b+this._c|0,this._d=E+this._d|0,this._e=P+this._e|0},u.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,i){var s=r("inherits"),o=r("./sha256"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(64);function u(){this.init(),this._w=c,a.call(this,64,56)}s(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var h=l.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function u(){this.init(),this._w=c,o.call(this,64,56)}function h(g,w,v){return v^g&(w^v)}function d(g,w,v){return g&w|v&(g|w)}function f(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function p(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function m(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}s(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var w,v=this._w,b=0|this._a,E=0|this._b,P=0|this._c,A=0|this._d,L=0|this._e,T=0|this._f,B=0|this._g,H=0|this._h,G=0;G<16;++G)v[G]=g.readInt32BE(4*G);for(;G<64;++G)v[G]=0|(((w=v[G-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+v[G-7]+m(v[G-15])+v[G-16];for(var D=0;D<64;++D){var k=H+p(L)+h(L,T,B)+l[D]+v[D]|0,M=f(b)+d(b,E,P)|0;H=B,B=T,T=L,L=A+k|0,A=P,P=E,E=b,b=k+M|0}this._a=b+this._a|0,this._b=E+this._b|0,this._c=P+this._c|0,this._d=A+this._d|0,this._e=L+this._e|0,this._f=T+this._f|0,this._g=B+this._g|0,this._h=H+this._h|0},u.prototype._hash=function(){var g=a.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,i){var s=r("inherits"),o=r("./sha512"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(160);function u(){this.init(),this._w=c,a.call(this,128,112)}s(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var h=l.allocUnsafe(48);function d(f,p,m){h.writeInt32BE(f,m),h.writeInt32BE(p,m+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),h},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function u(){this.init(),this._w=c,o.call(this,128,112)}function h(E,P,A){return A^E&(P^A)}function d(E,P,A){return E&P|A&(E|P)}function f(E,P){return(E>>>28|P<<4)^(P>>>2|E<<30)^(P>>>7|E<<25)}function p(E,P){return(E>>>14|P<<18)^(E>>>18|P<<14)^(P>>>9|E<<23)}function m(E,P){return(E>>>1|P<<31)^(E>>>8|P<<24)^E>>>7}function g(E,P){return(E>>>1|P<<31)^(E>>>8|P<<24)^(E>>>7|P<<25)}function w(E,P){return(E>>>19|P<<13)^(P>>>29|E<<3)^E>>>6}function v(E,P){return(E>>>19|P<<13)^(P>>>29|E<<3)^(E>>>6|P<<26)}function b(E,P){return E>>>0<P>>>0?1:0}s(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(E){for(var P=this._w,A=0|this._ah,L=0|this._bh,T=0|this._ch,B=0|this._dh,H=0|this._eh,G=0|this._fh,D=0|this._gh,k=0|this._hh,M=0|this._al,R=0|this._bl,y=0|this._cl,S=0|this._dl,C=0|this._el,x=0|this._fl,F=0|this._gl,O=0|this._hl,N=0;N<32;N+=2)P[N]=E.readInt32BE(4*N),P[N+1]=E.readInt32BE(4*N+4);for(;N<160;N+=2){var j=P[N-30],W=P[N-30+1],q=m(j,W),V=g(W,j),$=w(j=P[N-4],W=P[N-4+1]),I=v(W,j),_=P[N-14],z=P[N-14+1],K=P[N-32],Q=P[N-32+1],X=V+z|0,Z=q+_+b(X,V)|0;Z=(Z=Z+$+b(X=X+I|0,I)|0)+K+b(X=X+Q|0,Q)|0,P[N]=Z,P[N+1]=X}for(var ne=0;ne<160;ne+=2){Z=P[ne],X=P[ne+1];var ie=d(A,L,T),Y=d(M,R,y),te=f(A,M),re=f(M,A),ae=p(H,C),oe=p(C,H),le=l[ne],he=l[ne+1],pe=h(H,G,D),be=h(C,x,F),_e=O+oe|0,Pe=k+ae+b(_e,O)|0;Pe=(Pe=(Pe=Pe+pe+b(_e=_e+be|0,be)|0)+le+b(_e=_e+he|0,he)|0)+Z+b(_e=_e+X|0,X)|0;var ve=re+Y|0,Ie=te+ie+b(ve,re)|0;k=D,O=F,D=G,F=x,G=H,x=C,H=B+Pe+b(C=S+_e|0,S)|0,B=T,S=y,T=L,y=R,L=A,R=M,A=Pe+Ie+b(M=_e+ve|0,_e)|0}this._al=this._al+M|0,this._bl=this._bl+R|0,this._cl=this._cl+y|0,this._dl=this._dl+S|0,this._el=this._el+C|0,this._fl=this._fl+x|0,this._gl=this._gl+F|0,this._hl=this._hl+O|0,this._ah=this._ah+A+b(this._al,M)|0,this._bh=this._bh+L+b(this._bl,R)|0,this._ch=this._ch+T+b(this._cl,y)|0,this._dh=this._dh+B+b(this._dl,S)|0,this._eh=this._eh+H+b(this._el,C)|0,this._fh=this._fh+G+b(this._fl,x)|0,this._gh=this._gh+D+b(this._gl,F)|0,this._hh=this._hh+k+b(this._hl,O)|0},u.prototype._hash=function(){var E=a.allocUnsafe(64);function P(A,L,T){E.writeInt32BE(A,T),E.writeInt32BE(L,T+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),P(this._gh,this._gl,48),P(this._hh,this._hl,56),E},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,i){n.exports=o;var s=r("events").EventEmitter;function o(){s.call(this)}r("inherits")(o,s),o.Readable=r("readable-stream/readable.js"),o.Writable=r("readable-stream/writable.js"),o.Duplex=r("readable-stream/duplex.js"),o.Transform=r("readable-stream/transform.js"),o.PassThrough=r("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(a,l){var c=this;function u(w){a.writable&&a.write(w)===!1&&c.pause&&c.pause()}function h(){c.readable&&c.resume&&c.resume()}c.on("data",u),a.on("drain",h),a._isStdio||l&&l.end===!1||(c.on("end",f),c.on("close",p));var d=!1;function f(){d||(d=!0,a.end())}function p(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function m(w){if(g(),s.listenerCount(this,"error")===0)throw w}function g(){c.removeListener("data",u),a.removeListener("drain",h),c.removeListener("end",f),c.removeListener("close",p),c.removeListener("error",m),a.removeListener("error",m),c.removeListener("end",g),c.removeListener("close",g),a.removeListener("close",g)}return c.on("error",m),a.on("error",m),c.on("end",g),c.on("close",g),a.on("close",g),a.emit("pipe",c),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,i){var s={}.toString;n.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var s=r("process-nextick-args"),o=Object.keys||function(g){var w=[];for(var v in g)w.push(v);return w};n.exports=f;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var l=r("./_stream_readable"),c=r("./_stream_writable");a.inherits(f,l);for(var u=o(c.prototype),h=0;h<u.length;h++){var d=u[h];f.prototype[d]||(f.prototype[d]=c.prototype[d])}function f(g){if(!(this instanceof f))return new f(g);l.call(this,g),c.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||s.nextTick(m,this)}function m(g){g.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),f.prototype._destroy=function(g,w){this.push(null),this.end(),s.nextTick(w,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,i){n.exports=a;var s=r("./_stream_transform"),o=Object.create(r("core-util-is"));function a(l){if(!(this instanceof a))return new a(l);s.call(this,l)}o.inherits=r("inherits"),o.inherits(a,s),a.prototype._transform=function(l,c,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,i){(function(s,o){(function(){var a=r("process-nextick-args");n.exports=A;var l,c=r("isarray");A.ReadableState=P,r("events").EventEmitter;var u=function(O,N){return O.listeners(N).length},h=r("./internal/streams/stream"),d=r("safe-buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(r("core-util-is"));p.inherits=r("inherits");var m=r("util"),g=void 0;g=m&&m.debuglog?m.debuglog("stream"):function(){};var w,v=r("./internal/streams/BufferList"),b=r("./internal/streams/destroy");p.inherits(A,h);var E=["error","close","destroy","pause","resume"];function P(O,N){O=O||{};var j=N instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!O.objectMode,j&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var W=O.highWaterMark,q=O.readableHighWaterMark,V=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:j&&(q||q===0)?q:V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(w||(w=r("string_decoder/").StringDecoder),this.decoder=new w(O.encoding),this.encoding=O.encoding)}function A(O){if(l=l||r("./_stream_duplex"),!(this instanceof A))return new A(O);this._readableState=new P(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),h.call(this)}function L(O,N,j,W,q){var V,$=O._readableState;return N===null?($.reading=!1,function(I,_){if(!_.ended){if(_.decoder){var z=_.decoder.end();z&&z.length&&(_.buffer.push(z),_.length+=_.objectMode?1:z.length)}_.ended=!0,H(I)}}(O,$)):(q||(V=function(I,_){var z;K=_,d.isBuffer(K)||K instanceof f||typeof _=="string"||_===void 0||I.objectMode||(z=new TypeError("Invalid non-string/buffer chunk"));var K;return z}($,N)),V?O.emit("error",V):$.objectMode||N&&N.length>0?(typeof N=="string"||$.objectMode||Object.getPrototypeOf(N)===d.prototype||(N=function(I){return d.from(I)}(N)),W?$.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):T(O,$,N,!0):$.ended?O.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!j?(N=$.decoder.write(N),$.objectMode||N.length!==0?T(O,$,N,!1):D(O,$)):T(O,$,N,!1))):W||($.reading=!1)),function(I){return!I.ended&&(I.needReadable||I.length<I.highWaterMark||I.length===0)}($)}function T(O,N,j,W){N.flowing&&N.length===0&&!N.sync?(O.emit("data",j),O.read(0)):(N.length+=N.objectMode?1:j.length,W?N.buffer.unshift(j):N.buffer.push(j),N.needReadable&&H(O)),D(O,N)}Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),A.prototype.destroy=b.destroy,A.prototype._undestroy=b.undestroy,A.prototype._destroy=function(O,N){this.push(null),N(O)},A.prototype.push=function(O,N){var j,W=this._readableState;return W.objectMode?j=!0:typeof O=="string"&&((N=N||W.defaultEncoding)!==W.encoding&&(O=d.from(O,N),N=""),j=!0),L(this,O,N,!1,j)},A.prototype.unshift=function(O){return L(this,O,null,!0,!1)},A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(O){return w||(w=r("string_decoder/").StringDecoder),this._readableState.decoder=new w(O),this._readableState.encoding=O,this};function B(O,N){return O<=0||N.length===0&&N.ended?0:N.objectMode?1:O!=O?N.flowing&&N.length?N.buffer.head.data.length:N.length:(O>N.highWaterMark&&(N.highWaterMark=function(j){return j>=8388608?j=8388608:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}(O)),O<=N.length?O:N.ended?N.length:(N.needReadable=!0,0))}function H(O){var N=O._readableState;N.needReadable=!1,N.emittedReadable||(g("emitReadable",N.flowing),N.emittedReadable=!0,N.sync?a.nextTick(G,O):G(O))}function G(O){g("emit readable"),O.emit("readable"),y(O)}function D(O,N){N.readingMore||(N.readingMore=!0,a.nextTick(k,O,N))}function k(O,N){for(var j=N.length;!N.reading&&!N.flowing&&!N.ended&&N.length<N.highWaterMark&&(g("maybeReadMore read 0"),O.read(0),j!==N.length);)j=N.length;N.readingMore=!1}function M(O){g("readable nexttick read 0"),O.read(0)}function R(O,N){N.reading||(g("resume read 0"),O.read(0)),N.resumeScheduled=!1,N.awaitDrain=0,O.emit("resume"),y(O),N.flowing&&!N.reading&&O.read(0)}function y(O){var N=O._readableState;for(g("flow",N.flowing);N.flowing&&O.read()!==null;);}function S(O,N){return N.length===0?null:(N.objectMode?j=N.buffer.shift():!O||O>=N.length?(j=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.head.data:N.buffer.concat(N.length),N.buffer.clear()):j=function(W,q,V){var $;return W<q.head.data.length?($=q.head.data.slice(0,W),q.head.data=q.head.data.slice(W)):$=W===q.head.data.length?q.shift():V?function(I,_){var z=_.head,K=1,Q=z.data;for(I-=Q.length;z=z.next;){var X=z.data,Z=I>X.length?X.length:I;if(Z===X.length?Q+=X:Q+=X.slice(0,I),(I-=Z)===0){Z===X.length?(++K,z.next?_.head=z.next:_.head=_.tail=null):(_.head=z,z.data=X.slice(Z));break}++K}return _.length-=K,Q}(W,q):function(I,_){var z=d.allocUnsafe(I),K=_.head,Q=1;for(K.data.copy(z),I-=K.data.length;K=K.next;){var X=K.data,Z=I>X.length?X.length:I;if(X.copy(z,z.length-I,0,Z),(I-=Z)===0){Z===X.length?(++Q,K.next?_.head=K.next:_.head=_.tail=null):(_.head=K,K.data=X.slice(Z));break}++Q}return _.length-=Q,z}(W,q),$}(O,N.buffer,N.decoder),j);var j}function C(O){var N=O._readableState;if(N.length>0)throw new Error('"endReadable()" called on non-empty stream');N.endEmitted||(N.ended=!0,a.nextTick(x,N,O))}function x(O,N){O.endEmitted||O.length!==0||(O.endEmitted=!0,N.readable=!1,N.emit("end"))}function F(O,N){for(var j=0,W=O.length;j<W;j++)if(O[j]===N)return j;return-1}A.prototype.read=function(O){g("read",O),O=parseInt(O,10);var N=this._readableState,j=O;if(O!==0&&(N.emittedReadable=!1),O===0&&N.needReadable&&(N.length>=N.highWaterMark||N.ended))return g("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?C(this):H(this),null;if((O=B(O,N))===0&&N.ended)return N.length===0&&C(this),null;var W,q=N.needReadable;return g("need readable",q),(N.length===0||N.length-O<N.highWaterMark)&&g("length less than watermark",q=!0),N.ended||N.reading?g("reading or ended",q=!1):q&&(g("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(O=B(j,N))),(W=O>0?S(O,N):null)===null?(N.needReadable=!0,O=0):N.length-=O,N.length===0&&(N.ended||(N.needReadable=!0),j!==O&&N.ended&&C(this)),W!==null&&this.emit("data",W),W},A.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},A.prototype.pipe=function(O,N){var j=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=O;break;case 1:W.pipes=[W.pipes,O];break;default:W.pipes.push(O)}W.pipesCount+=1,g("pipe count=%d opts=%j",W.pipesCount,N);var q=(!N||N.end!==!1)&&O!==s.stdout&&O!==s.stderr?$:ne;function V(ie,Y){g("onunpipe"),ie===j&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,g("cleanup"),O.removeListener("close",X),O.removeListener("finish",Z),O.removeListener("drain",I),O.removeListener("error",Q),O.removeListener("unpipe",V),j.removeListener("end",$),j.removeListener("end",ne),j.removeListener("data",K),_=!0,!W.awaitDrain||O._writableState&&!O._writableState.needDrain||I())}function $(){g("onend"),O.end()}W.endEmitted?a.nextTick(q):j.once("end",q),O.on("unpipe",V);var I=function(ie){return function(){var Y=ie._readableState;g("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&u(ie,"data")&&(Y.flowing=!0,y(ie))}}(j);O.on("drain",I);var _=!1,z=!1;function K(ie){g("ondata"),z=!1,O.write(ie)!==!1||z||((W.pipesCount===1&&W.pipes===O||W.pipesCount>1&&F(W.pipes,O)!==-1)&&!_&&(g("false write response, pause",W.awaitDrain),W.awaitDrain++,z=!0),j.pause())}function Q(ie){g("onerror",ie),ne(),O.removeListener("error",Q),u(O,"error")===0&&O.emit("error",ie)}function X(){O.removeListener("finish",Z),ne()}function Z(){g("onfinish"),O.removeListener("close",X),ne()}function ne(){g("unpipe"),j.unpipe(O)}return j.on("data",K),function(ie,Y,te){if(typeof ie.prependListener=="function")return ie.prependListener(Y,te);ie._events&&ie._events[Y]?c(ie._events[Y])?ie._events[Y].unshift(te):ie._events[Y]=[te,ie._events[Y]]:ie.on(Y,te)}(O,"error",Q),O.once("close",X),O.once("finish",Z),O.emit("pipe",j),W.flowing||(g("pipe resume"),j.resume()),O},A.prototype.unpipe=function(O){var N=this._readableState,j={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return O&&O!==N.pipes||(O||(O=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,O&&O.emit("unpipe",this,j)),this;if(!O){var W=N.pipes,q=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var V=0;V<q;V++)W[V].emit("unpipe",this,{hasUnpiped:!1});return this}var $=F(N.pipes,O);return $===-1||(N.pipes.splice($,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),O.emit("unpipe",this,j)),this},A.prototype.on=function(O,N){var j=h.prototype.on.call(this,O,N);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&H(this):a.nextTick(M,this))}return j},A.prototype.addListener=A.prototype.on,A.prototype.resume=function(){var O=this._readableState;return O.flowing||(g("resume"),O.flowing=!0,function(N,j){j.resumeScheduled||(j.resumeScheduled=!0,a.nextTick(R,N,j))}(this,O)),this},A.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},A.prototype.wrap=function(O){var N=this,j=this._readableState,W=!1;for(var q in O.on("end",function(){if(g("wrapped end"),j.decoder&&!j.ended){var $=j.decoder.end();$&&$.length&&N.push($)}N.push(null)}),O.on("data",function($){g("wrapped data"),j.decoder&&($=j.decoder.write($)),j.objectMode&&$==null||(j.objectMode||$&&$.length)&&(N.push($)||(W=!0,O.pause()))}),O)this[q]===void 0&&typeof O[q]=="function"&&(this[q]=function($){return function(){return O[$].apply(O,arguments)}}(q));for(var V=0;V<E.length;V++)O.on(E[V],this.emit.bind(this,E[V]));return this._read=function($){g("wrapped _read",$),W&&(W=!1,O.resume())},this},Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),A._fromList=S}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,i){n.exports=l;var s=r("./_stream_duplex"),o=Object.create(r("core-util-is"));function a(h,d){var f=this._transformState;f.transforming=!1;var p=f.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,d!=null&&this.push(d),p(h);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);s.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function c(){var h=this;typeof this._flush=="function"?this._flush(function(d,f){u(h,d,f)}):u(this,null,null)}function u(h,d,f){if(d)return h.emit("error",d);if(f!=null&&h.push(f),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}o.inherits=r("inherits"),o.inherits(l,s),l.prototype.push=function(h,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,d)},l.prototype._transform=function(h,d,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(h,d,f){var p=this._transformState;if(p.writecb=f,p.writechunk=h,p.writeencoding=d,!p.transforming){var m=this._readableState;(p.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},l.prototype._read=function(h){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},l.prototype._destroy=function(h,d){var f=this;s.prototype._destroy.call(this,h,function(p){d(p),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,i){(function(s,o,a){(function(){var l=r("process-nextick-args");function c(D){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(M,R,y){var S=M.entry;for(M.entry=null;S;){var C=S.callback;R.pendingcb--,C(y),S=S.next}R.corkedRequestsFree.next=M})(k,D)}}n.exports=P;var u,h=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?a:l.nextTick;P.WritableState=E;var d=Object.create(r("core-util-is"));d.inherits=r("inherits");var f={deprecate:r("util-deprecate")},p=r("./internal/streams/stream"),m=r("safe-buffer").Buffer,g=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,v=r("./internal/streams/destroy");function b(){}function E(D,k){u=u||r("./_stream_duplex"),D=D||{};var M=k instanceof u;this.objectMode=!!D.objectMode,M&&(this.objectMode=this.objectMode||!!D.writableObjectMode);var R=D.highWaterMark,y=D.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=R||R===0?R:M&&(y||y===0)?y:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=D.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(x){(function(F,O){var N=F._writableState,j=N.sync,W=N.writecb;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(N),O)(function(V,$,I,_,z){--$.pendingcb,I?(l.nextTick(z,_),l.nextTick(G,V,$),V._writableState.errorEmitted=!0,V.emit("error",_)):(z(_),V._writableState.errorEmitted=!0,V.emit("error",_),G(V,$))})(F,N,j,O,W);else{var q=B(N);q||N.corked||N.bufferProcessing||!N.bufferedRequest||T(F,N),j?h(L,F,N,q,W):L(F,N,q,W)}})(k,x)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function P(D){if(u=u||r("./_stream_duplex"),!(w.call(P,this)||this instanceof u))return new P(D);this._writableState=new E(D,this),this.writable=!0,D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final)),p.call(this)}function A(D,k,M,R,y,S,C){k.writelen=R,k.writecb=C,k.writing=!0,k.sync=!0,M?D._writev(y,k.onwrite):D._write(y,S,k.onwrite),k.sync=!1}function L(D,k,M,R){M||function(y,S){S.length===0&&S.needDrain&&(S.needDrain=!1,y.emit("drain"))}(D,k),k.pendingcb--,R(),G(D,k)}function T(D,k){k.bufferProcessing=!0;var M=k.bufferedRequest;if(D._writev&&M&&M.next){var R=k.bufferedRequestCount,y=new Array(R),S=k.corkedRequestsFree;S.entry=M;for(var C=0,x=!0;M;)y[C]=M,M.isBuf||(x=!1),M=M.next,C+=1;y.allBuffers=x,A(D,k,!0,k.length,y,"",S.finish),k.pendingcb++,k.lastBufferedRequest=null,S.next?(k.corkedRequestsFree=S.next,S.next=null):k.corkedRequestsFree=new c(k),k.bufferedRequestCount=0}else{for(;M;){var F=M.chunk,O=M.encoding,N=M.callback;if(A(D,k,!1,k.objectMode?1:F.length,F,O,N),M=M.next,k.bufferedRequestCount--,k.writing)break}M===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=M,k.bufferProcessing=!1}function B(D){return D.ending&&D.length===0&&D.bufferedRequest===null&&!D.finished&&!D.writing}function H(D,k){D._final(function(M){k.pendingcb--,M&&D.emit("error",M),k.prefinished=!0,D.emit("prefinish"),G(D,k)})}function G(D,k){var M=B(k);return M&&(function(R,y){y.prefinished||y.finalCalled||(typeof R._final=="function"?(y.pendingcb++,y.finalCalled=!0,l.nextTick(H,R,y)):(y.prefinished=!0,R.emit("prefinish")))}(D,k),k.pendingcb===0&&(k.finished=!0,D.emit("finish"))),M}d.inherits(P,p),E.prototype.getBuffer=function(){for(var D=this.bufferedRequest,k=[];D;)k.push(D),D=D.next;return k},function(){try{Object.defineProperty(E.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(D){return!!w.call(this,D)||this===P&&D&&D._writableState instanceof E}})):w=function(D){return D instanceof this},P.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},P.prototype.write=function(D,k,M){var R,y=this._writableState,S=!1,C=!y.objectMode&&(R=D,m.isBuffer(R)||R instanceof g);return C&&!m.isBuffer(D)&&(D=function(x){return m.from(x)}(D)),typeof k=="function"&&(M=k,k=null),C?k="buffer":k||(k=y.defaultEncoding),typeof M!="function"&&(M=b),y.ended?function(x,F){var O=new Error("write after end");x.emit("error",O),l.nextTick(F,O)}(this,M):(C||function(x,F,O,N){var j=!0,W=!1;return O===null?W=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||F.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(x.emit("error",W),l.nextTick(N,W),j=!1),j}(this,y,D,M))&&(y.pendingcb++,S=function(x,F,O,N,j,W){if(!O){var q=function(_,z,K){return _.objectMode||_.decodeStrings===!1||typeof z!="string"||(z=m.from(z,K)),z}(F,N,j);N!==q&&(O=!0,j="buffer",N=q)}var V=F.objectMode?1:N.length;F.length+=V;var $=F.length<F.highWaterMark;if($||(F.needDrain=!0),F.writing||F.corked){var I=F.lastBufferedRequest;F.lastBufferedRequest={chunk:N,encoding:j,isBuf:O,callback:W,next:null},I?I.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else A(x,F,!1,V,N,j,W);return $}(this,y,C,D,k,M)),S},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var D=this._writableState;D.corked&&(D.corked--,D.writing||D.corked||D.bufferProcessing||!D.bufferedRequest||T(this,D))},P.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(D,k,M){M(new Error("_write() is not implemented"))},P.prototype._writev=null,P.prototype.end=function(D,k,M){var R=this._writableState;typeof D=="function"?(M=D,D=null,k=null):typeof k=="function"&&(M=k,k=null),D!=null&&this.write(D,k),R.corked&&(R.corked=1,this.uncork()),R.ending||function(y,S,C){S.ending=!0,G(y,S),C&&(S.finished?l.nextTick(C):y.once("finish",C)),S.ended=!0,y.writable=!1}(this,R,M)},Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),P.prototype.destroy=v.destroy,P.prototype._undestroy=v.undestroy,P.prototype._destroy=function(D,k){this.end(),k(D)}}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("util");n.exports=function(){function a(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},a.prototype.unshift=function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},a.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u},a.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var c,u,h,d=s.allocUnsafe(l>>>0),f=this.head,p=0;f;)c=f.data,u=d,h=p,c.copy(u,h),p+=f.data.length,f=f.next;return d},a}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(r,n,i){var s=r("process-nextick-args");function o(a,l){a.emit("error",l)}n.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return u||h?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(o,this,a)):s.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(d){!l&&d?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,s.nextTick(o,c,d)):s.nextTick(o,c,d):l&&l(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,i){(function(s,o){(function(){var a=r("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,u={},h=0;function d(f,p){this._id=f,this._clearFn=p}i.setTimeout=function(){return new d(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(f){f.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(f,p){clearTimeout(f._idleTimeoutId),f._idleTimeout=p},i.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},i._unrefActive=i.active=function(f){clearTimeout(f._idleTimeoutId);var p=f._idleTimeout;p>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},p))},i.setImmediate=typeof s=="function"?s:function(f){var p=h++,m=!(arguments.length<2)&&c.call(arguments,1);return u[p]=!0,a(function(){u[p]&&(m?f.apply(null,m):f.call(null),i.clearImmediate(p))}),p},i.clearImmediate=typeof o=="function"?o:function(f){delete u[f]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,i){(function(s){(function(){function o(a){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[a];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(a,l){if(o("noDeprecation"))return a;var c=!1;return function(){if(!c){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),c=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}},{}],526:[function(r,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(r,n,i){(function(s,o){(function(){var a=/%[sdj%]/g;i.format=function(y){if(!E(y)){for(var S=[],C=0;C<arguments.length;C++)S.push(u(arguments[C]));return S.join(" ")}C=1;for(var x=arguments,F=x.length,O=String(y).replace(a,function(j){if(j==="%%")return"%";if(C>=F)return j;switch(j){case"%s":return String(x[C++]);case"%d":return Number(x[C++]);case"%j":try{return JSON.stringify(x[C++])}catch{return"[Circular]"}default:return j}}),N=x[C];C<F;N=x[++C])v(N)||!L(N)?O+=" "+N:O+=" "+u(N);return O},i.deprecate=function(y,S){if(P(o.process))return function(){return i.deprecate(y,S).apply(this,arguments)};if(s.noDeprecation===!0)return y;var C=!1;return function(){if(!C){if(s.throwDeprecation)throw new Error(S);s.traceDeprecation?console.trace(S):console.error(S),C=!0}return y.apply(this,arguments)}};var l,c={};function u(y,S){var C={seen:[],stylize:d};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),w(S)?C.showHidden=S:S&&i._extend(C,S),P(C.showHidden)&&(C.showHidden=!1),P(C.depth)&&(C.depth=2),P(C.colors)&&(C.colors=!1),P(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=h),f(C,y,C.depth)}function h(y,S){var C=u.styles[S];return C?"\x1B["+u.colors[C][0]+"m"+y+"\x1B["+u.colors[C][1]+"m":y}function d(y,S){return y}function f(y,S,C){if(y.customInspect&&S&&H(S.inspect)&&S.inspect!==i.inspect&&(!S.constructor||S.constructor.prototype!==S)){var x=S.inspect(C,y);return E(x)||(x=f(y,x,C)),x}var F=function(I,_){if(P(_))return I.stylize("undefined","undefined");if(E(_)){var z="'"+JSON.stringify(_).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(z,"string")}if(b(_))return I.stylize(""+_,"number");if(w(_))return I.stylize(""+_,"boolean");if(v(_))return I.stylize("null","null")}(y,S);if(F)return F;var O=Object.keys(S),N=function(I){var _={};return I.forEach(function(z,K){_[z]=!0}),_}(O);if(y.showHidden&&(O=Object.getOwnPropertyNames(S)),B(S)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return p(S);if(O.length===0){if(H(S)){var j=S.name?": "+S.name:"";return y.stylize("[Function"+j+"]","special")}if(A(S))return y.stylize(RegExp.prototype.toString.call(S),"regexp");if(T(S))return y.stylize(Date.prototype.toString.call(S),"date");if(B(S))return p(S)}var W,q="",V=!1,$=["{","}"];return g(S)&&(V=!0,$=["[","]"]),H(S)&&(q=" [Function"+(S.name?": "+S.name:"")+"]"),A(S)&&(q=" "+RegExp.prototype.toString.call(S)),T(S)&&(q=" "+Date.prototype.toUTCString.call(S)),B(S)&&(q=" "+p(S)),O.length!==0||V&&S.length!=0?C<0?A(S)?y.stylize(RegExp.prototype.toString.call(S),"regexp"):y.stylize("[Object]","special"):(y.seen.push(S),W=V?function(I,_,z,K,Q){for(var X=[],Z=0,ne=_.length;Z<ne;++Z)R(_,String(Z))?X.push(m(I,_,z,K,String(Z),!0)):X.push("");return Q.forEach(function(ie){ie.match(/^\d+$/)||X.push(m(I,_,z,K,ie,!0))}),X}(y,S,C,N,O):O.map(function(I){return m(y,S,C,N,I,V)}),y.seen.pop(),function(I,_,z){return I.reduce(function(K,Q){return Q.indexOf(`
`)>=0,K+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?z[0]+(_===""?"":_+`
 `)+" "+I.join(`,
  `)+" "+z[1]:z[0]+_+" "+I.join(", ")+" "+z[1]}(W,q,$)):$[0]+q+$[1]}function p(y){return"["+Error.prototype.toString.call(y)+"]"}function m(y,S,C,x,F,O){var N,j,W;if((W=Object.getOwnPropertyDescriptor(S,F)||{value:S[F]}).get?j=W.set?y.stylize("[Getter/Setter]","special"):y.stylize("[Getter]","special"):W.set&&(j=y.stylize("[Setter]","special")),R(x,F)||(N="["+F+"]"),j||(y.seen.indexOf(W.value)<0?(j=v(C)?f(y,W.value,null):f(y,W.value,C-1)).indexOf(`
`)>-1&&(j=O?j.split(`
`).map(function(q){return"  "+q}).join(`
`).substr(2):`
`+j.split(`
`).map(function(q){return"   "+q}).join(`
`)):j=y.stylize("[Circular]","special")),P(N)){if(O&&F.match(/^\d+$/))return j;(N=JSON.stringify(""+F)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.substr(1,N.length-2),N=y.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=y.stylize(N,"string"))}return N+": "+j}function g(y){return Array.isArray(y)}function w(y){return typeof y=="boolean"}function v(y){return y===null}function b(y){return typeof y=="number"}function E(y){return typeof y=="string"}function P(y){return y===void 0}function A(y){return L(y)&&G(y)==="[object RegExp]"}function L(y){return typeof y=="object"&&y!==null}function T(y){return L(y)&&G(y)==="[object Date]"}function B(y){return L(y)&&(G(y)==="[object Error]"||y instanceof Error)}function H(y){return typeof y=="function"}function G(y){return Object.prototype.toString.call(y)}function D(y){return y<10?"0"+y.toString(10):y.toString(10)}i.debuglog=function(y){if(P(l)&&(l=s.env.NODE_DEBUG||""),y=y.toUpperCase(),!c[y])if(new RegExp("\\b"+y+"\\b","i").test(l)){var S=s.pid;c[y]=function(){var C=i.format.apply(i,arguments);console.error("%s %d: %s",y,S,C)}}else c[y]=function(){};return c[y]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=g,i.isBoolean=w,i.isNull=v,i.isNullOrUndefined=function(y){return y==null},i.isNumber=b,i.isString=E,i.isSymbol=function(y){return typeof y=="symbol"},i.isUndefined=P,i.isRegExp=A,i.isObject=L,i.isDate=T,i.isError=B,i.isFunction=H,i.isPrimitive=function(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||y===void 0},i.isBuffer=r("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var y=new Date,S=[D(y.getHours()),D(y.getMinutes()),D(y.getSeconds())].join(":");return[y.getDate(),k[y.getMonth()],S].join(" ")}function R(y,S){return Object.prototype.hasOwnProperty.call(y,S)}i.log=function(){console.log("%s - %s",M(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(y,S){if(!S||!L(S))return y;for(var C=Object.keys(S),x=C.length;x--;)y[C[x]]=S[C[x]];return y}}).call(this)}).call(this,r("_process"),typeof ft<"u"?ft:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return f.default}});var s=p(r("./v1.js")),o=p(r("./v3.js")),a=p(r("./v4.js")),l=p(r("./v5.js")),c=p(r("./nil.js")),u=p(r("./version.js")),h=p(r("./validate.js")),d=p(r("./stringify.js")),f=p(r("./parse.js"));function p(m){return m&&m.__esModule?m:{default:m}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,i){function s(f){return 14+(f+64>>>9<<4)+1}function o(f,p){const m=(65535&f)+(65535&p);return(f>>16)+(p>>16)+(m>>16)<<16|65535&m}function a(f,p,m,g,w,v){return o((b=o(o(p,f),o(g,v)))<<(E=w)|b>>>32-E,m);var b,E}function l(f,p,m,g,w,v,b){return a(p&m|~p&g,f,p,w,v,b)}function c(f,p,m,g,w,v,b){return a(p&g|m&~g,f,p,w,v,b)}function u(f,p,m,g,w,v,b){return a(p^m^g,f,p,w,v,b)}function h(f,p,m,g,w,v,b){return a(m^(p|~g),f,p,w,v,b)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=function(f){if(typeof f=="string"){const p=unescape(encodeURIComponent(f));f=new Uint8Array(p.length);for(let m=0;m<p.length;++m)f[m]=p.charCodeAt(m)}return function(p){const m=[],g=32*p.length;for(let w=0;w<g;w+=8){const v=p[w>>5]>>>w%32&255,b=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);m.push(b)}return m}(function(p,m){p[m>>5]|=128<<m%32,p[s(m)-1]=m;let g=1732584193,w=-271733879,v=-1732584194,b=271733878;for(let E=0;E<p.length;E+=16){const P=g,A=w,L=v,T=b;g=l(g,w,v,b,p[E],7,-680876936),b=l(b,g,w,v,p[E+1],12,-389564586),v=l(v,b,g,w,p[E+2],17,606105819),w=l(w,v,b,g,p[E+3],22,-1044525330),g=l(g,w,v,b,p[E+4],7,-176418897),b=l(b,g,w,v,p[E+5],12,1200080426),v=l(v,b,g,w,p[E+6],17,-1473231341),w=l(w,v,b,g,p[E+7],22,-45705983),g=l(g,w,v,b,p[E+8],7,1770035416),b=l(b,g,w,v,p[E+9],12,-1958414417),v=l(v,b,g,w,p[E+10],17,-42063),w=l(w,v,b,g,p[E+11],22,-1990404162),g=l(g,w,v,b,p[E+12],7,1804603682),b=l(b,g,w,v,p[E+13],12,-40341101),v=l(v,b,g,w,p[E+14],17,-1502002290),w=l(w,v,b,g,p[E+15],22,1236535329),g=c(g,w,v,b,p[E+1],5,-165796510),b=c(b,g,w,v,p[E+6],9,-1069501632),v=c(v,b,g,w,p[E+11],14,643717713),w=c(w,v,b,g,p[E],20,-373897302),g=c(g,w,v,b,p[E+5],5,-701558691),b=c(b,g,w,v,p[E+10],9,38016083),v=c(v,b,g,w,p[E+15],14,-660478335),w=c(w,v,b,g,p[E+4],20,-405537848),g=c(g,w,v,b,p[E+9],5,568446438),b=c(b,g,w,v,p[E+14],9,-1019803690),v=c(v,b,g,w,p[E+3],14,-187363961),w=c(w,v,b,g,p[E+8],20,1163531501),g=c(g,w,v,b,p[E+13],5,-1444681467),b=c(b,g,w,v,p[E+2],9,-51403784),v=c(v,b,g,w,p[E+7],14,1735328473),w=c(w,v,b,g,p[E+12],20,-1926607734),g=u(g,w,v,b,p[E+5],4,-378558),b=u(b,g,w,v,p[E+8],11,-2022574463),v=u(v,b,g,w,p[E+11],16,1839030562),w=u(w,v,b,g,p[E+14],23,-35309556),g=u(g,w,v,b,p[E+1],4,-1530992060),b=u(b,g,w,v,p[E+4],11,1272893353),v=u(v,b,g,w,p[E+7],16,-155497632),w=u(w,v,b,g,p[E+10],23,-1094730640),g=u(g,w,v,b,p[E+13],4,681279174),b=u(b,g,w,v,p[E],11,-358537222),v=u(v,b,g,w,p[E+3],16,-722521979),w=u(w,v,b,g,p[E+6],23,76029189),g=u(g,w,v,b,p[E+9],4,-640364487),b=u(b,g,w,v,p[E+12],11,-421815835),v=u(v,b,g,w,p[E+15],16,530742520),w=u(w,v,b,g,p[E+2],23,-995338651),g=h(g,w,v,b,p[E],6,-198630844),b=h(b,g,w,v,p[E+7],10,1126891415),v=h(v,b,g,w,p[E+14],15,-1416354905),w=h(w,v,b,g,p[E+5],21,-57434055),g=h(g,w,v,b,p[E+12],6,1700485571),b=h(b,g,w,v,p[E+3],10,-1894986606),v=h(v,b,g,w,p[E+10],15,-1051523),w=h(w,v,b,g,p[E+1],21,-2054922799),g=h(g,w,v,b,p[E+8],6,1873313359),b=h(b,g,w,v,p[E+15],10,-30611744),v=h(v,b,g,w,p[E+6],15,-1560198380),w=h(w,v,b,g,p[E+13],21,1309151649),g=h(g,w,v,b,p[E+4],6,-145523070),b=h(b,g,w,v,p[E+11],10,-1120210379),v=h(v,b,g,w,p[E+2],15,718787259),w=h(w,v,b,g,p[E+9],21,-343485551),g=o(g,P),w=o(w,A),v=o(v,L),b=o(b,T)}return[g,w,v,b]}(function(p){if(p.length===0)return[];const m=8*p.length,g=new Uint32Array(s(m));for(let w=0;w<m;w+=8)g[w>>5]|=(255&p[w/8])<<w%32;return g}(f),8*f.length))};i.default=d},{}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let c;const u=new Uint8Array(16);return u[0]=(c=parseInt(l.slice(0,8),16))>>>24,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u[4]=(c=parseInt(l.slice(9,13),16))>>>8,u[5]=255&c,u[6]=(c=parseInt(l.slice(14,18),16))>>>8,u[7]=255&c,u[8]=(c=parseInt(l.slice(19,23),16))>>>8,u[9]=255&c,u[10]=(c=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=c/4294967296&255,u[12]=c>>>24&255,u[13]=c>>>16&255,u[14]=c>>>8&255,u[15]=255&c,u};i.default=a},{"./validate.js":541}],532:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)};const o=new Uint8Array(16)},{}],534:[function(r,n,i){function s(l,c,u,h){switch(l){case 0:return c&u^~c&h;case 1:return c^u^h;case 2:return c&u^c&h^u&h;case 3:return c^u^h}}function o(l,c){return l<<c|l>>>32-c}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=function(l){const c=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let m=0;m<p.length;++m)l.push(p.charCodeAt(m))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const h=l.length/4+2,d=Math.ceil(h/16),f=new Array(d);for(let p=0;p<d;++p){const m=new Uint32Array(16);for(let g=0;g<16;++g)m[g]=l[64*p+4*g]<<24|l[64*p+4*g+1]<<16|l[64*p+4*g+2]<<8|l[64*p+4*g+3];f[p]=m}f[d-1][14]=8*(l.length-1)/Math.pow(2,32),f[d-1][14]=Math.floor(f[d-1][14]),f[d-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<d;++p){const m=new Uint32Array(80);for(let P=0;P<16;++P)m[P]=f[p][P];for(let P=16;P<80;++P)m[P]=o(m[P-3]^m[P-8]^m[P-14]^m[P-16],1);let g=u[0],w=u[1],v=u[2],b=u[3],E=u[4];for(let P=0;P<80;++P){const A=Math.floor(P/20),L=o(g,5)+s(A,w,v,b)+E+c[A]+m[P]>>>0;E=b,b=v,v=o(w,30)>>>0,w=g,g=L}u[0]=u[0]+g>>>0,u[1]=u[1]+w>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+b>>>0,u[4]=u[4]+E>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=a},{}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s};const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var l=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(a[c[u+0]]+a[c[u+1]]+a[c[u+2]]+a[c[u+3]]+"-"+a[c[u+4]]+a[c[u+5]]+"-"+a[c[u+6]]+a[c[u+7]]+"-"+a[c[u+8]]+a[c[u+9]]+"-"+a[c[u+10]]+a[c[u+11]]+a[c[u+12]]+a[c[u+13]]+a[c[u+14]]+a[c[u+15]]).toLowerCase();if(!(0,o.default)(h))throw TypeError("Stringified UUID is invalid");return h};i.default=l},{"./validate.js":541}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(f){return f&&f.__esModule?f:{default:f}}let l,c,u=0,h=0;var d=function(f,p,m){let g=p&&m||0;const w=p||new Array(16);let v=(f=f||{}).node||l,b=f.clockseq!==void 0?f.clockseq:c;if(v==null||b==null){const B=f.random||(f.rng||s.default)();v==null&&(v=l=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),b==null&&(b=c=16383&(B[6]<<8|B[7]))}let E=f.msecs!==void 0?f.msecs:Date.now(),P=f.nsecs!==void 0?f.nsecs:h+1;const A=E-u+(P-h)/1e4;if(A<0&&f.clockseq===void 0&&(b=b+1&16383),(A<0||E>u)&&f.nsecs===void 0&&(P=0),P>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=E,h=P,c=b,E+=122192928e5;const L=(1e4*(268435455&E)+P)%4294967296;w[g++]=L>>>24&255,w[g++]=L>>>16&255,w[g++]=L>>>8&255,w[g++]=255&L;const T=E/4294967296*1e4&268435455;w[g++]=T>>>8&255,w[g++]=255&T,w[g++]=T>>>24&15|16,w[g++]=T>>>16&255,w[g++]=b>>>8|128,w[g++]=255&b;for(let B=0;B<6;++B)w[g+B]=v[B];return p||(0,o.default)(w)};i.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./md5.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v3",48,o.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,h,d){function f(p,m,g,w){if(typeof p=="string"&&(p=function(b){b=unescape(encodeURIComponent(b));const E=[];for(let P=0;P<b.length;++P)E.push(b.charCodeAt(P));return E}(p)),typeof m=="string"&&(m=(0,o.default)(m)),m.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+p.length);if(v.set(m),v.set(p,m.length),v=d(v),v[6]=15&v[6]|h,v[8]=63&v[8]|128,g){w=w||0;for(let b=0;b<16;++b)g[w+b]=v[b];return g}return(0,s.default)(v)}try{f.name=u}catch{}return f.DNS=l,f.URL=c,f},i.URL=i.DNS=void 0;var s=a(r("./stringify.js")),o=a(r("./parse.js"));function a(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=function(c,u,h){const d=(c=c||{}).random||(c.rng||s.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,u){h=h||0;for(let f=0;f<16;++f)u[h+f]=d[f];return u}return(0,o.default)(d)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./sha1.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v5",80,o.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./regex.js"))&&s.__esModule?s:{default:s},a=function(l){return typeof l=="string"&&o.default.test(l)};i.default=a},{"./regex.js":532}],542:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=a},{"./validate.js":541}],543:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(o){return s(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(BR);var hz=BR.exports;const fz=({message:e,onClose:t})=>xi.createPortal(J.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[J.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),J.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg p-6 mx-4 max-w-sm w-full",children:[J.jsx("div",{className:"flex items-center justify-center",children:J.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:J.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),J.jsx("div",{className:"mt-3 text-center",children:J.jsx("p",{className:"text-sm font-medium text-gray-900",children:e})})]})]}),document.body),pz=e=>{const t=()=>{window.addRateCard&&window.addRateCard(e.data)};return J.jsx("div",{className:"flex items-center justify-center h-full",children:J.jsxs("button",{onClick:t,className:"bg-green-500 hover:bg-green-600 text-white border-none rounded-md cursor-pointer px-4 py-0.25 text-xs flex items-center gap-1 transition-all duration-200 ease-in-out shadow-sm hover:shadow-md font-medium",title:"Add rate card",children:[J.jsx(ZG,{className:"h-3 w-3"}),"Add"]})})};function gz({projectId:e,rateCards:t,onRateCardsChange:r,onAddRateCard:n,onAddRateCardsBulk:i,onDeleteRateCard:s,onDeleteAllRateCards:o,onAddResourceList:a}){const[l,c]=U.useState("all"),[u,h]=U.useState("all"),[d,f]=U.useState([]),[p,m]=U.useState([]),[g,w]=U.useState("ukraine"),[v,b]=U.useState(!1);ye.useEffect(()=>{if(t.length>0){const H=[...new Set(t.map(D=>D.namingInPM).filter(D=>D&&D.trim()))],G=[...new Set(t.map(D=>D.discipline).filter(D=>D&&D.trim()))];f(H),m(G)}},[t]),ye.useEffect(()=>{const H=setTimeout(()=>{const G=document.querySelector(".ag-theme-alpine");if(G&&G.__agGridReact){const D=G.__agGridReact.api;D&&D.sizeColumnsToFit&&D.sizeColumnsToFit()}},100);return()=>clearTimeout(H)},[g]);const E=U.useMemo(()=>{let H=t;return l!=="all"&&(H=H.filter(G=>G.namingInPM?.toLowerCase()===l.toLowerCase())),u!=="all"&&(H=H.filter(G=>G.discipline?.toLowerCase()===u.toLowerCase())),H},[t,l,u]),P=H=>H.value!=null?`$${H.value.toLocaleString()}`:"",A=U.useMemo(()=>{const H=[{headerName:"Action",field:"id",sortable:!1,filter:!1,resizable:!1,editable:!1,width:80,cellRenderer:pz,pinned:"left",hide:!1},{headerName:"Role",field:"role",sortable:!0,filter:!1,resizable:!0,editable:!0,onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,role:D.newValue}:M);r(k)}},{headerName:"Naming in PM",field:"namingInPM",sortable:!0,filter:!1,resizable:!0,editable:!0,onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,namingInPM:D.newValue}:M);r(k)}},{headerName:"Discipline",field:"discipline",sortable:!0,filter:!1,resizable:!0,editable:!0,onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,discipline:D.newValue}:M);r(k)}},{headerName:"Description",field:"description",sortable:!0,filter:!1,resizable:!0,flex:1,editable:!0,onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,description:D.newValue}:M);r(k)}}],G=[{headerName:"Ukraine",field:"ukraine",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="ukraine",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,ukraine:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"Eastern Europe",field:"easternEurope",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="eastern-europe",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,easternEurope:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"Asia (GE)",field:"asiaGE",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="asia-ge",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,asiaGE:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"Asia (ARM, KZ)",field:"asiaARMKZ",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="asia-arm-kz",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,asiaARMKZ:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"LATAM",field:"latam",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="latam",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,latam:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"Mexico",field:"mexico",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="mexico",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,mexico:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"India",field:"india",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="india",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,india:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"New York",field:"newYork",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="new-york",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,newYork:parseFloat(D.newValue)||0}:M);r(k)}},{headerName:"London",field:"london",sortable:!0,filter:!1,resizable:!0,valueFormatter:P,type:"numericColumn",editable:!0,hide:g!=="london",onCellValueChanged:D=>{const k=t.map(M=>M.id===D.data.id?{...M,london:parseFloat(D.newValue)||0}:M);r(k)}}];return[...H,...G]},[t,r,g]),L=async()=>{try{o();const H=document.createElement("input");H.type="file",H.accept=".xlsx,.xls",H.style.display="none",H.onchange=async G=>{const k=G.target.files?.[0];if(k)try{const M=new hz.Workbook,R=await k.arrayBuffer();await M.xlsx.load(R);const y=M.getWorksheet("RMNG RATES");if(!y){alert('Sheet "RMNG RATES" not found in the Excel file');return}const S=[];if(y.eachRow((C,x)=>{if(x<=2)return;const F={role:C.getCell("A").value?.toString()||"",namingInPM:C.getCell("B").value?.toString()||"",discipline:C.getCell("C").value?.toString()||"",description:C.getCell("D").value?.toString()||"",ukraine:parseFloat(C.getCell("E").value?.toString()||"0"),easternEurope:parseFloat(C.getCell("F").value?.toString()||"0"),asiaGE:parseFloat(C.getCell("G").value?.toString()||"0"),asiaARMKZ:parseFloat(C.getCell("H").value?.toString()||"0"),latam:parseFloat(C.getCell("I").value?.toString()||"0"),mexico:parseFloat(C.getCell("J").value?.toString()||"0"),india:parseFloat(C.getCell("K").value?.toString()||"0"),newYork:parseFloat(C.getCell("L").value?.toString()||"0"),london:parseFloat(C.getCell("M").value?.toString()||"0")};F.role?.trim()&&S.push(F)}),S.length>0){console.log("Imported data:",S);const C=[...new Set(S.map(F=>F.namingInPM).filter(F=>F&&F.trim()))],x=[...new Set(S.map(F=>F.discipline).filter(F=>F&&F.trim()))];f(C),m(x);try{const F=await i(S);alert(`Successfully imported ${F.count} rate card entries`)}catch(F){console.error("Error adding bulk rate cards:",F),alert(`Error importing rate cards: ${F instanceof Error?F.message:"Unknown error"}`);return}}else alert("No valid data found in the Excel file")}catch(M){console.error("Error importing Excel file:",M),alert("Error importing Excel file. Please check the file format and try again.")}},document.body.appendChild(H),H.click(),document.body.removeChild(H)}catch(H){console.error("Error setting up file import:",H),alert("Error setting up file import")}},T=()=>{if(t.length===0){alert("The table is already empty.");return}window.confirm(`Are you sure you want to delete all ${t.length} rate card entries? This action cannot be undone.`)&&o()},B=H=>{if(!a){console.warn("onAddResourceList prop not provided - cannot add to resource list");return}let G=0,D="";switch(g){case"ukraine":G=H.ukraine*8,D="Ukraine";break;case"eastern-europe":G=H.easternEurope*8,D="Eastern Europe";break;case"asia-ge":G=H.asiaGE*8,D="Asia (GE)";break;case"asia-arm-kz":G=H.asiaARMKZ*8,D="Asia (ARM,KZ)";break;case"latam":G=H.latam*8,D="LATAM";break;case"mexico":G=H.mexico*8,D="Mexico";break;case"india":G=H.india*8,D="India";break;case"new-york":G=H.newYork*8,D="New York";break;case"london":G=H.london*8,D="London";break;default:G=H.ukraine*8,D="Ukraine"}const k={role:H.role,description:H.description,intRate:G/8,location:D,projectId:e};a(k),b(!0),setTimeout(()=>{b(!1)},1e3),console.log("Added rate card to resource list:",{original:H,newResource:k,activeTab:g,dailyRate:G,location:D})};return window.addRateCard=B,J.jsxs("div",{className:"p-6 space-y-6",children:[v&&J.jsx(fz,{message:"Added to the resource list",onClose:()=>b(!1)}),J.jsxs("div",{className:"flex gap-2",children:[J.jsxs($l,{onClick:L,title:"Import rate card",children:[J.jsx(Md,{className:"h-4 w-4 mr-1"}),"Import rate card"]}),J.jsxs($l,{onClick:T,variant:"destructive",title:"Clear all rate cards",disabled:t.length===0,children:[J.jsx(sz,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),J.jsxs("div",{className:"flex items-center gap-4",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("span",{className:"text-sm font-medium",children:"Naming in PM:"}),J.jsxs(mg,{value:l,onValueChange:c,children:[J.jsx(wg,{className:"w-[180px]",children:J.jsx(vg,{placeholder:"Select level"})}),J.jsxs(bg,{children:[J.jsx(Oo,{value:"all",children:"All"}),d.map(H=>J.jsx(Oo,{value:H.toLowerCase(),children:H},H))]})]})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("span",{className:"text-sm font-medium",children:"Discipline:"}),J.jsxs(mg,{value:u,onValueChange:h,children:[J.jsx(wg,{className:"w-[180px]",children:J.jsx(vg,{placeholder:"Select discipline"})}),J.jsxs(bg,{children:[J.jsx(Oo,{value:"all",children:"All"}),p.map(H=>J.jsx(Oo,{value:H.toLowerCase(),children:H},H))]})]})]})]}),J.jsx("div",{className:"space-y-3",children:J.jsx(fx,{value:g,onValueChange:w,children:J.jsxs(px,{className:"flex w-full overflow-x-auto",children:[J.jsx(an,{value:"ukraine",children:"Ukraine"}),J.jsx(an,{value:"eastern-europe",children:"Eastern Europe"}),J.jsx(an,{value:"asia-ge",children:"Asia (GE)"}),J.jsx(an,{value:"asia-arm-kz",children:"Asia (ARM,KZ)"}),J.jsx(an,{value:"latam",children:"LATAM"}),J.jsx(an,{value:"mexico",children:"Mexico"}),J.jsx(an,{value:"india",children:"India"}),J.jsx(an,{value:"new-york",children:"New York"}),J.jsx(an,{value:"london",children:"London"})]})})}),J.jsx("div",{className:"ag-theme-alpine",style:{height:600,width:"100%"},children:J.jsx(av,{theme:"legacy",rowData:E,columnDefs:A,pagination:!0,paginationPageSize:20,domLayout:"autoHeight",suppressRowClickSelection:!0,rowSelection:"multiple",animateRows:!0,defaultColDef:{sortable:!0,filter:!0,resizable:!0,minWidth:100}})})]})}const Xt="http://localhost:3001/api",cr={async getProjects(){const e=await fetch(`${Xt}/projects`);if(!e.ok)throw new Error("Failed to fetch projects");return e.json()},async getProject(e){const t=await fetch(`${Xt}/projects/${e}`);if(!t.ok)throw new Error("Failed to fetch project");return t.json()},async createProject(e){const t=await fetch(`${Xt}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create project");return t.json()},async updateProject(e,t){const r=await fetch(`${Xt}/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update project");return r.json()},async getRateCards(e){const t=await fetch(`${Xt}/projects/${e}/rate-cards`);if(!t.ok)throw new Error("Failed to fetch rate cards");return t.json()},async createRateCard(e,t){const r=await fetch(`${Xt}/projects/${e}/rate-cards`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(`Failed to create rate card: ${n.details||n.error||r.statusText}`)}return r.json()},async createRateCardsBulk(e,t){const r=await fetch(`${Xt}/projects/${e}/rate-cards/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(`Failed to create bulk rate cards: ${n.details||n.error||r.statusText}`)}return r.json()},async updateRateCard(e,t){const r=await fetch(`${Xt}/rate-cards/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update rate card");return r.json()},async deleteRateCard(e){if(!(await fetch(`${Xt}/rate-cards/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete rate card")},async deleteAllRateCards(){const e=await fetch(`${Xt}/rate-cards`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete rate cards");return e.json()},async getResourceLists(e){const t=await fetch(`${Xt}/projects/${e}/resource-lists`);if(!t.ok)throw new Error("Failed to fetch resource lists");return t.json()},async createResourceList(e,t){const r=await fetch(`${Xt}/projects/${e}/resource-lists`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create resource list");return r.json()},async updateResourceList(e,t){const r=await fetch(`${Xt}/resource-lists/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update resource list");return r.json()},async deleteResourceList(e){if(!(await fetch(`${Xt}/resource-lists/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete resource list")},async getResourcePlans(e){const t=await fetch(`${Xt}/projects/${e}/resource-plans`);if(!t.ok)throw new Error("Failed to fetch resource plans");return t.json()},async createResourcePlan(e,t){const r=await fetch(`${Xt}/projects/${e}/resource-plans`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create resource plan");return r.json()},async updateResourcePlan(e,t){const r=await fetch(`${Xt}/resource-plans/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json().catch(()=>({})),i=n.details||n.error||"Failed to update resource plan";throw new Error(i)}return r.json()},async deleteResourcePlan(e){if(!(await fetch(`${Xt}/resource-plans/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete resource plan")},async getWeeklyAllocations(e){const t=await fetch(`${Xt}/resource-plans/${e}/weekly-allocations`);if(!t.ok)throw new Error("Failed to fetch weekly allocations");return t.json()},async createWeeklyAllocation(e,t){const r=await fetch(`${Xt}/resource-plans/${e}/weekly-allocations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create weekly allocation");return r.json()},async updateWeeklyAllocation(e,t){const r=await fetch(`${Xt}/weekly-allocations/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update weekly allocation");return r.json()},async deleteWeeklyAllocation(e){if(!(await fetch(`${Xt}/weekly-allocations/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete weekly allocation")}};T6.registerModules([aL]);function mz(){const[e,t]=U.useState(null),[r,n]=U.useState([]),[i,s]=U.useState([]),[o,a]=U.useState([]),[l,c]=U.useState("resource-plan"),[u,h]=U.useState(!0),[d,f]=U.useState(null);U.useEffect(()=>{p()},[]);const p=async()=>{try{h(!0),f(null);const G=await cr.getProjects();let D;G.length===0?D=await cr.createProject({name:"Default Project",description:"Default project for resource planning",daysInFTE:20,clientCurrency:"EUR",exchangeRate:.89}):D=G[0],t(D);const[k,M,R]=await Promise.all([cr.getResourceLists(D.id),cr.getRateCards(D.id),cr.getResourcePlans(D.id)]);n(k),s(M),a(R)}catch(G){f(G instanceof Error?G.message:"Failed to load project data"),console.error("Error loading project data:",G)}finally{h(!1)}},m=async G=>{try{n(G);for(const D of G)D.id&&await cr.updateResourceList(D.id,D)}catch(D){f(D instanceof Error?D.message:"Failed to update resource lists"),console.error("Error updating resource lists:",D)}},g=async G=>{if(e)try{const D=await cr.createResourceList(e.id,G);n(k=>[...k,D])}catch(D){f(D instanceof Error?D.message:"Failed to add resource"),console.error("Error adding resource:",D)}},w=async G=>{try{await cr.deleteResourceList(G),n(D=>D.filter(k=>k.id!==G))}catch(D){f(D instanceof Error?D.message:"Failed to delete resource"),console.error("Error deleting resource:",D)}},v=async G=>{try{s(G);for(const D of G)D.id&&await cr.updateRateCard(D.id,D)}catch(D){f(D instanceof Error?D.message:"Failed to update rate cards"),console.error("Error updating rate cards:",D)}},b=async G=>{if(e)try{console.log("Adding rate card:",G);const D=await cr.createRateCard(e.id,G);s(k=>[...k,D])}catch(D){const k=D instanceof Error?D.message:"Failed to add rate card";throw f(k),console.error("Error adding rate card:",D),D}},E=async G=>{if(!e)throw new Error("No current project available");try{console.log("Adding bulk rate cards:",G);const D=await cr.createRateCardsBulk(e.id,G),k=await cr.getRateCards(e.id);return s(k),D}catch(D){const k=D instanceof Error?D.message:"Failed to add bulk rate cards";throw f(k),console.error("Error adding bulk rate cards:",D),D}},P=async G=>{try{await cr.deleteRateCard(G),s(D=>D.filter(k=>k.id!==G))}catch(D){f(D instanceof Error?D.message:"Failed to delete rate card"),console.error("Error deleting rate card:",D)}},A=async()=>{try{const G=await cr.deleteAllRateCards();s([]),console.log(G.message)}catch(G){f(G instanceof Error?G.message:"Failed to delete rate cards"),console.error("Error deleting rate cards:",G)}},L=async G=>{try{a(G);for(const D of G)if(D.id)try{await cr.updateResourcePlan(D.id,D)}catch(k){console.error(`Failed to update resource plan ${D.id}:`,k)}}catch(D){const k=D instanceof Error?D.message:"Failed to update resource plans";f(k),console.error("Error updating resource plans:",D)}},T=async G=>{if(e)try{const D=await cr.createResourcePlan(e.id,G);a(k=>[...k,D])}catch(D){f(D instanceof Error?D.message:"Failed to add resource plan"),console.error("Error adding resource plan:",D)}},B=async G=>{try{await cr.deleteResourcePlan(G),a(D=>D.filter(k=>k.id!==G))}catch(D){f(D instanceof Error?D.message:"Failed to delete resource plan"),console.error("Error deleting resource plan:",D)}},H=async G=>{if(e)try{const D=await cr.updateProject(e.id,G);t(D)}catch(D){f(D instanceof Error?D.message:"Failed to update project settings"),console.error("Error updating project settings:",D)}};return u?J.jsx("div",{className:"p-6",children:J.jsx("div",{className:"flex items-center justify-center h-64",children:J.jsx("div",{className:"text-lg",children:"Loading project data..."})})}):d?J.jsx("div",{className:"p-6",children:J.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:[J.jsxs("div",{className:"text-red-800 font-medium",children:["Error: ",d]}),J.jsx("button",{onClick:p,className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Retry"})]})}):e?J.jsxs("div",{className:"p-6",children:[J.jsxs("div",{className:"mb-6",children:[J.jsx("h1",{children:"Resource Planning Application"}),J.jsxs("p",{className:"text-muted-foreground",children:["Project: ",e.name]}),e.description&&J.jsx("p",{className:"text-muted-foreground",children:e.description})]}),J.jsxs(fx,{value:l,onValueChange:c,children:[J.jsxs(px,{className:"grid w-full grid-cols-3",children:[J.jsx(an,{value:"resource-plan",children:"Resource Plan"}),J.jsx(an,{value:"resource-list",children:"Resource List"}),J.jsx(an,{value:"rate-card",children:"Rate Card"})]}),J.jsx(yf,{value:"resource-plan",className:"mt-6",children:J.jsx(cz,{project:e,resourceLists:r,resourcePlans:o,onResourcePlansChange:L,onAddResourcePlan:T,onDeleteResourcePlan:B,onProjectSettingsChange:H})}),J.jsx(yf,{value:"resource-list",className:"mt-6",children:J.jsx(dz,{resourceLists:r,onResourceListsChange:m,onAddResourceList:g,onDeleteResourceList:w})}),J.jsx(yf,{value:"rate-card",className:"mt-6",children:J.jsx(gz,{projectId:e.id,rateCards:i,onRateCardsChange:v,onAddRateCard:b,onAddRateCardsBulk:E,onDeleteRateCard:P,onDeleteAllRateCards:A,onAddResourceList:g})})]})]}):J.jsx("div",{className:"p-6",children:J.jsx("div",{className:"text-center",children:J.jsx("div",{className:"text-lg",children:"No project found"})})})}OC(document.getElementById("root")).render(J.jsx(mz,{}));
